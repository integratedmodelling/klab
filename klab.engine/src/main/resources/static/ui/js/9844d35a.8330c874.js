(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["9844d35a"],{"0300":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("30e3"),o=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null===t||void 0===t)throw new Error(i.NULL_ARGUMENT);if(null===e||void 0===e)throw new Error(i.NULL_ARGUMENT);var n=this._map.get(t);void 0!==n?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error(i.NULL_ARGUMENT);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(i.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error(i.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(i.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var e=this;this._map.forEach(function(n,i){var o=n.filter(function(e){return!t(e)});o.length>0?e._map.set(i,o):e._map.delete(i)})},t.prototype.hasKey=function(t){if(null===t||void 0===t)throw new Error(i.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(t,n){t.forEach(function(t){return e.add(n,t.clone())})}),e},t.prototype.traverse=function(t){this._map.forEach(function(e,n){t(n,e)})},t}();e.Lookup=o},"0332":function(t,e,n){},"0483":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("6923"),r=n("b485"),a=new i.ContainerModule(function(t){t(o.TYPES.MouseListener).to(r.OpenMouseListener)});e.default=a},"04c2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("6923"),r=n("4741"),a=new i.ContainerModule(function(t){t(o.TYPES.IButtonHandler).toConstructor(r.ExpandButtonHandler)});e.default=a},"064a":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("393a"),c=n("e1c6"),u=n("6923"),l=n("302f"),d=n("3864"),f=n("dd02"),h=function(t){function e(e){var n=t.call(this)||this;return n.registerDefaults(),e.forEach(function(t){return n.register(t.type,t.constr)}),n}return i(e,t),e.prototype.registerDefaults=function(){this.register(l.EMPTY_ROOT.type,v)},e.prototype.missing=function(t){return new y},e=o([c.injectable(),a(0,c.multiInject(u.TYPES.ViewRegistration)),a(0,c.optional()),r("design:paramtypes",[Array])],e),e}(d.ProviderRegistry);function p(t,e,n,i){t.bind(u.TYPES.SModelElementRegistration).toConstantValue({type:e,constr:n}),t.bind(u.TYPES.ViewRegistration).toConstantValue({type:e,constr:i})}e.ViewRegistry=h,e.configureModelElement=p;var v=function(){function t(){}return t.prototype.render=function(t,e){return s.svg("svg",{"class-sprotty-empty":!0})},t}();e.EmptyView=v;var y=function(){function t(){}return t.prototype.render=function(t,e){var n=t.position||f.ORIGIN_POINT;return s.svg("text",{"class-sprotty-missing":!0,x:n.x,y:n.y},"?",t.id,"?")},t}();e.MissingView=y},"07d6":function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},"0bd8":function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a=n("e1c6"),s=n("6923"),c=function(){function t(t){this.options=t}return t.prototype.decorate=function(t,e){return t},t.prototype.postUpdate=function(){var t=document.getElementById(this.options.popupDiv);if(null!==t&&"undefined"!==typeof window){var e=t.getBoundingClientRect();window.innerHeight<e.height+e.top&&(t.style.top=window.scrollY+window.innerHeight-e.height-5+"px"),window.innerWidth<e.left+e.width&&(t.style.left=window.scrollX+window.innerWidth-e.width-5+"px"),e.left<0&&(t.style.left="0px"),e.top<0&&(t.style.top="0px")}},t=i([a.injectable(),r(0,a.inject(s.TYPES.ViewerOptions)),o("design:paramtypes",[Object])],t),t}();e.PopupPositionUpdater=c},"0be1":function(t,e,n){"use strict";function i(t,e,n){return{red:t,green:e,blue:n}}function o(t){return"rgb("+t.red+","+t.green+","+t.blue+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.rgb=i,e.toSVG=o;var r=function(){function t(t){this.stops=t}return t.prototype.getColor=function(t){t=Math.max(0,Math.min(.99999999,t));var e=Math.floor(t*this.stops.length);return this.stops[e]},t}();e.ColorMap=r},"0d7a":function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a=n("e1c6"),s=n("6923"),c=function(){function t(t){this.viewerOptions=t}return t.prototype.getPrefix=function(){var t=void 0!==this.viewerOptions&&void 0!==this.viewerOptions.baseDiv?this.viewerOptions.baseDiv+"_":"";return t},t.prototype.createUniqueDOMElementId=function(t){return this.getPrefix()+t.id},t.prototype.findSModelIdByDOMElement=function(t){return t.id.replace(this.getPrefix(),"")},t=i([a.injectable(),r(0,a.inject(s.TYPES.ViewerOptions)),o("design:paramtypes",[Object])],t),t}();e.DOMHelper=c},"0f4c":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("c146"),r=function(t){function e(e,n,i,o){void 0===o&&(o=!1);var r=t.call(this,i)||this;return r.model=e,r.elementResizes=n,r.reverse=o,r}return i(e,t),e.prototype.tween=function(t){var e=this;return this.elementResizes.forEach(function(n){var i=n.element,o=e.reverse?{width:(1-t)*n.toDimension.width+t*n.fromDimension.width,height:(1-t)*n.toDimension.height+t*n.fromDimension.height}:{width:(1-t)*n.fromDimension.width+t*n.toDimension.width,height:(1-t)*n.fromDimension.height+t*n.toDimension.height};i.bounds={x:i.bounds.x,y:i.bounds.y,width:o.width,height:o.height}}),this.model},e}(o.Animation);e.ResizeAnimation=r},"0fb6":function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a=n("e1c6"),s=n("6923"),c=n("302f"),u=n("538c"),l=n("3f0a"),d=n("c20e"),f=n("510b"),h=n("be02"),p=function(){function t(t,e,n,i){this.actionHandlerRegistry=t,this.commandStack=e,this.logger=n,this.syncer=i,this.postponedActions=[],this.postponedActions=[];var o=new l.SetModelCommand(new l.SetModelAction(c.EMPTY_ROOT));this.blockUntil=o.blockUntil,this.commandStack.execute(o)}return t.prototype.dispatchAll=function(t){var e=this;return Promise.all(t.map(function(t){return e.dispatch(t)}))},t.prototype.dispatch=function(t){return void 0!==this.blockUntil?this.handleBlocked(t,this.blockUntil):t.kind===d.UndoAction.KIND?this.commandStack.undo().then(function(){}):t.kind===d.RedoAction.KIND?this.commandStack.redo().then(function(){}):this.handleAction(t)},t.prototype.handleAction=function(t){this.logger.log(this,"handle",t);var e=this.actionHandlerRegistry.get(t.kind);if(e.length>0){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i],a=r.handle(t);f.isAction(a)?n.push(this.dispatch(a)):void 0!==a&&(n.push(this.commandStack.execute(a)),this.blockUntil=a.blockUntil)}return Promise.all(n)}return this.logger.warn(this,"Missing handler for action",t),Promise.reject("Missing handler for action '"+t.kind+"'")},t.prototype.handleBlocked=function(t,e){var n=this;if(e(t)){this.blockUntil=void 0;var i=this.handleAction(t),o=this.postponedActions;this.postponedActions=[];for(var r=0,a=o;r<a.length;r++){var s=a[r];this.dispatch(s.action).then(s.resolve,s.reject)}return i}return this.logger.log(this,"Action is postponed due to block condition",t),new Promise(function(e,i){n.postponedActions.push({action:t,resolve:e,reject:i})})},t=i([a.injectable(),r(0,a.inject(s.TYPES.ActionHandlerRegistry)),r(1,a.inject(s.TYPES.ICommandStack)),r(2,a.inject(s.TYPES.ILogger)),r(3,a.inject(s.TYPES.AnimationFrameSyncer)),o("design:paramtypes",[h.ActionHandlerRegistry,Object,Object,u.AnimationFrameSyncer])],t),t}();e.ActionDispatcher=p},"0fd9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e801"),o=n("e34e"),r=n("cf81"),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new r.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new o.BindingOnSyntax(this._binding),this._bindingInSyntax=new i.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingInWhenOnSyntax=a},1417:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a=n("e1c6"),s=n("6923"),c=n("3a92"),u=n("e45b"),l=function(){function t(t,e){void 0===e&&(e=[]),this.actionDispatcher=t,this.keyListeners=e}return t.prototype.register=function(t){this.keyListeners.push(t)},t.prototype.deregister=function(t){var e=this.keyListeners.indexOf(t);e>=0&&this.keyListeners.splice(e,1)},t.prototype.handleEvent=function(t,e,n){var i=this.keyListeners.map(function(i){return i[t].apply(i,[e,n])}).reduce(function(t,e){return t.concat(e)});i.length>0&&(n.preventDefault(),this.actionDispatcher.dispatchAll(i))},t.prototype.keyDown=function(t,e){this.handleEvent("keyDown",t,e)},t.prototype.focus=function(){},t.prototype.decorate=function(t,e){return e instanceof c.SModelRoot&&(u.on(t,"focus",this.focus.bind(this),e),u.on(t,"keydown",this.keyDown.bind(this),e)),t},t.prototype.postUpdate=function(){},t=i([a.injectable(),r(0,a.inject(s.TYPES.IActionDispatcher)),r(1,a.multiInject(s.TYPES.KeyListener)),r(1,a.optional()),o("design:paramtypes",[Object,Array])],t),t}();e.KeyTool=l;var d=function(){function t(){}return t.prototype.keyDown=function(t,e){return[]},t=i([a.injectable()],t),t}();e.KeyListener=d},"155f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={Request:"Request",Singleton:"Singleton",Transient:"Transient"};e.BindingScopeEnum=i;var o={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};e.BindingTypeEnum=o;var r={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};e.TargetTypeEnum=r},"160b":function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i["throw"](t))}catch(t){r(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var u=n("e1c6"),l=n("6923"),d=n("302f"),f=n("538c"),h=n("9757"),p=function(){function t(t,e,n,i,o){this.modelFactory=t,this.viewerProvider=e,this.logger=n,this.syncer=i,this.options=o,this.undoStack=[],this.redoStack=[],this.offStack=[],this.currentPromise=Promise.resolve({root:t.createRoot(d.EMPTY_ROOT),hiddenRoot:void 0,popupRoot:void 0,rootChanged:!1,hiddenRootChanged:!1,popupChanged:!1})}return Object.defineProperty(t.prototype,"currentModel",{get:function(){return this.currentPromise.then(function(t){return t.root})},enumerable:!0,configurable:!0}),t.prototype.executeAll=function(t){var e=this;return t.forEach(function(t){e.logger.log(e,"Executing",t),e.handleCommand(t,t.execute,e.mergeOrPush)}),this.thenUpdate()},t.prototype.execute=function(t){return this.logger.log(this,"Executing",t),this.handleCommand(t,t.execute,this.mergeOrPush),this.thenUpdate()},t.prototype.undo=function(){var t=this;this.undoOffStackSystemCommands(),this.undoPreceedingSystemCommands();var e=this.undoStack.pop();return void 0!==e&&(this.logger.log(this,"Undoing",e),this.handleCommand(e,e.undo,function(e,n){t.redoStack.push(e)})),this.thenUpdate()},t.prototype.redo=function(){var t=this;this.undoOffStackSystemCommands();var e=this.redoStack.pop();return void 0!==e&&(this.logger.log(this,"Redoing",e),this.handleCommand(e,e.redo,function(e,n){t.pushToUndoStack(e)})),this.redoFollowingSystemCommands(),this.thenUpdate()},t.prototype.handleCommand=function(t,e,n){var o=this;this.currentPromise=this.currentPromise.then(function(r){return new Promise(function(a,s){var c,u=o.createContext(r.root);try{c=e.call(t,u)}catch(t){o.logger.error(o,"Failed to execute command:",t),c=r.root}t instanceof h.HiddenCommand?a(i({},r,{hiddenRoot:c,hiddenRootChanged:!0})):t instanceof h.PopupCommand?a(i({},r,{popupRoot:c,popupChanged:!0})):c instanceof Promise?c.then(function(e){n.call(o,t,u),a(i({},r,{root:e,rootChanged:!0}))}):(n.call(o,t,u),a(i({},r,{root:c,rootChanged:!0})))})})},t.prototype.pushToUndoStack=function(t){this.undoStack.push(t),this.options.undoHistoryLimit>=0&&this.undoStack.length>this.options.undoHistoryLimit&&this.undoStack.splice(0,this.undoStack.length-this.options.undoHistoryLimit)},t.prototype.thenUpdate=function(){var t=this;return this.currentPromise=this.currentPromise.then(function(e){return s(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return e.hiddenRootChanged&&void 0!==e.hiddenRoot?[4,this.updateHidden(e.hiddenRoot)]:[3,2];case 1:t.sent(),t.label=2;case 2:return e.rootChanged?[4,this.update(e.root)]:[3,4];case 3:t.sent(),t.label=4;case 4:return e.popupChanged&&void 0!==e.popupRoot?[4,this.updatePopup(e.popupRoot)]:[3,6];case 5:t.sent(),t.label=6;case 6:return[2,{root:e.root,hiddenRoot:void 0,popupRoot:void 0,rootChanged:!1,hiddenRootChanged:!1,popupChanged:!1}]}})})}),this.currentModel},t.prototype.update=function(t){return s(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return void 0!==this.viewer?[3,2]:(e=this,[4,this.viewerProvider()]);case 1:e.viewer=n.sent(),n.label=2;case 2:return this.viewer.update(t),[2]}})})},t.prototype.updateHidden=function(t){return s(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return void 0!==this.viewer?[3,2]:(e=this,[4,this.viewerProvider()]);case 1:e.viewer=n.sent(),n.label=2;case 2:return this.viewer.updateHidden(t),[2]}})})},t.prototype.updatePopup=function(t){return s(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return void 0!==this.viewer?[3,2]:(e=this,[4,this.viewerProvider()]);case 1:e.viewer=n.sent(),n.label=2;case 2:return this.viewer.updatePopup(t),[2]}})})},t.prototype.mergeOrPush=function(t,e){var n=this;if(!(t instanceof h.HiddenCommand))if(t instanceof h.SystemCommand&&this.redoStack.length>0)this.offStack.push(t);else{if(this.offStack.forEach(function(t){return n.undoStack.push(t)}),this.offStack=[],this.redoStack=[],this.undoStack.length>0){var i=this.undoStack[this.undoStack.length-1];if(i instanceof h.MergeableCommand&&i.merge(t,e))return}this.pushToUndoStack(t)}},t.prototype.undoOffStackSystemCommands=function(){var t=this.offStack.pop();while(void 0!==t)this.logger.log(this,"Undoing off-stack",t),this.handleCommand(t,t.undo,function(){}),t=this.offStack.pop()},t.prototype.undoPreceedingSystemCommands=function(){var t=this,e=this.undoStack[this.undoStack.length-1];while(void 0!==e&&e instanceof h.SystemCommand)this.undoStack.pop(),this.logger.log(this,"Undoing",e),this.handleCommand(e,e.undo,function(e,n){t.redoStack.push(e)}),e=this.undoStack[this.undoStack.length-1]},t.prototype.redoFollowingSystemCommands=function(){var t=this,e=this.redoStack[this.redoStack.length-1];while(void 0!==e&&e instanceof h.SystemCommand)this.redoStack.pop(),this.logger.log(this,"Redoing ",e),this.handleCommand(e,e.redo,function(e,n){t.pushToUndoStack(e)}),e=this.redoStack[this.redoStack.length-1]},t.prototype.createContext=function(t){return{root:t,modelChanged:this,modelFactory:this.modelFactory,duration:this.options.defaultDuration,logger:this.logger,syncer:this.syncer}},t=o([u.injectable(),a(0,u.inject(l.TYPES.IModelFactory)),a(1,u.inject(l.TYPES.IViewerProvider)),a(2,u.inject(l.TYPES.ILogger)),a(3,u.inject(l.TYPES.AnimationFrameSyncer)),a(4,u.inject(l.TYPES.CommandStackOptions)),r("design:paramtypes",[Object,Function,Object,f.AnimationFrameSyncer,Object])],t),t}();e.CommandStack=p},1979:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("c5f4"),o=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===i.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();e.Metadata=o},"19b5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("393a"),o=n("9964"),r=n("3623"),a=function(){function t(){}return t.prototype.render=function(t,e){var n=r.findParentByFeature(t,o.isExpandable),a=void 0!==n&&n.expanded?"M 1,5 L 8,12 L 15,5 Z":"M 1,8 L 8,15 L 8,1 Z";return i.svg("g",{"class-sprotty-button":"{true}","class-enabled":"{button.enabled}"},i.svg("rect",{x:0,y:0,width:16,height:16,opacity:0}),i.svg("path",{d:a}))},t}();e.ExpandButtonView=a},"1cd9":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("e1c6"),c=n("9757"),u=n("4c18"),l=n("3a92"),d=n("1417"),f=n("b669"),h=n("7faf"),p=n("5d19"),v=n("302f"),y=n("5eb6"),g=n("e4f0"),m=n("6923"),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.keyDown=function(t,e){return f.matchesKeystroke(e,"KeyE","ctrlCmd","shift")?[new _]:[]},e=o([s.injectable()],e),e}(d.KeyListener);e.ExportSvgKeyListener=b;var _=function(){function t(){this.kind=w.KIND}return t}();e.RequestExportSvgAction=_;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(t){if(h.isExportable(t.root)){var e=t.modelFactory.createRoot(t.modelFactory.createSchema(t.root));if(h.isExportable(e))return e.export=!0,y.isViewport(e)&&(e.zoom=1,e.scroll={x:0,y:0}),e.index.all().forEach(function(t){u.isSelectable(t)&&t.selected&&(t.selected=!1),g.isHoverable(t)&&t.hoverFeedback&&(t.hoverFeedback=!1)}),e}return t.modelFactory.createRoot(v.EMPTY_ROOT)},e.KIND="requestExportSvg",e}(c.HiddenCommand);e.ExportSvgCommand=w;var S=function(){function t(t){this.svgExporter=t}return t.prototype.decorate=function(t,e){return e instanceof l.SModelRoot&&(this.root=e),t},t.prototype.postUpdate=function(){this.root&&h.isExportable(this.root)&&this.root.export&&this.svgExporter.export(this.root)},t=o([s.injectable(),a(0,s.inject(m.TYPES.SvgExporter)),r("design:paramtypes",[p.SvgExporter])],t),t}();e.ExportSvgDecorator=S},"1e19":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("6923"),r=n("ed4f"),a=n("c444"),s=n("cf98"),c=n("fe37"),u=new i.ContainerModule(function(t){t(o.TYPES.ICommand).toConstructor(r.CenterCommand),t(o.TYPES.ICommand).toConstructor(r.FitToScreenCommand),t(o.TYPES.ICommand).toConstructor(a.ViewportCommand),t(o.TYPES.KeyListener).to(r.CenterKeyboardListener),t(o.TYPES.MouseListener).to(s.ScrollMouseListener),t(o.TYPES.MouseListener).to(c.ZoomMouseListener)});e.default=u},"1e94":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.of=function(e,n){var i=new t;return i.bindings=e,i.middleware=n,i},t}();e.ContainerSnapshot=i},"1f0f":function(t,e,n){},"1f89":function(t,e,n){"use strict";function i(t){return t.hasFeature(e.openFeature)}Object.defineProperty(e,"__esModule",{value:!0}),e.openFeature=Symbol("openFeature"),e.isOpenable=i},"218d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("393a"),o=n("47b7"),r=function(){function t(){}return t.prototype.render=function(t,e){var n="scale("+t.zoom+") translate("+-t.scroll.x+","+-t.scroll.y+")";return i.svg("svg",null,i.svg("g",{transform:n},e.renderChildren(t)))},t}();e.SvgViewportView=r;var a=function(){function t(){}return t.prototype.render=function(t,e){var n=this.getRadius(t);return i.svg("g",null,i.svg("circle",{"class-sprotty-node":t instanceof o.SNode,"class-sprotty-port":t instanceof o.SPort,"class-mouseover":t.hoverFeedback,"class-selected":t.selected,r:n,cx:n,cy:n}),e.renderChildren(t))},t.prototype.getRadius=function(t){var e=Math.min(t.size.width,t.size.height);return e>0?e/2:0},t}();e.CircularNodeView=a;var s=function(){function t(){}return t.prototype.render=function(t,e){return i.svg("g",null,i.svg("rect",{"class-sprotty-node":t instanceof o.SNode,"class-sprotty-port":t instanceof o.SPort,"class-mouseover":t.hoverFeedback,"class-selected":t.selected,x:"0",y:"0",width:Math.max(t.size.width,0),height:Math.max(t.size.height,0)}),e.renderChildren(t))},t}();e.RectangularNodeView=s},2440:function(t,e,n){var i,o=o||function(t){"use strict";if(!("undefined"===typeof t||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in i,r=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",l=4e4,d=function(t){var e=function(){"string"===typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,l)},f=function(t,e,n){e=[].concat(e);var i=e.length;while(i--){var o=t["on"+e[i]];if("function"===typeof o)try{o.call(t,n||t)}catch(t){c(t)}}},h=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},p=function(e,c,l){l||(e=h(e));var p,v=this,y=e.type,g=y===u,m=function(){f(v,"writestart progress write writeend".split(" "))},b=function(){if((s||g&&a)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=s?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=t.open(e,"_blank");n||(t.location.href=e),e=void 0,v.readyState=v.DONE,m()},i.readAsDataURL(e),void(v.readyState=v.INIT)}if(p||(p=n().createObjectURL(e)),g)t.location.href=p;else{var o=t.open(p,"_blank");o||(t.location.href=p)}v.readyState=v.DONE,m(),d(p)};if(v.readyState=v.INIT,o)return p=n().createObjectURL(e),void setTimeout(function(){i.href=p,i.download=c,r(i),m(),d(p),v.readyState=v.DONE});b()},v=p.prototype,y=function(t,e,n){return new p(t,e||t.name||"download",n)};return"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=h(t)),navigator.msSaveOrOpenBlob(t,e)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,y)}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */t.exports?t.exports.saveAs=o:null!==n("07d6")&&null!==n("3c35")&&(i=function(){return o}.call(e,n,e,t),void 0===i||(t.exports=i))},"26ad":function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a=n("e1c6"),s=n("6923"),c=n("be02"),u=n("3f0a"),l=n("5d19"),d=function(){function t(t,e,n){this.actionDispatcher=t,this.viewerOptions=n,this.initialize(e)}return t.prototype.initialize=function(t){t.registerCommand(u.SetModelCommand),t.register(u.RequestModelAction.KIND,this),t.register(l.ExportSvgAction.KIND,this)},t=i([a.injectable(),r(0,a.inject(s.TYPES.IActionDispatcher)),r(1,a.inject(s.TYPES.ActionHandlerRegistry)),r(2,a.inject(s.TYPES.ViewerOptions)),o("design:paramtypes",[Object,c.ActionHandlerRegistry,Object])],t),t}();e.ModelSource=d},"29fa":function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a=n("393a"),s=n("dd7b"),c=n("6af2"),u=n("ff70"),l=n("9016"),d=n("6907"),f=n("f923"),h=n("e1c6"),p=n("6923"),v=n("dd02"),y=n("33b2"),g=n("e45b"),m=n("8d53"),b=n("302f"),_=function(){function t(t,e){this.viewRegistry=t,this.decorators=e}return t.prototype.decorate=function(t,e){return m.isThunk(t)?t:this.decorators.reduce(function(t,n){return n.decorate(t,e)},t)},t.prototype.renderElement=function(t,e){var n=this.viewRegistry.get(t.type,void 0).render(t,this,e);return this.decorate(n,t)},t.prototype.renderChildren=function(t,e){var n=this;return t.children.map(function(t){return n.renderElement(t,e)})},t.prototype.postUpdate=function(){this.decorators.forEach(function(t){return t.postUpdate()})},t}();e.ModelRenderer=_;var w=function(){function t(t,e,n,i,o,r,a){var s=this;this.decorators=e,this.hiddenDecorators=n,this.popupDecorators=i,this.options=o,this.logger=r,this.actiondispatcher=a,this.onWindowResize=function(t){var e=document.getElementById(s.options.baseDiv);if(null!==e){var n=s.getBoundsInPage(e);s.actiondispatcher.dispatch(new y.InitializeCanvasBoundsAction(n))}},this.patcher=this.createPatcher(),this.renderer=t(e),this.hiddenRenderer=t(n),this.popupRenderer=t(i)}return t.prototype.createModules=function(){return[c.propsModule,u.attributesModule,f.classModule,l.styleModule,d.eventListenersModule]},t.prototype.createPatcher=function(){return s.init(this.createModules())},t.prototype.getBoundsInPage=function(t){var e=t.getBoundingClientRect(),n="undefined"!==typeof window?{x:window.scrollX,y:window.scrollY}:v.ORIGIN_POINT;return{x:e.left+n.x,y:e.top+n.y,width:e.width,height:e.height}},t.prototype.update=function(t){var e=this;this.logger.log(this,"rendering",t);var n=a.html("div",{id:this.options.baseDiv},this.renderer.renderElement(t));if(void 0!==this.lastVDOM){var i=this.hasFocus();g.copyClassesFromVNode(this.lastVDOM,n),this.lastVDOM=this.patcher.call(this,this.lastVDOM,n),this.restoreFocus(i)}else if("undefined"!==typeof document){var o=document.getElementById(this.options.baseDiv);null!==o?("undefined"!==typeof window&&window.addEventListener("resize",function(){e.onWindowResize(n)}),g.copyClassesFromElement(o,n),g.setClass(n,this.options.baseClass,!0),this.lastVDOM=this.patcher.call(this,o,n)):this.logger.error(this,"element not in DOM:",this.options.baseDiv)}this.renderer.postUpdate()},t.prototype.hasFocus=function(){if("undefined"!==typeof document&&document.activeElement&&this.lastVDOM.children&&this.lastVDOM.children.length>0){var t=this.lastVDOM.children[0];if("object"===typeof t){var e=t.elm;return document.activeElement===e}}return!1},t.prototype.restoreFocus=function(t){if(t&&this.lastVDOM.children&&this.lastVDOM.children.length>0){var e=this.lastVDOM.children[0];if("object"===typeof e){var n=e.elm;n&&"function"===typeof n.focus&&n.focus()}}},t.prototype.updateHidden=function(t){var e;if(this.logger.log(this,"rendering hidden"),t.type===b.EMPTY_ROOT.type)e=a.html("div",{id:this.options.hiddenDiv});else{var n=this.hiddenRenderer.renderElement(t);g.setAttr(n,"opacity",0),e=a.html("div",{id:this.options.hiddenDiv},n)}if(void 0!==this.lastHiddenVDOM)g.copyClassesFromVNode(this.lastHiddenVDOM,e),this.lastHiddenVDOM=this.patcher.call(this,this.lastHiddenVDOM,e);else{var i=document.getElementById(this.options.hiddenDiv);null===i?(i=document.createElement("div"),document.body.appendChild(i)):g.copyClassesFromElement(i,e),g.setClass(e,this.options.baseClass,!0),g.setClass(e,this.options.hiddenClass,!0),this.lastHiddenVDOM=this.patcher.call(this,i,e)}this.hiddenRenderer.postUpdate()},t.prototype.updatePopup=function(t){this.logger.log(this,"rendering popup",t);var e,n=t.type===b.EMPTY_ROOT.type;if(n)e=a.html("div",{id:this.options.popupDiv});else{var i=t.canvasBounds,o={top:i.y+"px",left:i.x+"px"};e=a.html("div",{id:this.options.popupDiv,style:o},this.popupRenderer.renderElement(t))}if(void 0!==this.lastPopupVDOM)g.copyClassesFromVNode(this.lastPopupVDOM,e),g.setClass(e,this.options.popupClosedClass,n),this.lastPopupVDOM=this.patcher.call(this,this.lastPopupVDOM,e);else if("undefined"!==typeof document){var r=document.getElementById(this.options.popupDiv);null===r?(r=document.createElement("div"),document.body.appendChild(r)):g.copyClassesFromElement(r,e),g.setClass(e,this.options.popupClass,!0),g.setClass(e,this.options.popupClosedClass,n),this.lastPopupVDOM=this.patcher.call(this,r,e)}this.popupRenderer.postUpdate()},t=i([h.injectable(),r(0,h.inject(p.TYPES.ModelRendererFactory)),r(1,h.multiInject(p.TYPES.IVNodeDecorator)),r(1,h.optional()),r(2,h.multiInject(p.TYPES.HiddenVNodeDecorator)),r(2,h.optional()),r(3,h.multiInject(p.TYPES.PopupVNodeDecorator)),r(3,h.optional()),r(4,h.inject(p.TYPES.ViewerOptions)),r(5,h.inject(p.TYPES.ILogger)),r(6,h.inject(p.TYPES.IActionDispatcher)),o("design:paramtypes",[Function,Array,Array,Array,Object,Object,Object])],t),t}();e.Viewer=w},"2b54":function(t,e,n){"use strict";var i=n("e7ed"),o=n.n(i);o.a},"2cac":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e34e"),o=n("cf81"),r=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingWhenOnSyntax=r},"2e0b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("155f"),o=n("77d3"),r=function(){function t(t,e){this.id=o.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=i.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}();e.Binding=r},"2eed":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("81aa"),o=n("6b35");function r(t,e,n){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==e)for(var i=0;i<e.length;++i){var o=e[i].data;void 0!==o&&r(o,e[i].children,e[i].sel)}}function a(t,e,n){var a,s,c,u={};if(void 0!==n?(u=e,o.array(n)?a=n:o.primitive(n)?s=n:n&&n.sel&&(a=[n])):void 0!==e&&(o.array(e)?a=e:o.primitive(e)?s=e:e&&e.sel?a=[e]:u=e),void 0!==a)for(c=0;c<a.length;++c)o.primitive(a[c])&&(a[c]=i.vnode(void 0,void 0,void 0,a[c],void 0));return"s"!==t[0]||"v"!==t[1]||"g"!==t[2]||3!==t.length&&"."!==t[3]&&"#"!==t[3]||r(u,a,t),i.vnode(t,u,a,s,void 0)}e.h=a,e.default=a},"302f":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("e1c6"),c=n("6923"),u=n("3864"),l=n("3a92"),d=function(){function t(t){this.registry=t}return t.prototype.createElement=function(t,e){var n;if(this.registry.hasKey(t.type)){var i=this.registry.get(t.type,void 0);if(!(i instanceof l.SChildElement))throw new Error("Element with type "+t.type+" was expected to be an SChildElement.");n=i}else n=new l.SChildElement;return this.initializeChild(n,t,e)},t.prototype.createRoot=function(t){var e;if(this.registry.hasKey(t.type)){var n=this.registry.get(t.type,void 0);if(!(n instanceof l.SModelRoot))throw new Error("Element with type "+t.type+" was expected to be an SModelRoot.");e=n}else e=new l.SModelRoot;return this.initializeRoot(e,t)},t.prototype.createSchema=function(t){var e=this,n={};for(var i in t)if(!this.isReserved(t,i)){var o=t[i];"function"!==typeof o&&(n[i]=o)}return t instanceof l.SParentElement&&(n["children"]=t.children.map(function(t){return e.createSchema(t)})),n},t.prototype.initializeElement=function(t,e){for(var n in e)if(!this.isReserved(t,n)){var i=e[n];"function"!==typeof i&&(t[n]=i)}return t},t.prototype.isReserved=function(t,e){if(["children","parent","index"].indexOf(e)>=0)return!0;var n=t;do{var i=Object.getOwnPropertyDescriptor(n,e);if(void 0!==i)return void 0!==i.get;n=Object.getPrototypeOf(n)}while(n);return!1},t.prototype.initializeParent=function(t,e){var n=this;return this.initializeElement(t,e),l.isParent(e)&&(t.children=e.children.map(function(e){return n.createElement(e,t)})),t},t.prototype.initializeChild=function(t,e,n){return this.initializeParent(t,e),void 0!==n&&(t.parent=n),t},t.prototype.initializeRoot=function(t,e){return this.initializeParent(t,e),t.index.add(t),t},t=o([s.injectable(),a(0,s.inject(c.TYPES.SModelRegistry)),r("design:paramtypes",[f])],t),t}();e.SModelFactory=d,e.EMPTY_ROOT=Object.freeze({type:"NONE",id:"EMPTY"});var f=function(t){function e(e){var n=t.call(this)||this;return e.forEach(function(t){return n.register(t.type,t.constr)}),n}return i(e,t),e=o([s.injectable(),a(0,s.multiInject(c.TYPES.SModelElementRegistration)),a(0,s.optional()),r("design:paramtypes",[Array])],e),e}(u.ProviderRegistry);e.SModelRegistry=f},"30e3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",e.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]},e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},"320b":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("e1c6"),c=n("6923"),u=n("3864"),l=n("dd02"),d=n("66f9"),f=n("da84"),h=n("4b75"),p=n("ac2a"),v=function(t){function e(){var e=t.call(this)||this;return e.register(f.VBoxLayouter.KIND,new f.VBoxLayouter),e.register(h.HBoxLayouter.KIND,new h.HBoxLayouter),e.register(p.StackLayouter.KIND,new p.StackLayouter),e}return i(e,t),e}(u.InstanceRegistry);e.LayoutRegistry=v;var y=function(){function t(t,e){this.layoutRegistry=t,this.logger=e}return t.prototype.layout=function(t){new g(t,this.layoutRegistry,this.logger).layout()},t=o([s.injectable(),a(0,s.inject(c.TYPES.LayoutRegistry)),a(1,s.inject(c.TYPES.ILogger)),r("design:paramtypes",[v,Object])],t),t}();e.Layouter=y;var g=function(){function t(t,e,n){var i=this;this.element2boundsData=t,this.layoutRegistry=e,this.log=n,this.toBeLayouted=[],t.forEach(function(t,e){d.isLayoutContainer(e)&&i.toBeLayouted.push(e)})}return t.prototype.getBoundsData=function(t){var e=this.element2boundsData.get(t),n=t.bounds;return d.isLayoutContainer(t)&&this.toBeLayouted.indexOf(t)>=0&&(n=this.doLayout(t)),e||(e={bounds:n,boundsChanged:!1,alignmentChanged:!1},this.element2boundsData.set(t,e)),e},t.prototype.layout=function(){while(this.toBeLayouted.length>0){var t=this.toBeLayouted[0];this.doLayout(t)}},t.prototype.doLayout=function(t){var e=this.toBeLayouted.indexOf(t);e>=0&&this.toBeLayouted.splice(e,1);var n=this.layoutRegistry.get(t.layout);n&&n.layout(t,this);var i=this.element2boundsData.get(t);return void 0!==i&&void 0!==i.bounds?i.bounds:(this.log.error(t,"Layout failed"),l.EMPTY_BOUNDS)},t}();e.StatefulLayouter=g},"33b2":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("e1c6"),c=n("6923"),u=n("dd02"),l=n("3a92"),d=n("9757"),f=function(){function t(t){this.actionDispatcher=t}return t.prototype.decorate=function(t,e){return e instanceof l.SModelRoot&&!u.isValidDimension(e.canvasBounds)&&(this.rootAndVnode=[e,t]),t},t.prototype.postUpdate=function(){if(void 0!==this.rootAndVnode){var t=this.rootAndVnode[1].elm,e=this.rootAndVnode[0].canvasBounds;if(void 0!==t){var n=this.getBoundsInPage(t);u.almostEquals(n.x,e.x)&&u.almostEquals(n.y,e.y)&&u.almostEquals(n.width,e.width)&&u.almostEquals(n.height,e.width)||this.actionDispatcher.dispatch(new h(n))}this.rootAndVnode=void 0}},t.prototype.getBoundsInPage=function(t){var e=t.getBoundingClientRect(),n="undefined"!==typeof window?{x:window.scrollX,y:window.scrollY}:u.ORIGIN_POINT;return{x:e.left+n.x,y:e.top+n.y,width:e.width,height:e.height}},t=o([s.injectable(),a(0,s.inject(c.TYPES.IActionDispatcher)),r("design:paramtypes",[Object])],t),t}();e.CanvasBoundsInitializer=f;var h=function(){function t(t){this.newCanvasBounds=t,this.kind=p.KIND}return t}();e.InitializeCanvasBoundsAction=h;var p=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n}return i(e,t),e.prototype.execute=function(t){return this.newCanvasBounds=this.action.newCanvasBounds,t.root.canvasBounds=this.newCanvasBounds,t.root},e.prototype.undo=function(t){return t.root},e.prototype.redo=function(t){return t.root},e.KIND="initializeCanvasBounds",e}(d.SystemCommand);e.InitializeCanvasBoundsCommand=p},"359b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("393a"),o=n("e45b"),r=function(){function t(){}return t.prototype.render=function(t,e){for(var n=i.html("div",null,e.renderChildren(t)),r=0,a=t.classes;r<a.length;r++){var s=a[r];o.setClass(n,s,!0)}return n},t}();e.HtmlRootView=r},3623:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("3a92");function o(t){if(!t.type)return"";var e=t.type.indexOf(":");return e>=0?t.type.substring(0,e):t.type}function r(t){if(!t.type)return"";var e=t.type.indexOf(":");return e>=0?t.type.substring(e+1):t.type}function a(t,e){if(t.id===e)return t;if(void 0!==t.children)for(var n=0,i=t.children;n<i.length;n++){var o=i[n],r=a(o,e);if(void 0!==r)return r}}function s(t,e){var n=t;while(void 0!==n){if(e(n))return n;n=n instanceof i.SChildElement?n.parent:void 0}return n}function c(t,e){var n=t;while(void 0!==n){if(e(n))return n;n=n instanceof i.SChildElement?n.parent:void 0}return n}function u(t,e,n){if(e!==n){while(e instanceof i.SChildElement)if(t=e.localToParent(t),e=e.parent,e===n)return t;var o=[];while(n instanceof i.SChildElement)o.push(n),n=n.parent;if(e!==n)throw new Error("Incompatible source and target: "+e.id+", "+n.id);for(var r=o.length-1;r>=0;r--)t=o[r].parentToLocal(t)}return t}e.getBasicType=o,e.getSubType=r,e.findElement=a,e.findParent=s,e.findParentByFeature=c,e.translatePoint=u},3672:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("6923"),r=n("a5f4"),a=new i.ContainerModule(function(t){t(o.TYPES.ICommand).toConstructor(r.SwitchEditModeCommand),t(o.TYPES.ICommand).toConstructor(r.MoveRoutingHandleCommand)});e.default=a},"37a9":function(t,e,n){"use strict";var i=n("ddfc"),o=n.n(i);o.a},3864:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n("e1c6"),r=function(){function t(){this.elements=new Map}return t.prototype.register=function(t,e){if(void 0===t)throw new Error("Key is undefined");if(this.hasKey(t))throw new Error("Key is already registered: "+t);this.elements.set(t,e)},t.prototype.deregister=function(t){if(void 0===t)throw new Error("Key is undefined");this.elements.delete(t)},t.prototype.hasKey=function(t){return this.elements.has(t)},t.prototype.get=function(t,e){var n=this.elements.get(t);return n?new n(e):this.missing(t,e)},t.prototype.missing=function(t,e){throw new Error("Unknown registry key: "+t)},t=i([o.injectable()],t),t}();e.ProviderRegistry=r;var a=function(){function t(){this.elements=new Map}return t.prototype.register=function(t,e){if(void 0===t)throw new Error("Key is undefined");if(this.hasKey(t))throw new Error("Key is already registered: "+t);this.elements.set(t,e)},t.prototype.deregister=function(t){if(void 0===t)throw new Error("Key is undefined");this.elements.delete(t)},t.prototype.hasKey=function(t){return this.elements.has(t)},t.prototype.get=function(t){var e=this.elements.get(t);return e||this.missing(t)},t.prototype.missing=function(t){throw new Error("Unknown registry key: "+t)},t=i([o.injectable()],t),t}();e.InstanceRegistry=a;var s=function(){function t(){this.elements=new Map}return t.prototype.register=function(t,e){if(void 0===t)throw new Error("Key is undefined");var n=this.elements.get(t);void 0!==n?n.push(e):this.elements.set(t,[e])},t.prototype.deregisterAll=function(t){if(void 0===t)throw new Error("Key is undefined");this.elements.delete(t)},t.prototype.get=function(t){var e=this.elements.get(t);return void 0!==e?e:[]},t=i([o.injectable()],t),t}();e.MultiInstanceRegistry=s},"38e8":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("66f9"),r=n("7d36"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e}return i(e,t),e.prototype.hasFeature=function(t){return t===o.boundsFeature||t===r.fadeFeature||t===o.layoutableChildFeature},e}(o.SShapeElement);e.SButton=a},"393a":function(t,e,n){"use strict";var i="http://www.w3.org/2000/svg",o=["hook","on","style","class","props","attrs","dataset"],r=Array.prototype.slice;function a(t){return"string"===typeof t||"number"===typeof t||"boolean"===typeof t||"symbol"===typeof t||null===t||void 0===t}function s(t,e,n,i){for(var o={ns:e},r=0,a=i.length;r<a;r++){var s=i[r];t[s]&&(o[s]=t[s])}for(var c in t)if("key"!==c&&"classNames"!==c&&"selector"!==c){var u=c.indexOf("-");u>0?l(c.slice(0,u),c.slice(u+1),t[c]):o[c]||l(n,c,t[c])}return o;function l(t,e,n){var i=o[t]||(o[t]={});i[e]=n}}function c(t,e,n,i,o,r){if(o.selector&&(i+=o.selector),o.classNames){var c=o.classNames;i=i+"."+(Array.isArray(c)?c.join("."):c.replace(/\s+/g,"."))}return{sel:i,data:s(o,t,e,n),children:r.map(function(t){return a(t)?{text:t}:t}),key:o.key}}function u(t,e,n,i,o,r){var a;if("function"===typeof i)a=i(o,r);else if(i&&"function"===typeof i.view)a=i.view(o,r);else{if(!i||"function"!==typeof i.render)throw"JSX tag must be either a string, a function or an object with 'view' or 'render' methods";a=i.render(o,r)}return a.key=o.key,a}function l(t,e,n){for(var i=e,o=t.length;i<o;i++){var r=t[i];Array.isArray(r)?l(r,0,n):n.push(r)}}function d(t){if(t)for(var e=0,n=t.length;e<n;e++)if(Array.isArray(t[e])){var i=t.slice(0,e);l(t,e,i),t=i;break}return t}function f(t,e,n,i,o,r){return o=o||{},r=d(r),"string"===typeof i?c(t,e,n,i,o,r):u(t,e,n,i,o,r)}function h(t,e,n){return function(i,a,s){return(arguments.length>3||!Array.isArray(s))&&(s=r.call(arguments,2)),f(t,e||"props",n||o,i,a,s)}}t.exports={html:h(void 0),svg:h(i,"attrs"),JSX:h}},"3a92":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("dd02"),r=n("e629"),a=function(){function t(){}return Object.defineProperty(t.prototype,"root",{get:function(){var t=this;while(t){if(t instanceof l)return t;t=t instanceof u?t.parent:void 0}throw new Error("Element has no root")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.root.index},enumerable:!0,configurable:!0}),t.prototype.hasFeature=function(t){return!1},t}();function s(t){var e=t.children;return void 0!==e&&e.constructor===Array}e.SModelElement=a,e.isParent=s;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=[],e}return i(e,t),e.prototype.add=function(t,e){var n=this.children;if(void 0===e)n.push(t);else{if(e<0||e>this.children.length)throw new Error("Child index "+e+" out of bounds (0.."+n.length+")");n.splice(e,0,t)}t.parent=this,this.index.add(t)},e.prototype.remove=function(t){var e=this.children,n=e.indexOf(t);if(n<0)throw new Error("No such child "+t.id);e.splice(n,1),delete t.parent,this.index.remove(t)},e.prototype.removeAll=function(t){var e=this,n=this.children;if(void 0!==t){for(var i=n.length-1;i>=0;i--)if(t(n[i])){var o=n.splice(i,1)[0];delete o.parent,this.index.remove(o)}}else n.forEach(function(t){delete t.parent,e.index.remove(t)}),n.splice(0,n.length)},e.prototype.move=function(t,e){var n=this.children,i=n.indexOf(t);if(-1===i)throw new Error("No such child "+t.id);if(e<0||e>n.length-1)throw new Error("Child index "+e+" out of bounds (0.."+n.length+")");n.splice(i,1),n.splice(e,0,t)},e.prototype.localToParent=function(t){return o.isBounds(t)?t:{x:t.x,y:t.y,width:-1,height:-1}},e.prototype.parentToLocal=function(t){return o.isBounds(t)?t:{x:t.x,y:t.y,width:-1,height:-1}},e}(a);e.SParentElement=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(c);e.SChildElement=u;var l=function(t){function e(e){void 0===e&&(e=new h);var n=t.call(this)||this;return n.canvasBounds=o.EMPTY_BOUNDS,Object.defineProperty(n,"index",{value:e,writable:!1}),n}return i(e,t),e}(c);e.SModelRoot=l;var d="0123456789abcdefghijklmnopqrstuvwxyz";function f(t){void 0===t&&(t=8);for(var e="",n=0;n<t;n++)e+=d.charAt(Math.floor(Math.random()*d.length));return e}e.createRandomId=f;var h=function(){function t(){this.id2element=new Map}return t.prototype.add=function(t){if(t.id){if(this.contains(t))throw new Error("Duplicate ID in model: "+t.id)}else do{t.id=f()}while(this.contains(t));if(this.id2element.set(t.id,t),void 0!==t.children&&t.children.constructor===Array)for(var e=0,n=t.children;e<n.length;e++){var i=n[e];this.add(i)}},t.prototype.remove=function(t){if(this.id2element.delete(t.id),void 0!==t.children&&t.children.constructor===Array)for(var e=0,n=t.children;e<n.length;e++){var i=n[e];this.remove(i)}},t.prototype.contains=function(t){return this.id2element.has(t.id)},t.prototype.getById=function(t){return this.id2element.get(t)},t.prototype.getAttachedElements=function(t){return[]},t.prototype.all=function(){return r.mapIterable(this.id2element,function(t){t[0];var e=t[1];return e})},t}();e.SModelIndex=h},"3b4c":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("e1c6"),c=n("6923"),u=n("3a92"),l=n("510b"),d=n("e45b"),f=n("0d7a"),h=function(){function t(t,e,n){void 0===n&&(n=[]),this.actionDispatcher=t,this.domHelper=e,this.mouseListeners=n}return t.prototype.register=function(t){this.mouseListeners.push(t)},t.prototype.deregister=function(t){var e=this.mouseListeners.indexOf(t);e>=0&&this.mouseListeners.splice(e,1)},t.prototype.getTargetElement=function(t,e){var n=e.target,i=t.index;while(n){if(n.id){var o=i.getById(this.domHelper.findSModelIdByDOMElement(n));if(void 0!==o)return o}n=n.parentNode}},t.prototype.handleEvent=function(t,e,n){var i=this;this.focusOnMouseEvent(t,e);var o=this.getTargetElement(e,n);if(o){var r=this.mouseListeners.map(function(e){return e[t].apply(e,[o,n])}).reduce(function(t,e){return t.concat(e)});if(r.length>0){n.preventDefault();for(var a=0,s=r;a<s.length;a++){var c=s[a];l.isAction(c)?this.actionDispatcher.dispatch(c):c.then(function(t){i.actionDispatcher.dispatch(t)})}}}},t.prototype.focusOnMouseEvent=function(t,e){if(document){var n=document.getElementById(this.domHelper.createUniqueDOMElementId(e));"mouseDown"===t&&null!==n&&"function"===typeof n.focus&&n.focus()}},t.prototype.mouseOver=function(t,e){this.handleEvent("mouseOver",t,e)},t.prototype.mouseOut=function(t,e){this.handleEvent("mouseOut",t,e)},t.prototype.mouseEnter=function(t,e){this.handleEvent("mouseEnter",t,e)},t.prototype.mouseLeave=function(t,e){this.handleEvent("mouseLeave",t,e)},t.prototype.mouseDown=function(t,e){this.handleEvent("mouseDown",t,e)},t.prototype.mouseMove=function(t,e){this.handleEvent("mouseMove",t,e)},t.prototype.mouseUp=function(t,e){this.handleEvent("mouseUp",t,e)},t.prototype.wheel=function(t,e){this.handleEvent("wheel",t,e)},t.prototype.doubleClick=function(t,e){this.handleEvent("doubleClick",t,e)},t.prototype.decorate=function(t,e){return e instanceof u.SModelRoot&&(d.on(t,"mouseover",this.mouseOver.bind(this),e),d.on(t,"mouseout",this.mouseOut.bind(this),e),d.on(t,"mouseenter",this.mouseEnter.bind(this),e),d.on(t,"mouseleave",this.mouseLeave.bind(this),e),d.on(t,"mousedown",this.mouseDown.bind(this),e),d.on(t,"mouseup",this.mouseUp.bind(this),e),d.on(t,"mousemove",this.mouseMove.bind(this),e),d.on(t,"wheel",this.wheel.bind(this),e),d.on(t,"contextmenu",function(t,e){e.preventDefault()},e),d.on(t,"dblclick",this.doubleClick.bind(this),e)),t=this.mouseListeners.reduce(function(t,n){return n.decorate(t,e)},t),t},t.prototype.postUpdate=function(){},t=o([s.injectable(),a(0,s.inject(c.TYPES.IActionDispatcher)),a(1,s.inject(c.TYPES.DOMHelper)),a(2,s.multiInject(c.TYPES.MouseListener)),a(2,s.optional()),r("design:paramtypes",[Object,f.DOMHelper,Array])],t),t}();e.MouseTool=h;var p=function(t){function e(e,n,i){void 0===i&&(i=[]);var o=t.call(this,e,n,i)||this;return o.actionDispatcher=e,o.domHelper=n,o.mouseListeners=i,o}return i(e,t),e=o([s.injectable(),a(0,s.inject(c.TYPES.IActionDispatcher)),a(1,s.inject(c.TYPES.DOMHelper)),a(2,s.multiInject(c.TYPES.PopupMouseListener)),a(2,s.optional()),r("design:paramtypes",[Object,f.DOMHelper,Array])],e),e}(h);e.PopupMouseTool=p;var v=function(){function t(){}return t.prototype.mouseOver=function(t,e){return[]},t.prototype.mouseOut=function(t,e){return[]},t.prototype.mouseEnter=function(t,e){return[]},t.prototype.mouseLeave=function(t,e){return[]},t.prototype.mouseDown=function(t,e){return[]},t.prototype.mouseMove=function(t,e){return[]},t.prototype.mouseUp=function(t,e){return[]},t.prototype.wheel=function(t,e){return[]},t.prototype.doubleClick=function(t,e){return[]},t.prototype.decorate=function(t,e){return t},t=o([s.injectable()],t),t}();e.MouseListener=v},"3b62":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("dd02"),r=n("3a92"),a=n("5eb6"),s=n("7faf"),c=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll={x:0,y:0},n.zoom=1,n.export=!1,n}return i(e,t),e.prototype.hasFeature=function(t){return t===a.viewportFeature||t===s.exportFeature},e.prototype.localToParent=function(t){var e={x:(t.x-this.scroll.x)*this.zoom,y:(t.y-this.scroll.y)*this.zoom,width:-1,height:-1};return o.isBounds(t)&&(e.width=t.width*this.zoom,e.height=t.height*this.zoom),e},e.prototype.parentToLocal=function(t){var e={x:t.x/this.zoom+this.scroll.x,y:t.y/this.zoom+this.scroll.y,width:-1,height:-1};return o.isBounds(t)&&o.isValidDimension(t)&&(e.width=t.width/this.zoom,e.height=t.height/this.zoom),e},e}(r.SModelRoot);e.ViewportRootElement=c},"3b74":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("6923"),r=n("c20e"),a=new i.ContainerModule(function(t){t(o.TYPES.KeyListener).to(r.UndoRedoKeyListener)});e.default=a},"3f0a":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("e1c6"),s=n("9757"),c=n("33b2"),u=function(){function t(e){this.options=e,this.kind=t.KIND}return t.KIND="requestModel",t}();e.RequestModelAction=u;var l=function(){function t(t){this.newRoot=t,this.kind=d.KIND}return t}();e.SetModelAction=l;var d=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n}return i(e,t),e.prototype.execute=function(t){return this.oldRoot=t.modelFactory.createRoot(t.root),this.newRoot=t.modelFactory.createRoot(this.action.newRoot),this.newRoot},e.prototype.undo=function(t){return this.oldRoot},e.prototype.redo=function(t){return this.newRoot},Object.defineProperty(e.prototype,"blockUntil",{get:function(){return function(t){return t.kind===c.InitializeCanvasBoundsCommand.KIND}},enumerable:!0,configurable:!0}),e.KIND="setModel",e=o([a.injectable(),r("design:paramtypes",[l])],e),e}(s.Command);e.SetModelCommand=d},4022:function(t,e,n){},4047:function(t,e){t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},"42d6":function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n("510b")),i(n("0fb6")),i(n("be02")),i(n("538c")),i(n("c146")),i(n("987d")),i(n("5e9c")),i(n("160b")),i(n("9757")),i(n("33b2")),i(n("3f0a")),i(n("302f")),i(n("7436")),i(n("3623")),i(n("3a92")),i(n("1417")),i(n("3b4c")),i(n("8d53")),i(n("064a")),i(n("8794")),i(n("65d1")),i(n("29fa")),i(n("d4ec")),i(n("e45b")),i(n("6923"));var o=n("8122");e.defaultModule=o.default,i(n("42f7")),i(n("320b")),i(n("66f9")),i(n("da84")),i(n("4b75")),i(n("ac2a")),i(n("70d9")),i(n("38e8")),i(n("a5f4")),i(n("cc26")),i(n("4741")),i(n("9964")),i(n("19b5")),i(n("1cd9")),i(n("7faf")),i(n("5d19")),i(n("e7fa")),i(n("7d36")),i(n("f4cb")),i(n("e4f0")),i(n("a0af")),i(n("559d")),i(n("b485")),i(n("1f89")),i(n("4c18")),i(n("bcbd")),i(n("c20e")),i(n("d084")),i(n("cf61")),i(n("ed4f")),i(n("5eb6")),i(n("cf98")),i(n("3b62")),i(n("c444")),i(n("fe37"));var r=n("520d");e.moveModule=r.default;var a=n("72dd");e.boundsModule=a.default;var s=n("9811");e.fadeModule=s.default;var c=n("c4e6");e.selectModule=c.default;var u=n("3b74");e.undoRedoModule=u.default;var l=n("1e19");e.viewportModule=l.default;var d=n("c95e");e.hoverModule=d.default;var f=n("3672");e.edgeEditModule=f.default;var h=n("9f8d");e.exportModule=h.default;var p=n("04c2");e.expandModule=p.default;var v=n("0483");e.openModule=v.default;var y=n("54f8");e.buttonModule=y.default,i(n("dfc0")),i(n("47b7")),i(n("6bb9")),i(n("9ad4")),i(n("359b")),i(n("87fa")),i(n("218d")),i(n("945d")),i(n("df60")),i(n("cb6e")),i(n("85ed")),i(n("26ad")),i(n("484b"));var g=n("8e65");e.modelSourceModule=g.default,i(n("ba30")),i(n("fba3")),i(n("0be1")),i(n("dd02")),i(n("9e2e")),i(n("3864"))},"42f7":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("9757"),r=n("66f9"),a=function(){function t(t){this.bounds=t,this.kind=u.KIND}return t}();e.SetBoundsAction=a;var s=function(){function t(t){this.newRoot=t,this.kind=l.KIND}return t}();e.RequestBoundsAction=s;var c=function(){function t(e,n,i){this.bounds=e,this.revision=n,this.alignments=i,this.kind=t.KIND}return t.KIND="computedBounds",t}();e.ComputedBoundsAction=c;var u=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n.bounds=[],n}return i(e,t),e.prototype.execute=function(t){var e=this;return this.action.bounds.forEach(function(n){var i=t.root.index.getById(n.elementId);i&&r.isBoundsAware(i)&&e.bounds.push({element:i,oldBounds:i.bounds,newBounds:n.newBounds})}),this.redo(t)},e.prototype.undo=function(t){return this.bounds.forEach(function(t){return t.element.bounds=t.oldBounds}),t.root},e.prototype.redo=function(t){return this.bounds.forEach(function(t){return t.element.bounds=t.newBounds}),t.root},e.KIND="setBounds",e}(o.SystemCommand);e.SetBoundsCommand=u;var l=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n}return i(e,t),e.prototype.execute=function(t){return t.modelFactory.createRoot(this.action.newRoot)},Object.defineProperty(e.prototype,"blockUntil",{get:function(){return function(t){return t.kind===c.KIND}},enumerable:!0,configurable:!0}),e.KIND="requestBounds",e}(o.HiddenCommand);e.RequestBoundsCommand=l},4332:function(t,e,n){"use strict";var i=n("4022"),o=n.n(i);o.a},"451f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("c5f4"),o=n("1979"),r=function(t,e){var n=t.parentRequest;return null!==n&&(!!e(n)||r(n,e))};e.traverseAncerstors=r;var a=function(t){return function(e){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(t)(e)};return n.metaData=new o.Metadata(t,e),n}};e.taggedConstraint=a;var s=a(i.NAMED_TAG);e.namedConstraint=s;var c=function(t){return function(e){var n=null;if(null!==e){if(n=e.bindings[0],"string"===typeof t){var i=n.serviceIdentifier;return i===t}var o=e.bindings[0].implementationType;return t===o}return!1}};e.typeConstraint=c},4741:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n("3623"),r=n("9964"),a=n("e1c6"),s=function(){function t(e,n){this.expandIds=e,this.collapseIds=n,this.kind=t.KIND}return t.KIND="collapseExpand",t}();e.CollapseExpandAction=s;var c=function(){function t(e){void 0===e&&(e=!0),this.expand=e,this.kind=t.KIND}return t.KIND="collapseExpandAll",t}();e.CollapseExpandAllAction=c;var u=function(){function t(){}return t.prototype.buttonPressed=function(t){var e=o.findParentByFeature(t,r.isExpandable);return void 0!==e?[new s(e.expanded?[]:[e.id],e.expanded?[e.id]:[])]:[]},t.TYPE="button:expand",t=i([a.injectable()],t),t}();e.ExpandButtonHandler=u},4797:function(t,e,n){"use strict";var i=n("ca5ac"),o=n.n(i);o.a},"47b7":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("e629"),r=n("3a92"),a=n("66f9"),s=n("7d36"),c=n("e4f0"),u=n("a0af"),l=n("4c18"),d=n("3b62"),f=n("dd02"),h=n("66f9"),p=n("cc26"),v=n("3623"),y=n("7959"),g=function(t){function e(e){return void 0===e&&(e=new O),t.call(this,e)||this}return i(e,t),e}(d.ViewportRootElement);e.SGraph=g;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,"incomingEdges",{get:function(){return this.index.getIncomingEdges(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outgoingEdges",{get:function(){return this.index.getOutgoingEdges(this)},enumerable:!0,configurable:!0}),e.prototype.getAnchor=function(t,e){return f.center(this.bounds)},e.prototype.getTranslatedAnchor=function(t,e,n,i){var o=v.translatePoint(t,e,this.parent),r=this.getAnchor(o,i);return v.translatePoint(r,this.parent,n.parent)},e}(h.SShapeElement);e.SConnectableElement=m;var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selected=!1,e.hoverFeedback=!1,e.opacity=1,e}return i(e,t),e.prototype.hasFeature=function(t){return t===l.selectFeature||t===u.moveFeature||t===a.boundsFeature||t===a.layoutContainerFeature||t===s.fadeFeature||t===c.hoverFeedbackFeature||t===c.popupFeature},e}(m);e.SNode=b;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selected=!1,e.hoverFeedback=!1,e.opacity=1,e}return i(e,t),e.prototype.hasFeature=function(t){return t===l.selectFeature||t===a.boundsFeature||t===s.fadeFeature||t===c.hoverFeedbackFeature},e}(m);e.SPort=_;var w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.routingPoints=[],e.selected=!1,e.hoverFeedback=!1,e.opacity=1,e}return i(e,t),Object.defineProperty(e.prototype,"source",{get:function(){return this.index.getById(this.sourceId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this.index.getById(this.targetId)},enumerable:!0,configurable:!0}),e.prototype.route=function(){void 0===this.router&&(this.router=new y.LinearEdgeRouter);var t=this.router.route(this);return p.filterEditModeHandles(t,this)},e.prototype.hasFeature=function(t){return t===s.fadeFeature||t===l.selectFeature||t===p.editFeature||t===c.hoverFeedbackFeature},e}(r.SChildElement);e.SEdge=w;var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selected=!1,e.alignment=f.ORIGIN_POINT,e.opacity=1,e}return i(e,t),e.prototype.hasFeature=function(t){return t===a.boundsFeature||t===a.alignFeature||t===s.fadeFeature||t===a.layoutableChildFeature},e}(h.SShapeElement);e.SLabel=S;var x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.opacity=1,e}return i(e,t),e.prototype.hasFeature=function(t){return t===a.boundsFeature||t===a.layoutContainerFeature||t===a.layoutableChildFeature||t===s.fadeFeature},e}(h.SShapeElement);e.SCompartment=x;var O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.outgoing=new Map,e.incoming=new Map,e}return i(e,t),e.prototype.add=function(e){if(t.prototype.add.call(this,e),e instanceof w){if(e.sourceId){var n=this.outgoing.get(e.sourceId);void 0===n?this.outgoing.set(e.sourceId,[e]):n.push(e)}if(e.targetId){var i=this.incoming.get(e.targetId);void 0===i?this.incoming.set(e.targetId,[e]):i.push(e)}}},e.prototype.remove=function(e){if(t.prototype.remove.call(this,e),e instanceof w){var n=this.outgoing.get(e.sourceId);if(void 0!==n){var i=n.indexOf(e);i>=0&&(1===n.length?this.outgoing.delete(e.sourceId):n.splice(i,1))}var o=this.incoming.get(e.targetId);if(void 0!==o){i=o.indexOf(e);i>=0&&(1===o.length?this.incoming.delete(e.targetId):o.splice(i,1))}}},e.prototype.getAttachedElements=function(t){var e=this;return new o.FluentIterableImpl(function(){return{outgoing:e.outgoing.get(t.id),incoming:e.incoming.get(t.id),nextOutgoingIndex:0,nextIncomingIndex:0}},function(t){var e=t.nextOutgoingIndex;if(void 0!==t.outgoing&&e<t.outgoing.length)return t.nextOutgoingIndex=e+1,{done:!1,value:t.outgoing[e]};if(e=t.nextIncomingIndex,void 0!==t.incoming)while(e<t.incoming.length){var n=t.incoming[e];if(n.sourceId!==n.targetId)return t.nextIncomingIndex=e+1,{done:!1,value:n};e++}return{done:!0,value:void 0}})},e.prototype.getIncomingEdges=function(t){return this.incoming.get(t.id)||[]},e.prototype.getOutgoingEdges=function(t){return this.outgoing.get(t.id)||[]},e}(r.SModelIndex);e.SGraphIndex=O},"484b":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var r=n("e1c6"),a=n("945d"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.listen=function(t){var e=this;t.addEventListener("message",function(t){e.messageReceived(t.data)}),t.addEventListener("error",function(t){e.logger.error(e,"error event received",t)}),this.webSocket=t},e.prototype.disconnect=function(){this.webSocket&&(this.webSocket.close(),this.webSocket=void 0)},e.prototype.sendMessage=function(t){if(!this.webSocket)throw new Error("WebSocket is not connected");this.webSocket.send(JSON.stringify(t))},e=o([r.injectable()],e),e}(a.DiagramServer);e.WebSocketDiagramServer=s},"4a4f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("30e3"),o=n("c5f4"),r=n("1979");function a(){return function(t,e,n){var a=new r.Metadata(o.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(o.POST_CONSTRUCT,t.constructor))throw new Error(i.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(o.POST_CONSTRUCT,a,t.constructor)}}e.postConstruct=a},"4b75":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var r=n("dd02"),a=n("a2e1"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getChildrenSize=function(t,e,n){var i=0,o=-1,a=!0;return t.children.forEach(function(t){var s=n.getBoundsData(t).bounds;void 0!==s&&r.isValidDimension(s)&&(a?a=!1:i+=e.hGap,i+=s.width,o=Math.max(o,s.height))}),{width:i,height:o}},e.prototype.layoutChild=function(t,e,n,i,o,r,a,s){var c=this.getDy(i.vAlign,n,s);return e.bounds={x:r.x+t.bounds.x-n.x,y:o.paddingTop+t.bounds.y-n.y+c,width:n.width,height:n.height},e.boundsChanged=!0,{x:r.x+n.width+o.hGap,y:r.y}},e.prototype.getDefaultLayoutOptions=function(){return{resizeContainer:!0,paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,paddingFactor:1,hGap:1,vAlign:"center"}},e.prototype.spread=function(t,e){return o({},t,e)},e.KIND="hbox",e}(a.AbstractLayout);e.HBoxLayouter=s},"4c18":function(t,e,n){"use strict";function i(t){return t.hasFeature(e.selectFeature)}Object.defineProperty(e,"__esModule",{value:!0}),e.selectFeature=Symbol("selectFeature"),e.isSelectable=i},"510b":function(t,e,n){"use strict";function i(t){return void 0!==t&&t.hasOwnProperty("kind")&&"string"===typeof t["kind"]}Object.defineProperty(e,"__esModule",{value:!0}),e.isAction=i},"520d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("6923"),r=n("559d"),a=new i.ContainerModule(function(t){t(o.TYPES.MouseListener).to(r.MoveMouseListener),t(o.TYPES.ICommand).toConstructor(r.MoveCommand),t(o.TYPES.IVNodeDecorator).to(r.LocationDecorator),t(o.TYPES.HiddenVNodeDecorator).to(r.LocationDecorator)});e.default=a},"538c":function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n("e1c6"),r=function(){function t(){this.tasks=[],this.endTasks=[],this.triggered=!1}return t.prototype.isAvailable=function(){return"function"===typeof requestAnimationFrame},t.prototype.onNextFrame=function(t){this.tasks.push(t),this.trigger()},t.prototype.onEndOfNextFrame=function(t){this.endTasks.push(t),this.trigger()},t.prototype.trigger=function(){var t=this;this.triggered||(this.triggered=!0,this.isAvailable()?requestAnimationFrame(function(e){return t.run(e)}):setTimeout(function(e){return t.run(e)}))},t.prototype.run=function(t){var e=this.tasks,n=this.endTasks;this.triggered=!1,this.tasks=[],this.endTasks=[],e.forEach(function(e){return e.call(void 0,t)}),n.forEach(function(e){return e.call(void 0,t)})},t=i([o.injectable()],t),t}();e.AnimationFrameSyncer=r},"54f8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("70d9"),r=new i.ContainerModule(function(t){t(o.ButtonHandlerRegistry).toSelf().inSingletonScope()});e.default=r},"559d":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var r=n("e1c6"),a=n("dd02"),s=n("3a92"),c=n("3a92"),u=n("3623"),l=n("9757"),d=n("c146"),f=n("3b4c"),h=n("e45b"),p=n("5eb6"),v=n("4c18"),y=n("66f9"),g=n("cc26"),m=n("a5f4"),b=n("a0af"),_=function(){function t(t,e){void 0===e&&(e=!0),this.moves=t,this.animate=e,this.kind=w.KIND}return t}();e.MoveAction=_;var w=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n.resolvedMoves=new Map,n.resolvedRoutes=new Map,n}return i(e,t),e.prototype.execute=function(t){var e=this,n=t.root,i=new Set;return this.action.moves.forEach(function(t){var o=e.resolve(t,n.index);void 0!==o&&(e.resolvedMoves.set(o.elementId,o),n.index.getAttachedElements(o.element).forEach(function(t){return i.add(t)}))}),i.forEach(function(t){return e.handleAttachedElement(t)}),this.action.animate?new S(n,this.resolvedMoves,this.resolvedRoutes,t).start():this.doMove(t)},e.prototype.resolve=function(t,e){var n=e.getById(t.elementId);if(void 0!==n&&b.isLocateable(n)){var i=t.fromPosition||{x:n.position.x,y:n.position.y};return{elementId:t.elementId,element:n,fromPosition:i,toPosition:t.toPosition}}},e.prototype.handleAttachedElement=function(t){if(g.isRoutable(t)){var e=t.source,n=e?this.resolvedMoves.get(e.id):void 0,i=t.target,o=i?this.resolvedMoves.get(i.id):void 0;if(void 0!==n&&void 0!==o){var r=o.toPosition.x-o.fromPosition.x,a=o.toPosition.y-o.fromPosition.y;this.resolvedRoutes.set(t.id,{elementId:t.id,element:t,fromRoute:t.routingPoints,toRoute:t.routingPoints.map(function(t){return{x:t.x+r,y:t.y+a}})})}}},e.prototype.doMove=function(t,e){return this.resolvedMoves.forEach(function(t){t.element.position=e?t.fromPosition:t.toPosition}),this.resolvedRoutes.forEach(function(t){t.element.routingPoints=e?t.fromRoute:t.toRoute}),t.root},e.prototype.undo=function(t){return new S(t.root,this.resolvedMoves,this.resolvedRoutes,t,!0).start()},e.prototype.redo=function(t){return new S(t.root,this.resolvedMoves,this.resolvedRoutes,t,!1).start()},e.prototype.merge=function(t,n){var i=this;return!this.action.animate&&t instanceof e&&(t.action.moves.forEach(function(t){var e=i.resolvedMoves.get(t.elementId);if(e)e.toPosition=t.toPosition;else{var o=i.resolve(t,n.root.index);o&&i.resolvedMoves.set(o.elementId,o)}}),!0)},e.KIND="move",e}(l.MergeableCommand);e.MoveCommand=w;var S=function(t){function e(e,n,i,o,r){void 0===r&&(r=!1);var a=t.call(this,o)||this;return a.model=e,a.elementMoves=n,a.elementRoutes=i,a.reverse=r,a}return i(e,t),e.prototype.tween=function(t){var e=this;return this.elementMoves.forEach(function(n){e.reverse?n.element.position={x:(1-t)*n.toPosition.x+t*n.fromPosition.x,y:(1-t)*n.toPosition.y+t*n.fromPosition.y}:n.element.position={x:(1-t)*n.fromPosition.x+t*n.toPosition.x,y:(1-t)*n.fromPosition.y+t*n.toPosition.y}}),this.elementRoutes.forEach(function(n){for(var i=[],o=0;o<n.fromRoute.length&&o<n.toRoute.length;o++){var r=n.fromRoute[o],a=n.toRoute[o];e.reverse?i.push({x:(1-t)*a.x+t*r.x,y:(1-t)*a.y+t*r.y}):i.push({x:(1-t)*r.x+t*a.x,y:(1-t)*r.y+t*a.y})}n.element.routingPoints=i}),this.model},e}(d.Animation);e.MoveAnimation=S;var x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasDragged=!1,e}return i(e,t),e.prototype.mouseDown=function(t,e){var n=[];if(0===e.button){var i=u.findParentByFeature(t,b.isMoveable),o=t instanceof g.SRoutingHandle;this.lastDragPosition=void 0!==i||o?{x:e.pageX,y:e.pageY}:void 0,this.hasDragged=!1,o&&n.push(new m.SwitchEditModeAction([t.id],[]))}return n},e.prototype.mouseMove=function(t,e){var n=this,i=[];if(0===e.buttons)this.mouseUp(t,e);else if(this.lastDragPosition){var o=u.findParentByFeature(t,p.isViewport);this.hasDragged=!0;var r=o?o.zoom:1,a=(e.pageX-this.lastDragPosition.x)/r,s=(e.pageY-this.lastDragPosition.y)/r,c=[],l=[];t.root.index.all().filter(function(t){return v.isSelectable(t)&&t.selected}).forEach(function(t){if(b.isMoveable(t))c.push({elementId:t.id,fromPosition:{x:t.position.x,y:t.position.y},toPosition:{x:t.position.x+a,y:t.position.y+s}});else if(t instanceof g.SRoutingHandle){var e=n.getHandlePosition(t);void 0!==e&&l.push({elementId:t.id,fromPosition:e,toPosition:{x:e.x+a,y:e.y+s}})}}),this.lastDragPosition={x:e.pageX,y:e.pageY},c.length>0&&i.push(new _(c,!1)),l.length>0&&i.push(new m.MoveRoutingHandleAction(l,!1))}return i},e.prototype.getHandlePosition=function(t){var e=t.parent;if(g.isRoutable(e))if("line"===t.kind){for(var n=function(t){return void 0!==t.pointIndex?t.pointIndex:"target"===t.kind?e.routingPoints.length:-1},i=e.route(),o=void 0,r=void 0,s=0,c=i;s<c.length;s++){var u=c[s],l=n(u);l<=t.pointIndex&&(void 0===o||l>n(o))&&(o=u),l>t.pointIndex&&(void 0===r||l<n(r))&&(r=u)}if(void 0!==o&&void 0!==r)return a.centerOfLine(o,r)}else if(t.pointIndex>=0)return e.routingPoints[t.pointIndex]},e.prototype.mouseEnter=function(t,e){return t instanceof c.SModelRoot&&0===e.buttons&&this.mouseUp(t,e),[]},e.prototype.mouseUp=function(t,e){var n=[];return this.lastDragPosition&&t.root.index.all().forEach(function(t){t instanceof g.SRoutingHandle&&t.editMode&&n.push(new m.SwitchEditModeAction([],[t.id]))}),this.hasDragged=!1,this.lastDragPosition=void 0,n},e.prototype.decorate=function(t,e){return t},e}(f.MouseListener);e.MoveMouseListener=x;var O=function(){function t(){}return t.prototype.decorate=function(t,e){var n="";return b.isLocateable(e)&&e instanceof s.SChildElement&&void 0!==e.parent&&(n="translate("+e.position.x+", "+e.position.y+")"),y.isAlignable(e)&&(n.length>0&&(n+=" "),n+="translate("+e.alignment.x+", "+e.alignment.y+")"),n.length>0&&h.setAttr(t,"transform",n),t},t.prototype.postUpdate=function(){},t=o([r.injectable()],t),t}();e.LocationDecorator=O},"5bc0":function(t,e,n){},"5d19":function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a=n("66f9"),s=n("0fb6"),c=n("6923"),u=n("dd02"),l=n("e1c6"),d=function(){function t(e){this.svg=e,this.kind=t.KIND}return t.KIND="exportSvg",t}();e.ExportSvgAction=d;var f=function(){function t(t,e,n){this.options=t,this.actionDispatcher=e,this.log=n}return t.prototype.export=function(t){if("undefined"!==typeof document){var e=document.getElementById(this.options.hiddenDiv);if(null!==e&&e.firstElementChild&&"svg"===e.firstElementChild.tagName){var n=e.firstElementChild,i=this.createSvg(n,t);this.actionDispatcher.dispatch(new d(i))}}},t.prototype.createSvg=function(t,e){var n=new XMLSerializer,i=n.serializeToString(t),o=document.createElement("iframe");if(document.body.appendChild(o),!o.contentWindow)throw new Error("IFrame has no contentWindow");var r=o.contentWindow.document;r.open(),r.write(i),r.close();var a=r.getElementById(t.id);a.removeAttribute("opacity"),this.copyStyles(t,a,["width","height","opacity"]),a.setAttribute("version","1.1");var s=this.getBounds(e);a.setAttribute("viewBox",s.x+" "+s.y+" "+s.width+" "+s.height);var c=n.serializeToString(a);return document.body.removeChild(o),c},t.prototype.copyStyles=function(t,e,n){for(var i=getComputedStyle(t),o=getComputedStyle(e),r="",a=0;a<i.length;a++){var s=i[a];if(-1===n.indexOf(s)){var c=i.getPropertyValue(s);o.getPropertyValue(s)!==c&&(r+=s+":"+c+";")}}""!==r&&e.setAttribute("style",r);for(a=0;a<t.childNodes.length;++a){var u=t.childNodes[a],l=e.childNodes[a];u instanceof Element&&this.copyStyles(u,l,[])}},t.prototype.getBounds=function(t){var e=[u.EMPTY_BOUNDS];return t.children.forEach(function(t){a.isBoundsAware(t)&&e.push(t.bounds)}),e.reduce(function(t,e){return u.combine(t,e)})},t=i([l.injectable(),r(0,l.inject(c.TYPES.ViewerOptions)),r(1,l.inject(c.TYPES.IActionDispatcher)),r(2,l.inject(c.TYPES.ILogger)),o("design:paramtypes",[Object,s.ActionDispatcher,Object])],t),t}();e.SvgExporter=f},"5e9c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("6923");function o(t,e){var n=t.get(i.TYPES.CommandStackOptions);for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}e.overrideCommandStackOptions=o},"5eb6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("3a92");function o(t){return t instanceof i.SModelRoot&&t.hasFeature(e.viewportFeature)&&"zoom"in t&&"scroll"in t}e.viewportFeature=Symbol("viewportFeature"),e.isViewport=o},"61bf":function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a=n("e1c6"),s=n("6923"),c=n("dd02"),u=n("3a92"),l=n("42f7"),d=n("66f9"),f=n("320b"),h=n("7faf"),p=function(){function t(){}return t}();e.BoundsData=p;var v=function(){function t(t,e){this.actionDispatcher=t,this.layouter=e,this.element2boundsData=new Map}return t.prototype.decorate=function(t,e){return(d.isSizeable(e)||d.isLayoutContainer(e))&&this.element2boundsData.set(e,{vnode:t,bounds:e.bounds,boundsChanged:!1,alignmentChanged:!1}),e instanceof u.SModelRoot&&(this.root=e),t},t.prototype.postUpdate=function(){if(void 0===this.root||!h.isExportable(this.root)||!this.root.export){this.getBoundsFromDOM(),this.layouter.layout(this.element2boundsData);var t=[],e=[];this.element2boundsData.forEach(function(n,i){n.boundsChanged&&void 0!==n.bounds&&t.push({elementId:i.id,newBounds:n.bounds}),n.alignmentChanged&&void 0!==n.alignment&&e.push({elementId:i.id,newAlignment:n.alignment})});var n=void 0!==this.root?this.root.revision:void 0;this.actionDispatcher.dispatch(new l.ComputedBoundsAction(t,n,e)),this.element2boundsData.clear()}},t.prototype.getBoundsFromDOM=function(){var t=this;this.element2boundsData.forEach(function(e,n){if(e.bounds&&d.isSizeable(n)){var i=e.vnode;if(i&&i.elm){var o=t.getBounds(i.elm,n);!d.isAlignable(n)||c.almostEquals(o.x,0)&&c.almostEquals(o.y,0)||(e.alignment={x:-o.x,y:-o.y},e.alignmentChanged=!0);var r={x:n.bounds.x,y:n.bounds.y,width:o.width,height:o.height};c.almostEquals(r.x,n.bounds.x)&&c.almostEquals(r.y,n.bounds.y)&&c.almostEquals(r.width,n.bounds.width)&&c.almostEquals(r.height,n.bounds.height)||(e.bounds=r,e.boundsChanged=!0)}}})},t.prototype.getBounds=function(t,e){var n=t.getBBox();return{x:n.x,y:n.y,width:n.width,height:n.height}},t=i([a.injectable(),r(0,a.inject(s.TYPES.IActionDispatcher)),r(1,a.inject(s.TYPES.Layouter)),o("design:paramtypes",[Object,f.Layouter])],t),t}();e.HiddenBoundsUpdater=v},"624f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("30e3"),o=n("c5f4"),r=n("1979"),a=n("66d7"),s=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();function c(t){return function(e,n,s){if(void 0===t)throw new Error(i.UNDEFINED_INJECT_ANNOTATION(e.name));var c=new r.Metadata(o.INJECT_TAG,t);"number"===typeof s?a.tagParameter(e,n,s,c):a.tagProperty(e,n,c)}}e.LazyServiceIdentifer=s,e.inject=c},6420:function(t,e,n){"use strict";var i=n("1f0f"),o=n.n(i);o.a},6592:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextVNode=a,e.transformName=s,e.unescapeEntities=l;var i=n("81aa"),o=r(i);function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return(0,o.default)(void 0,void 0,void 0,l(t,e))}function s(t){t=t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()});var e=t.charAt(0).toLowerCase();return""+e+t.substring(1)}var c=new RegExp("&[a-z0-9#]+;","gi"),u=null;function l(t,e){return u||(u=e.createElement("div")),t.replace(c,function(t){return u.innerHTML=t,u.textContent})}},"65d1":function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n("6923");function r(t,n){var r=i({},e.defaultViewerOptions(),n);t.isBound(o.TYPES.ViewerOptions)?t.rebind(o.TYPES.ViewerOptions).toConstantValue(r):t.bind(o.TYPES.ViewerOptions).toConstantValue(r)}function a(t,e){var n=t.get(o.TYPES.ViewerOptions);for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}e.defaultViewerOptions=function(){return{baseDiv:"sprotty",baseClass:"sprotty",hiddenDiv:"sprotty-hidden",hiddenClass:"sprotty-hidden",popupDiv:"sprotty-popup",popupClass:"sprotty-popup",popupClosedClass:"sprotty-popup-closed",needsClientLayout:!0,needsServerLayout:!1,popupOpenDelay:1e3,popupCloseDelay:300}},e.configureViewerOptions=r,e.overrideViewerOptions=a},"66d7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("30e3"),o=n("c5f4");function r(t,e,n,i){var r=o.TAGGED;s(r,t,e,i,n)}function a(t,e,n){var i=o.TAGGED_PROP;s(i,t.constructor,e,n)}function s(t,e,n,o,r){var a={},s="number"===typeof r,c=void 0!==r&&s?r.toString():n;if(s&&void 0!==n)throw new Error(i.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,e)&&(a=Reflect.getMetadata(t,e));var u=a[c];if(Array.isArray(u))for(var l=0,d=u;l<d.length;l++){var f=d[l];if(f.key===o.key)throw new Error(i.DUPLICATED_METADATA+" "+f.key.toString())}else u=[];u.push(o),a[c]=u,Reflect.defineMetadata(t,a,e)}function c(t,e){Reflect.decorate(t,e)}function u(t,e){return function(n,i){e(n,i,t)}}function l(t,e,n){"number"===typeof n?c([u(n,t)],e):"string"===typeof n?Reflect.decorate([t],e,n):c([t],e)}e.tagParameter=r,e.tagProperty=a,e.decorate=l},"66f9":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("dd02"),r=n("3a92"),a=n("3623");function s(t){return"bounds"in t}function c(t){return s(t)&&t.hasFeature(e.layoutContainerFeature)&&"layout"in t}function u(t){return s(t)&&t.hasFeature(e.layoutableChildFeature)}function l(t){return t.hasFeature(e.boundsFeature)&&s(t)}function d(t){return t.hasFeature(e.alignFeature)&&"alignment"in t}function f(t){var e=a.findParentByFeature(t,s);if(void 0!==e){var n=e.bounds,i=e;while(i instanceof r.SChildElement){var c=i.parent;n=c.localToParent(n),i=c}return n}if(t instanceof r.SModelRoot){var u=t.canvasBounds;return{x:0,y:0,width:u.width,height:u.height}}return o.EMPTY_BOUNDS}e.boundsFeature=Symbol("boundsFeature"),e.layoutContainerFeature=Symbol("layoutContainerFeature"),e.layoutableChildFeature=Symbol("layoutableChildFeature"),e.alignFeature=Symbol("alignFeature"),e.isBoundsAware=s,e.isLayoutContainer=c,e.isLayoutableChild=u,e.isSizeable=l,e.isAlignable=d,e.getAbsoluteBounds=f;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.position=o.ORIGIN_POINT,e.size=o.EMPTY_DIMENSION,e}return i(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return{x:this.position.x,y:this.position.y,width:this.size.width,height:this.size.height}},set:function(t){this.position={x:t.x,y:t.y},this.size={width:t.width,height:t.height}},enumerable:!0,configurable:!0}),e.prototype.localToParent=function(t){var e={x:t.x+this.position.x,y:t.y+this.position.y,width:-1,height:-1};return o.isBounds(t)&&(e.width=t.width,e.height=t.height),e},e.prototype.parentToLocal=function(t){var e={x:t.x-this.position.x,y:t.y-this.position.y,width:-1,height:-1};return o.isBounds(t)&&(e.width=t.width,e.height=t.height),e},e}(r.SChildElement);e.SShapeElement=h},6730:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("c5f4"),o=n("1979"),r=n("66d7");function a(t){return function(e,n,a){var s=new o.Metadata(i.NAMED_TAG,t);"number"===typeof a?r.tagParameter(e,n,a,s):r.tagProperty(e,n,s)}}e.named=a},"68f1":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("30e3"),o=n("155f"),r=n("a8af"),a=n("ba33"),s=n("7122"),c=function(t,e,n){try{return n()}catch(n){throw r.isStackOverflowExeption(n)?new Error(i.CIRCULAR_DEPENDENCY_IN_FACTORY(t,e.toString())):n}},u=function(t){return function(e){e.parentContext.setCurrentRequest(e);var n=e.bindings,r=e.childRequests,l=e.target&&e.target.isArray(),d=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(l&&d)return r.map(function(e){var n=u(t);return n(e)});var f=null;if(!e.target.isOptional()||0!==n.length){var h=n[0],p=h.scope===o.BindingScopeEnum.Singleton,v=h.scope===o.BindingScopeEnum.Request;if(p&&h.activated)return h.cache;if(v&&null!==t&&t.has(h.id))return t.get(h.id);if(h.type===o.BindingTypeEnum.ConstantValue)f=h.cache;else if(h.type===o.BindingTypeEnum.Function)f=h.cache;else if(h.type===o.BindingTypeEnum.Constructor)f=h.implementationType;else if(h.type===o.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)f=c("toDynamicValue",h.serviceIdentifier,function(){return h.dynamicValue(e.parentContext)});else if(h.type===o.BindingTypeEnum.Factory&&null!==h.factory)f=c("toFactory",h.serviceIdentifier,function(){return h.factory(e.parentContext)});else if(h.type===o.BindingTypeEnum.Provider&&null!==h.provider)f=c("toProvider",h.serviceIdentifier,function(){return h.provider(e.parentContext)});else{if(h.type!==o.BindingTypeEnum.Instance||null===h.implementationType){var y=a.getServiceIdentifierAsString(e.serviceIdentifier);throw new Error(i.INVALID_BINDING_TYPE+" "+y)}f=s.resolveInstance(h.implementationType,r,u(t))}return"function"===typeof h.onActivation&&(f=h.onActivation(e.parentContext,f)),p&&(h.cache=f,h.activated=!0),v&&null!==t&&!t.has(h.id)&&t.set(h.id,f),f}}};function l(t){var e=u(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}e.resolve=l},6907:function(t,e,n){"use strict";function i(t,e,n){if("function"===typeof t)t.call(e,n,e);else if("object"===typeof t)if("function"===typeof t[0])if(2===t.length)t[0].call(e,t[1],n,e);else{var o=t.slice(1);o.push(n),o.push(e),t[0].apply(e,o)}else for(var r=0;r<t.length;r++)i(t[r],e,n)}function o(t,e){var n=t.type,o=e.data.on;o&&o[n]&&i(o[n],e,t)}function r(){return function t(e){o(e,t.vnode)}}function a(t,e){var n,i=t.data.on,o=t.listener,a=t.elm,s=e&&e.data.on,c=e&&e.elm;if(i!==s){if(i&&o)if(s)for(n in i)s[n]||a.removeEventListener(n,o,!1);else for(n in i)a.removeEventListener(n,o,!1);if(s){var u=e.listener=t.listener||r();if(u.vnode=e,i)for(n in s)i[n]||c.addEventListener(n,u,!1);else for(n in s)c.addEventListener(n,u,!1)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.eventListenersModule={create:a,update:a,destroy:a},e.default=e.eventListenersModule},6923:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TYPES={IActionDispatcher:Symbol("IActionDispatcher"),IActionDispatcherProvider:Symbol("IActionDispatcherProvider"),IActionHandlerInitializer:Symbol("IActionHandlerInitializer"),ActionHandlerRegistry:Symbol("ActionHandlerRegistry"),AnimationFrameSyncer:Symbol("AnimationFrameSyncer"),CommandStackOptions:Symbol("CommandStackOptions"),IButtonHandler:Symbol("IButtonHandler"),ICommand:Symbol("ICommand"),ICommandStack:Symbol("ICommandStack"),ICommandStackProvider:Symbol("ICommandStackProvider"),DOMHelper:Symbol("DOMHelper"),HiddenVNodeDecorator:Symbol("HiddenVNodeDecorator"),HoverState:Symbol("HoverState"),KeyListener:Symbol("KeyListener"),Layouter:Symbol("Layouter"),LayoutRegistry:Symbol("LayoutRegistry"),ILogger:Symbol("ILogger"),LogLevel:Symbol("LogLevel"),IModelFactory:Symbol("IModelFactory"),IModelLayoutEngine:Symbol("IModelLayoutEngine"),ModelRendererFactory:Symbol("ModelRendererFactory"),ModelSource:Symbol("ModelSource"),ModelSourceProvider:Symbol("ModelSourceProvider"),MouseListener:Symbol("MouseListener"),PopupModelFactory:Symbol("PopupModelFactory"),IPopupModelProvider:Symbol("IPopupModelProvider"),PopupMouseListener:Symbol("PopupMouseListener"),PopupVNodeDecorator:Symbol("PopupVNodeDecorator"),SModelElementRegistration:Symbol("SModelElementRegistration"),SModelRegistry:Symbol("SModelRegistry"),SModelStorage:Symbol("SModelStorage"),StateAwareModelProvider:Symbol("StateAwareModelProvider"),SvgExporter:Symbol("SvgExporter"),IViewer:Symbol("IViewer"),ViewerOptions:Symbol("ViewerOptions"),IViewerProvider:Symbol("IViewerProvider"),ViewRegistration:Symbol("ViewRegistration"),ViewRegistry:Symbol("ViewRegistry"),IVNodeDecorator:Symbol("IVNodeDecorator")}},"6af2":function(t,e,n){"use strict";function i(t,e){var n,i,o,r=e.elm,a=t.data.props,s=e.data.props;if((a||s)&&a!==s){for(n in a=a||{},s=s||{},a)s[n]||delete r[n];for(n in s)i=s[n],o=a[n],o===i||"value"===n&&r[n]===i||(r[n]=i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.propsModule={create:i,update:i},e.default=e.propsModule},"6b35":function(t,e,n){"use strict";function i(t){return"string"===typeof t||"number"===typeof t}Object.defineProperty(e,"__esModule",{value:!0}),e.array=Array.isArray,e.primitive=i},"6bb9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("393a"),o=n("dd02"),r=n("e45b"),a=n("3623"),s=n("cc26"),c=function(){function t(){}return t.prototype.render=function(t,e){var n="scale("+t.zoom+") translate("+-t.scroll.x+","+-t.scroll.y+")";return i.svg("svg",{"class-sprotty-graph":!0},i.svg("g",{transform:n},e.renderChildren(t)))},t}();e.SGraphView=c;var u=function(){function t(){}return t.prototype.render=function(t,e){var n=t.route();return 0===n.length?this.renderDanglingEdge("Cannot compute route",t,e):i.svg("g",{"class-sprotty-edge":!0,"class-mouseover":t.hoverFeedback},this.renderLine(t,n,e),this.renderAdditionals(t,n,e),e.renderChildren(t,{route:n}))},t.prototype.renderLine=function(t,e,n){for(var o=e[0],r="M "+o.x+","+o.y,a=1;a<e.length;a++){var s=e[a];r+=" L "+s.x+","+s.y}return i.svg("path",{d:r})},t.prototype.renderAdditionals=function(t,e,n){return[]},t.prototype.renderDanglingEdge=function(t,e,n){return i.svg("text",{"class-sprotty-edge-dangling":!0,title:t},"?")},t}();e.PolylineEdgeView=u;var l=function(){function t(){this.minimalPointDistance=10}return t.prototype.render=function(t,e,n){if(n&&n.route){var o=this.getPosition(t,n.route);if(void 0!==o){var a=i.svg("circle",{"class-sprotty-routing-handle":!0,"class-selected":t.selected,"class-mouseover":t.hoverFeedback,cx:o.x,cy:o.y});return r.setAttr(a,"data-kind",t.kind),a}}return i.svg("g",null)},t.prototype.getPosition=function(t,e){return"line"===t.kind?this.getLinePosition(t,e):this.getJunctionPosition(t,e)},t.prototype.getJunctionPosition=function(t,e){return e.find(function(e){return e.pointIndex===t.pointIndex})},t.prototype.getLinePosition=function(t,e){var n=t.parent;if(s.isRoutable(n)){for(var i=function(t){return void 0!==t.pointIndex?t.pointIndex:"target"===t.kind?n.routingPoints.length:-1},r=void 0,a=void 0,c=0,u=e;c<u.length;c++){var l=u[c],d=i(l);d<=t.pointIndex&&(void 0===r||d>i(r))&&(r=l),d>t.pointIndex&&(void 0===a||d<i(a))&&(a=l)}if(void 0!==r&&void 0!==a){if(i(r)!==t.pointIndex&&t.pointIndex>=0){var f=n.routingPoints[t.pointIndex];if(o.maxDistance(f,r)>=o.maxDistance(f,a))return}if(i(a)!==t.pointIndex+1&&t.pointIndex+1<n.routingPoints.length){f=n.routingPoints[t.pointIndex+1];if(o.maxDistance(f,r)<o.maxDistance(f,a))return}if(o.maxDistance(r,a)>=this.minimalPointDistance)return o.centerOfLine(r,a)}}},t}();e.SRoutingHandleView=l;var d=function(){function t(){}return t.prototype.render=function(t,e){var n=i.svg("text",{"class-sprotty-label":!0},t.text),o=a.getSubType(t);return o&&r.setAttr(n,"class",o),n},t}();e.SLabelView=d;var f=function(){function t(){}return t.prototype.render=function(t,e){var n="translate("+t.bounds.x+", "+t.bounds.y+")",o=i.svg("g",{transform:n,"class-sprotty-comp":"{true}"},e.renderChildren(t)),s=a.getSubType(t);return s&&r.setAttr(o,"class",s),o},t}();e.SCompartmentView=f},"70d9":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("3864"),c=n("e1c6"),u=n("6923"),l=function(t){function e(e){var n=t.call(this)||this;return e.forEach(function(t){return n.register(t.TYPE,new t)}),n}return i(e,t),e=o([c.injectable(),a(0,c.multiInject(u.TYPES.IButtonHandler)),a(0,c.optional()),r("design:paramtypes",[Array])],e),e}(s.InstanceRegistry);e.ButtonHandlerRegistry=l},7122:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("30e3"),o=n("155f"),r=n("c5f4");function a(t,e,n){var i=e.filter(function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ClassProperty}),r=i.map(n);return i.forEach(function(e,n){var i="";i=e.target.name.value();var o=r[n];t[i]=o}),t}function s(t,e){return new(t.bind.apply(t,[void 0].concat(e)))}function c(t,e){if(Reflect.hasMetadata(r.POST_CONSTRUCT,t)){var n=Reflect.getMetadata(r.POST_CONSTRUCT,t);try{e[n.value]()}catch(e){throw new Error(i.POST_CONSTRUCT_ERROR(t.name,e.message))}}}function u(t,e,n){var i=null;if(e.length>0){var r=e.filter(function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ConstructorArgument}),u=r.map(n);i=s(t,u),i=a(i,e,n)}else i=new t;return c(t,i),i}e.resolveInstance=u},"719e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("30e3"),o=n("c5f4");function r(){return function(t){if(Reflect.hasOwnMetadata(o.PARAM_TYPES,t))throw new Error(i.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(o.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(o.PARAM_TYPES,e,t),t}}e.injectable=r},"72dd":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("6923"),r=n("42f7"),a=n("61bf"),s=n("320b"),c=new i.ContainerModule(function(t){t(o.TYPES.ICommand).toConstructor(r.SetBoundsCommand),t(o.TYPES.ICommand).toConstructor(r.RequestBoundsCommand),t(o.TYPES.HiddenVNodeDecorator).to(a.HiddenBoundsUpdater).inSingletonScope(),t(o.TYPES.Layouter).to(s.Layouter).inSingletonScope(),t(o.TYPES.LayoutRegistry).to(s.LayoutRegistry).inSingletonScope()});e.default=c},7436:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var r=n("e1c6"),a=n("6923"),s=n("302f"),c=function(){function t(){this.localCache=new Map}return t.prototype.store=function(t){this.isLocalStorageAvailable()?localStorage.setItem(this.key,JSON.stringify(t)):this.localCache.set(this.key,JSON.stringify(t))},t.prototype.load=function(){var t=this.isLocalStorageAvailable()?localStorage.getItem(this.key):this.localCache.get(this.key);return t?JSON.parse(t):s.EMPTY_ROOT},t.prototype.isLocalStorageAvailable=function(){try{return"object"===typeof localStorage&&null!==localStorage}catch(t){return!1}},Object.defineProperty(t.prototype,"key",{get:function(){return this.viewerOptions.baseDiv},enumerable:!0,configurable:!0}),i([r.inject(a.TYPES.ViewerOptions),o("design:type",Object)],t.prototype,"viewerOptions",void 0),t=i([r.injectable()],t),t}();e.SModelStorage=c},"757d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("c5f4"),o=n("77d3"),r=n("1979"),a=n("cf13"),s=function(){function t(t,e,n,s){this.id=o.id(),this.type=t,this.serviceIdentifier=n,this.name=new a.QueryableString(e||""),this.metadata=new Array;var c=null;"string"===typeof s?c=new r.Metadata(i.NAMED_TAG,s):s instanceof r.Metadata&&(c=s),null!==c&&this.metadata.push(c)}return t.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++){var i=n[e];if(i.key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(i.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(i.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(i.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(t){return t.key!==i.INJECT_TAG&&t.key!==i.MULTI_INJECT_TAG&&t.key!==i.NAME_TAG&&t.key!==i.UNMANAGED_TAG&&t.key!==i.NAMED_TAG})},t.prototype.isOptional=function(){return this.matchesTag(i.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===i.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(t){return t.key!==i.INJECT_TAG&&t.key!==i.MULTI_INJECT_TAG&&t.key!==i.NAME_TAG&&t.key!==i.UNMANAGED_TAG&&t.key!==i.NAMED_TAG}):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(i.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var e=this;return function(n){for(var i=0,o=e.metadata;i<o.length;i++){var r=o[i];if(r.key===t&&r.value===n)return!0}return!1}},t}();e.Target=s},7685:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};e.BindingCount=i},"771c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("77d3"),o=function(){function t(t){this.id=i.id(),this.registry=t}return t}();e.ContainerModule=o;var r=function(){function t(t){this.id=i.id(),this.registry=t}return t}();e.AsyncContainerModule=r},"77d3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=0;function o(){return i++}e.id=o},7890:function(t,e,n){"use strict";var i=n("d741"),o=n.n(i);o.a},7959:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n("e1c6"),r=n("dd02"),a=function(){function t(){}return t.prototype.route=function(t,e){void 0===e&&(e={minimalPointDistance:2});var n,i,o=t.source,a=t.target;if(void 0===o||void 0===a)return[];var s=void 0!==t.routingPoints?t.routingPoints.length:0;if(s>=1){var c=t.routingPoints[0];n=o.getTranslatedAnchor(c,t.parent,t,t.sourceAnchorCorrection);var u=t.routingPoints[s-1];i=a.getTranslatedAnchor(u,t.parent,t,t.targetAnchorCorrection)}else{var l=r.center(a.bounds);n=o.getTranslatedAnchor(l,a.parent,t,t.sourceAnchorCorrection);var d=r.center(o.bounds);i=a.getTranslatedAnchor(d,o.parent,t,t.targetAnchorCorrection)}var f=[];f.push({kind:"source",x:n.x,y:n.y});for(var h=0;h<s;h++){var p=t.routingPoints[h];(h>0&&h<s-1||0===h&&r.maxDistance(n,p)>=e.minimalPointDistance+(t.sourceAnchorCorrection||0)||h===s-1&&r.maxDistance(p,i)>=e.minimalPointDistance+(t.targetAnchorCorrection||0))&&f.push({kind:"linear",x:p.x,y:p.y,pointIndex:h})}return f.push({kind:"target",x:i.x,y:i.y}),f},t=i([o.injectable()],t),t}();e.LinearEdgeRouter=a},"7d36":function(t,e,n){"use strict";function i(t){return t.hasFeature(e.fadeFeature)&&void 0!==t["opacity"]}Object.defineProperty(e,"__esModule",{value:!0}),e.fadeFeature=Symbol("fadeFeature"),e.isFadeable=i},"7dba":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("624f"),o=n("30e3"),r=n("155f"),a=n("c5f4"),s=n("ba33");e.getFunctionName=s.getFunctionName;var c=n("757d");function u(t,e){var n=s.getFunctionName(e),i=l(t,n,e,!1);return i}function l(t,e,n,i){var r=t.getConstructorMetadata(n),a=r.compilerGeneratedMetadata;if(void 0===a){var s=o.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(s)}var c=r.userGeneratedMetadata,u=Object.keys(c),l=0===n.length&&u.length>0,d=l?u.length:n.length,p=f(i,e,a,c,d),v=h(t,n),y=p.concat(v);return y}function d(t,e,n,a,s){var u=s[t.toString()]||[],l=v(u),d=!0!==l.unmanaged,f=a[t],h=l.inject||l.multiInject;if(f=h||f,f instanceof i.LazyServiceIdentifer&&(f=f.unwrap()),d){var p=f===Object,y=f===Function,g=void 0===f,m=p||y||g;if(!e&&m){var b=o.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(b)}var _=new c.Target(r.TargetTypeEnum.ConstructorArgument,l.targetName,f);return _.metadata=u,_}return null}function f(t,e,n,i,o){for(var r=[],a=0;a<o;a++){var s=a,c=d(s,t,e,n,i);null!==c&&r.push(c)}return r}function h(t,e){for(var n=t.getPropertiesMetadata(e),i=[],o=Object.keys(n),a=0,s=o;a<s.length;a++){var u=s[a],l=n[u],d=v(n[u]),f=d.targetName||u,p=d.inject||d.multiInject,y=new c.Target(r.TargetTypeEnum.ClassProperty,f,p);y.metadata=l,i.push(y)}var g=Object.getPrototypeOf(e.prototype).constructor;if(g!==Object){var m=h(t,g);i=i.concat(m)}return i}function p(t,e){var n=Object.getPrototypeOf(e.prototype).constructor;if(n!==Object){var i=s.getFunctionName(n),o=l(t,i,n,!0),r=o.map(function(t){return t.metadata.filter(function(t){return t.key===a.UNMANAGED_TAG})}),c=[].concat.apply([],r).length,u=o.length-c;return u>0?u:p(t,n)}return 0}function v(t){var e={};return t.forEach(function(t){e[t.key.toString()]=t.value}),{inject:e[a.INJECT_TAG],multiInject:e[a.MULTI_INJECT_TAG],targetName:e[a.NAME_TAG],unmanaged:e[a.UNMANAGED_TAG]}}e.getDependencies=u,e.getBaseClassDependencyCount=p},"7faf":function(t,e,n){"use strict";function i(t){return t.hasFeature(e.exportFeature)&&void 0!==t["export"]}Object.defineProperty(e,"__esModule",{value:!0}),e.exportFeature=Symbol("exportFeature"),e.isExportable=i},8025:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n("e1c6"),r=n("f4cb"),a=n("302f"),s=n("ed4f"),c=n("c444"),u=n("559d"),l=function(){function t(){this.popupOpen=!1}return t.prototype.handle=function(t){if(t.kind===r.SetPopupModelCommand.KIND)this.popupOpen=t.newRoot.type!==a.EMPTY_ROOT.type;else if(this.popupOpen)return new r.SetPopupModelAction({id:a.EMPTY_ROOT.id,type:a.EMPTY_ROOT.type})},t}(),d=function(){function t(){}return t.prototype.initialize=function(t){var e=new l;t.register(s.FitToScreenCommand.KIND,e),t.register(s.CenterCommand.KIND,e),t.register(c.ViewportCommand.KIND,e),t.register(r.SetPopupModelCommand.KIND,e),t.register(u.MoveCommand.KIND,e)},t=i([o.injectable()],t),t}();e.PopupActionHandlerInitializer=d},8122:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("7436"),r=n("6923"),a=n("33b2"),s=n("9e2e"),c=n("0fb6"),u=n("be02"),l=n("160b"),d=n("302f"),f=n("538c"),h=n("29fa"),p=n("65d1"),v=n("3b4c"),y=n("1417"),g=n("d4ec"),m=n("064a"),b=n("8794"),_=n("0d7a"),w=n("ed79"),S=n("9757"),x=new i.ContainerModule(function(t){t(r.TYPES.ILogger).to(s.NullLogger).inSingletonScope(),t(r.TYPES.LogLevel).toConstantValue(s.LogLevel.warn),t(r.TYPES.SModelRegistry).to(d.SModelRegistry).inSingletonScope(),t(r.TYPES.ActionHandlerRegistry).to(u.ActionHandlerRegistry).inSingletonScope(),t(r.TYPES.ViewRegistry).to(m.ViewRegistry).inSingletonScope(),t(r.TYPES.IModelFactory).to(d.SModelFactory).inSingletonScope(),t(r.TYPES.IActionDispatcher).to(c.ActionDispatcher).inSingletonScope(),t(r.TYPES.IActionDispatcherProvider).toProvider(function(t){return function(){return new Promise(function(e){e(t.container.get(r.TYPES.IActionDispatcher))})}}),t(r.TYPES.IActionHandlerInitializer).to(S.CommandActionHandlerInitializer),t(r.TYPES.ICommandStack).to(l.CommandStack).inSingletonScope(),t(r.TYPES.ICommandStackProvider).toProvider(function(t){return function(){return new Promise(function(e){e(t.container.get(r.TYPES.ICommandStack))})}}),t(r.TYPES.CommandStackOptions).toConstantValue({defaultDuration:250,undoHistoryLimit:50}),t(h.Viewer).toSelf().inSingletonScope(),t(r.TYPES.IViewer).toDynamicValue(function(t){return t.container.get(h.Viewer)}).inSingletonScope().whenTargetNamed("delegate"),t(b.ViewerCache).toSelf().inSingletonScope(),t(r.TYPES.IViewer).toDynamicValue(function(t){return t.container.get(b.ViewerCache)}).inSingletonScope().whenTargetIsDefault(),t(r.TYPES.IViewerProvider).toProvider(function(t){return function(){return new Promise(function(e){e(t.container.get(r.TYPES.IViewer))})}}),t(r.TYPES.ViewerOptions).toConstantValue(p.defaultViewerOptions()),t(r.TYPES.DOMHelper).to(_.DOMHelper).inSingletonScope(),t(r.TYPES.ModelRendererFactory).toFactory(function(t){return function(e){var n=t.container.get(r.TYPES.ViewRegistry);return new h.ModelRenderer(n,e)}}),t(w.IdDecorator).toSelf().inSingletonScope(),t(r.TYPES.IVNodeDecorator).toDynamicValue(function(t){return t.container.get(w.IdDecorator)}).inSingletonScope(),t(v.MouseTool).toSelf().inSingletonScope(),t(r.TYPES.IVNodeDecorator).toDynamicValue(function(t){return t.container.get(v.MouseTool)}).inSingletonScope(),t(y.KeyTool).toSelf().inSingletonScope(),t(r.TYPES.IVNodeDecorator).toDynamicValue(function(t){return t.container.get(y.KeyTool)}).inSingletonScope(),t(g.FocusFixDecorator).toSelf().inSingletonScope(),t(r.TYPES.IVNodeDecorator).toDynamicValue(function(t){return t.container.get(g.FocusFixDecorator)}).inSingletonScope(),t(r.TYPES.PopupVNodeDecorator).toDynamicValue(function(t){return t.container.get(w.IdDecorator)}).inSingletonScope(),t(v.PopupMouseTool).toSelf().inSingletonScope(),t(r.TYPES.PopupVNodeDecorator).toDynamicValue(function(t){return t.container.get(v.PopupMouseTool)}).inSingletonScope(),t(r.TYPES.HiddenVNodeDecorator).toDynamicValue(function(t){return t.container.get(w.IdDecorator)}).inSingletonScope(),t(r.TYPES.AnimationFrameSyncer).to(f.AnimationFrameSyncer).inSingletonScope(),t(r.TYPES.ICommand).toConstructor(a.InitializeCanvasBoundsCommand),t(a.CanvasBoundsInitializer).toSelf().inSingletonScope(),t(r.TYPES.IVNodeDecorator).toDynamicValue(function(t){return t.container.get(a.CanvasBoundsInitializer)}).inSingletonScope(),t(r.TYPES.SModelStorage).to(o.SModelStorage).inSingletonScope()});e.default=x},8195:function(t,e,n){},"81aa":function(t,e,n){"use strict";function i(t,e,n,i,o){var r=void 0===e?void 0:e.key;return{sel:t,data:e,children:n,text:i,elm:o,key:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.vnode=i,e.default=i},8336:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("30e3"),o=n("155f"),r=n("0fd9"),a=n("2cac"),s=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=o.BindingTypeEnum.Instance,this._binding.implementationType=t,new r.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+i.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=o.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=o.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new r.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=o.BindingTypeEnum.Constructor,this._binding.implementationType=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!==typeof t)throw new Error(i.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=o.BindingTypeEnum.Function,e},t.prototype.toAutoFactory=function(t){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=function(e){var n=function(){return e.container.get(t)};return n},new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=o.BindingTypeEnum.Provider,this._binding.provider=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue(function(e){return e.container.get(t)})},t}();e.BindingToSyntax=s},"85ed":function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a=n("e1c6"),s=n("9e2e"),c=n("6923"),u=function(){function t(e,n,i,o,r){this.severity=e,this.time=n,this.caller=i,this.message=o,this.params=r,this.kind=t.KIND}return t.KIND="logging",t}();e.LoggingAction=u;var l=function(){function t(t,e){this.modelSourceProvider=t,this.logLevel=e}return t.prototype.error=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.logLevel>=s.LogLevel.error&&this.forward(t,e,s.LogLevel.error,n)},t.prototype.warn=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.logLevel>=s.LogLevel.warn&&this.forward(t,e,s.LogLevel.warn,n)},t.prototype.info=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.logLevel>=s.LogLevel.info&&this.forward(t,e,s.LogLevel.info,n)},t.prototype.log=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(this.logLevel>=s.LogLevel.log)try{var o="object"===typeof t?t.constructor.name:String(t);console.log.apply(t,[o+": "+e].concat(n))}catch(t){}},t.prototype.forward=function(t,e,n,i){var o=new Date,r=new u(s.LogLevel[n],o.toLocaleTimeString(),"object"===typeof t?t.constructor.name:String(t),e,i.map(function(t){return JSON.stringify(t)}));this.modelSourceProvider().then(function(n){try{n.handle(r)}catch(n){try{console.log.apply(t,[e,r,n])}catch(t){}}})},t=i([a.injectable(),r(0,a.inject(c.TYPES.ModelSourceProvider)),r(1,a.inject(c.TYPES.LogLevel)),o("design:paramtypes",[Function,Number])],t),t}();e.ForwardingLogger=l},"861d":function(t,e,n){var i=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,o=n("c4ec"),r=Object.create?Object.create(null):{};function a(t,e,n,i,o){var r=e.indexOf("<",i),a=e.slice(i,-1===r?void 0:r);/^\s*$/.test(a)&&(a=" "),(!o&&r>-1&&n+t.length>=0||" "!==a)&&t.push({type:"text",content:a})}t.exports=function(t,e){e||(e={}),e.components||(e.components=r);var n,s=[],c=-1,u=[],l={},d=!1;return t.replace(i,function(i,r){if(d){if(i!=="</"+n.name+">")return;d=!1}var f,h="/"!==i.charAt(1),p=0===i.indexOf("\x3c!--"),v=r+i.length,y=t.charAt(v);h&&!p&&(c++,n=o(i),"tag"===n.type&&e.components[n.name]&&(n.type="component",d=!0),n.voidElement||d||!y||"<"===y||a(n.children,t,c,v,e.ignoreWhitespace),l[n.tagName]=n,0===c&&s.push(n),f=u[c-1],f&&f.children.push(n),u[c]=n),(p||!h||n.voidElement)&&(p||c--,!d&&"<"!==y&&y&&(f=-1===c?s:u[c].children,a(f,t,c,v,e.ignoreWhitespace)))}),!s.length&&t.length&&a(s,t,0,0,e.ignoreWhitespace),s}},8794:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a=n("e1c6"),s=n("6923"),c=n("538c"),u=function(){function t(t,e){this.delegate=t,this.syncer=e}return t.prototype.isCacheEmpty=function(){return void 0===this.cachedModelRoot&&void 0===this.cachedHiddenModelRoot&&void 0===this.cachedPopup},t.prototype.updatePopup=function(t){var e=this.isCacheEmpty();this.cachedPopup=t,e&&this.scheduleUpdate()},t.prototype.update=function(t){var e=this.isCacheEmpty();this.cachedModelRoot=t,e&&this.scheduleUpdate()},t.prototype.updateHidden=function(t){var e=this.isCacheEmpty();this.cachedHiddenModelRoot=t,e&&this.scheduleUpdate()},t.prototype.scheduleUpdate=function(){var t=this;this.syncer.onEndOfNextFrame(function(){if(t.cachedHiddenModelRoot){var e=t.cachedHiddenModelRoot;t.delegate.updateHidden(e),t.cachedHiddenModelRoot=void 0}if(t.cachedModelRoot){var n=t.cachedModelRoot;t.delegate.update(n),t.cachedModelRoot=void 0}if(t.cachedPopup){n=t.cachedPopup;t.delegate.updatePopup(n),t.cachedPopup=void 0}})},t=i([a.injectable(),r(0,a.inject(s.TYPES.IViewer)),r(0,a.named("delegate")),r(1,a.inject(s.TYPES.AnimationFrameSyncer)),o("design:paramtypes",[Object,c.AnimationFrameSyncer])],t),t}();e.ViewerCache=u},"87b3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7685"),o=n("30e3"),r=n("155f"),a=n("c5f4"),s=n("a8af"),c=n("ba33"),u=n("a32f"),l=n("1979"),d=n("c8c0"),f=n("7dba"),h=n("c622"),p=n("757d");function v(t){return t._bindingDictionary}function y(t,e,n,i,o,r){var s=t?a.MULTI_INJECT_TAG:a.INJECT_TAG,c=new l.Metadata(s,n),u=new p.Target(e,i,n,c);if(void 0!==o){var d=new l.Metadata(o,r);u.metadata.push(d)}return u}function g(t,e,n,o,r){var a=_(n.container,r.serviceIdentifier),s=[];return a.length===i.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof r.serviceIdentifier&&t.getConstructorMetadata(r.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(r.serviceIdentifier).toSelf(),a=_(n.container,r.serviceIdentifier)),s=e?a:a.filter(function(t){var e=new h.Request(t.serviceIdentifier,n,o,t,r);return t.constraint(e)}),m(r.serviceIdentifier,s,r,n.container),s}function m(t,e,n,r){switch(e.length){case i.BindingCount.NoBindingsAvailable:if(n.isOptional())return e;var a=c.getServiceIdentifierAsString(t),s=o.NOT_REGISTERED;throw s+=c.listMetadataForTarget(a,n),s+=c.listRegisteredBindingsForServiceIdentifier(r,a,_),new Error(s);case i.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return e;case i.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return e;a=c.getServiceIdentifierAsString(t),s=o.AMBIGUOUS_MATCH+" "+a;throw s+=c.listRegisteredBindingsForServiceIdentifier(r,a,_),new Error(s)}}function b(t,e,n,i,a,s){var c,u;if(null===a){c=g(t,e,i,null,s),u=new h.Request(n,i,null,c,s);var l=new d.Plan(i,u);i.addPlan(l)}else c=g(t,e,i,a,s),u=a.addChildRequest(s.serviceIdentifier,c,s);c.forEach(function(e){var n=null;if(s.isArray())n=u.addChildRequest(e.serviceIdentifier,e,s);else{if(e.cache)return;n=u}if(e.type===r.BindingTypeEnum.Instance&&null!==e.implementationType){var a=f.getDependencies(t,e.implementationType);if(!i.container.options.skipBaseClassChecks){var c=f.getBaseClassDependencyCount(t,e.implementationType);if(a.length<c){var l=o.ARGUMENTS_LENGTH_MISMATCH(f.getFunctionName(e.implementationType));throw new Error(l)}}a.forEach(function(e){b(t,!1,e.serviceIdentifier,i,n,e)})}})}function _(t,e){var n=[],i=v(t);return i.hasKey(e)?n=i.get(e):null!==t.parent&&(n=_(t.parent,e)),n}function w(t,e,n,i,o,r,a,l){void 0===l&&(l=!1);var d=new u.Context(e),f=y(n,i,o,"",r,a);try{return b(t,l,o,d,null,f),d}catch(t){throw s.isStackOverflowExeption(t)&&d.plan&&c.circularDependencyToException(d.plan.rootRequest),t}}function S(t,e,n,i){var o=new p.Target(r.TargetTypeEnum.Variable,"",e,new l.Metadata(n,i)),a=new u.Context(t),s=new h.Request(e,a,null,[],o);return s}e.getBindingDictionary=v,e.plan=w,e.createMockRequest=S},"87fa":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("3a92"),r=n("dd02"),a=n("ba30"),s=n("66f9"),c=n("a0af"),u=n("4c18"),l=n("47b7"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.strokeWidth=0,e}return i(e,t),Object.defineProperty(e.prototype,"radius",{get:function(){var t=Math.min(this.size.width,this.size.height);return t>0?t/2:0},enumerable:!0,configurable:!0}),e.prototype.getAnchor=function(t,e){void 0===e&&(e=0);var n=.5*this.strokeWidth;return a.computeCircleAnchor(this.position,this.radius,t,e+n)},e}(l.SNode);e.CircularNode=d;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.strokeWidth=0,e}return i(e,t),e.prototype.getAnchor=function(t,e){void 0===e&&(e=0);var n=.5*this.strokeWidth;return a.computeRectangleAnchor(this.bounds,t,e+n)},e}(l.SNode);e.RectangularNode=f;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.strokeWidth=0,e}return i(e,t),Object.defineProperty(e.prototype,"radius",{get:function(){var t=Math.min(this.size.width,this.size.height);return t>0?t/2:0},enumerable:!0,configurable:!0}),e.prototype.getAnchor=function(t,e){void 0===e&&(e=0);var n=.5*this.strokeWidth;return a.computeCircleAnchor(this.position,this.radius,t,e+n)},e}(l.SPort);e.CircularPort=h;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.strokeWidth=0,e}return i(e,t),e.prototype.getAnchor=function(t,e){void 0===e&&(e=0);var n=.5*this.strokeWidth;return a.computeRectangleAnchor(this.bounds,t,e+n)},e}(l.SPort);e.RectangularPort=p;var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.classes=[],e}return i(e,t),e}(o.SModelRoot);e.HtmlRoot=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o.SChildElement);e.PreRenderedElement=y;var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.position=r.ORIGIN_POINT,e.size=r.EMPTY_DIMENSION,e.selected=!1,e.alignment=r.ORIGIN_POINT,e}return i(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return{x:this.position.x,y:this.position.y,width:this.size.width,height:this.size.height}},set:function(t){this.position={x:t.x,y:t.y},this.size={width:t.width,height:t.height}},enumerable:!0,configurable:!0}),e.prototype.hasFeature=function(t){return t===c.moveFeature||t===s.boundsFeature||t===u.selectFeature||t===s.alignFeature},e}(y);e.ShapedPreRenderedElement=g},"8b1b":function(t,e,n){},"8c88":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("c5f4"),o=n("1979"),r=n("66d7");function a(t){return function(e,n,a){var s=new o.Metadata(i.MULTI_INJECT_TAG,t);"number"===typeof a?r.tagParameter(e,n,a,s):r.tagProperty(e,n,s)}}e.multiInject=a},"8d53":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("dd7b"),o=function(){function t(){}return t.prototype.render=function(t,e){var n=this;return i.h(this.selector(t),{key:t.id,hook:{init:this.init.bind(this),prepatch:this.prepatch.bind(this)},fn:function(){return n.renderAndDecorate(t,e)},args:this.watchedArgs(t),thunk:!0})},t.prototype.renderAndDecorate=function(t,e){var n=this.doRender(t,e);return e.decorate(n,t),n},t.prototype.copyToThunk=function(t,e){e.elm=t.elm,t.data.fn=e.data.fn,t.data.args=e.data.args,e.data=t.data,e.children=t.children,e.text=t.text,e.elm=t.elm},t.prototype.init=function(t){var e=t.data,n=e.fn.apply(void 0,e.args);this.copyToThunk(n,t)},t.prototype.prepatch=function(t,e){var n=t.data,i=e.data;this.equals(n.args,i.args)?this.copyToThunk(t,e):this.copyToThunk(i.fn.apply(void 0,i.args),e)},t.prototype.equals=function(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<e.length;++n)if(!this.equals(t[n],e[n]))return!1}else if("object"===typeof t&&"object"===typeof e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var i in t)if("parent"!==i&&"root"!==i&&(!(i in e)||!this.equals(t[i],e[i])))return!1}else if(t!==e)return!1;return!0},t}();function r(t){return"thunk"in t}e.ThunkView=o,e.isThunk=r},"8d8c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("c5f4"),o=n("1979"),r=n("66d7");function a(){return function(t,e,n){var a=new o.Metadata(i.OPTIONAL_TAG,!0);"number"===typeof n?r.tagParameter(t,e,n,a):r.tagProperty(t,e,a)}}e.optional=a},"8e65":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("6923"),r=new i.ContainerModule(function(t){t(o.TYPES.ModelSourceProvider).toProvider(function(t){return function(){return new Promise(function(e){e(t.container.get(o.TYPES.ModelSource))})}})});e.default=r},9016:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="undefined"!==typeof window&&window.requestAnimationFrame.bind(window)||setTimeout,o=function(t){i(function(){i(t)})},r=!1;function a(t,e,n){o(function(){t[e]=n})}function s(t,e){var n,i,o=e.elm,r=t.data.style,s=e.data.style;if((r||s)&&r!==s){r=r||{},s=s||{};var c="delayed"in r;for(i in r)s[i]||("-"===i[0]&&"-"===i[1]?o.style.removeProperty(i):o.style[i]="");for(i in s)if(n=s[i],"delayed"===i&&s.delayed)for(var u in s.delayed)n=s.delayed[u],c&&n===r.delayed[u]||a(o.style,u,n);else"remove"!==i&&n!==r[i]&&("-"===i[0]&&"-"===i[1]?o.style.setProperty(i,n):o.style[i]=n)}}function c(t){var e,n,i=t.elm,o=t.data.style;if(o&&(e=o.destroy))for(n in e)i.style[n]=e[n]}function u(t,e){var n=t.data.style;if(n&&n.remove){r||(getComputedStyle(document.body).transform,r=!0);var i,o,a=t.elm,s=0,c=n.remove,u=0,l=[];for(i in c)l.push(i),a.style[i]=c[i];o=getComputedStyle(a);for(var d=o["transition-property"].split(", ");s<d.length;++s)-1!==l.indexOf(d[s])&&u++;a.addEventListener("transitionend",function(t){t.target===a&&--u,0===u&&e()})}else e()}function l(){r=!1}e.styleModule={pre:l,create:s,update:s,destroy:c,remove:u},e.default=e.styleModule},9175:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t}();e.Deferred=i},9198:function(t,e,n){"use strict";var i=n("eb61"),o=n.n(i);o.a},9261:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"column"},[n("div",{staticClass:"col row full-height",attrs:{id:"viewer-container"}},[n("keep-alive",[n(t.mainViewer.name,{tag:"component"})],1),n("q-resize-observable",{on:{resize:t.setChildrenToAskFor}})],1),n("div",{staticClass:"col-1 row"},[t.logVisible?n("klab-log"):t._e()],1),n("transition",{attrs:{name:"component-fade",mode:"out-in"}},[t.mainViewer.mainControl?n("klab-main-control"):t._e()],1),n("transition",{attrs:{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[t.askForUndocking&&!t.mainViewer.mainControl?n("div",{staticClass:"full-height full-width",attrs:{id:"mc-undocking"}}):t._e()]),n("q-modal",{attrs:{id:"modal-connection-status","no-esc-dismiss":"","no-backdrop-dismiss":"","content-css":{"background-color":"rgba("+t.hexToRgbValues(t.modalColor)+", 0.5)"},"content-classes":["modal-borders","no-padding","no-margin"]},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},[n("div",{staticClass:"bg-opaque-white modal-borders"},[n("div",{staticClass:"q-pa-xs text-bold modal-klab-content",style:{color:t.modalColor}},[n("klab-spinner",{attrs:{color:t.modalColor,size:40,ball:18,id:"modal-spinner",animated:t.modalAnimated,wrapperId:"modal-connection-status"}}),n("span",{staticClass:"text-white"},[t._v(t._s(t.modalText))])],1)])]),n("input-request-modal")],1)},o=[];i._withStripped=!0;var r=n("9523"),a=n.n(r),s=n("3156"),c=n.n(s),u=n("2f62"),l=n("7cca"),d=n("17dc"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDrawMode,expression:"!isDrawMode"}],ref:"main-control-container",staticClass:"print-hide small",attrs:{id:"mc-container"}},[n("transition",{attrs:{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isHidden,expression:"isHidden"}],staticClass:"klab-spinner-div",style:{left:t.defaultLeft+"px",top:t.defaultTop+"px","border-color":t.hasTasks()?t.spinnerColor.color:"rgba(0,0,0,0)"},attrs:{id:"spinner-lonely-div"}},[n("klab-spinner",{attrs:{id:"spinner-lonely","store-controlled":!0,size:40,ball:22,wrapperId:"spinner-lonely-div"},nativeOn:{dblclick:function(e){return t.show(e)},touchstart:function(e){t.handleTouch(e,null,t.show)}}})],1)]),n("transition",{attrs:{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"}},[n("q-card",{directives:[{name:"draggable",rawName:"v-draggable",value:t.dragMCConfig,expression:"dragMCConfig"},{name:"show",rawName:"v-show",value:!t.isHidden,expression:"!isHidden"}],staticClass:"no-box-shadow absolute lot-of-flow",class:[t.hasContext?"":"bg-transparent",t.hasContext?"with-context":"without-context"],style:{top:t.defaultTop+"px",left:t.centeredLeft+"px"},attrs:{id:"mc-q-card",flat:!0},nativeOn:{contextmenu:function(t){t.preventDefault()}}},[n("q-card-title",{ref:"mc-draggable",staticClass:"q-pa-xs",style:{"background-color":t.getBGColor(t.hasContext?"1.0":t.searchIsFocused?".6":".2")},attrs:{id:"mc-q-card-title"}},[n("klab-search-bar",{ref:"klab-search-bar"}),n("klab-breadcrumbs",{attrs:{slot:"subtitle"},slot:"subtitle"})],1),n("q-card-main",{directives:[{name:"show",rawName:"v-show",value:t.hasContext&&!t.isHidden,expression:"hasContext && !isHidden"}],staticClass:"no-margin relative-position"},[n("keep-alive",[n("transition",{attrs:{name:"component-fade",mode:"out-in"}},[n(t.selectedTab,{tag:"component"})],1)],1)],1),n("q-card-actions",{directives:[{name:"show",rawName:"v-show",value:t.hasContext&&!t.isHidden,expression:"hasContext && !isHidden"}],staticClass:"no-margin",attrs:{id:"context-actions"}},[n("div",{attrs:{id:"mc-tabs"}},[n("div",{staticClass:"klab-button mc-tab",class:["tab-button",{active:"klab-log-pane"===t.selectedTab}],on:{click:function(e){t.selectedTab="klab-log-pane"}}},[n("q-icon",{attrs:{name:"mdi-console"}},[n("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[t._v(t._s(t.$t("tooltips.logPane")))])],1)],1),n("div",{staticClass:"klab-button mc-tab",class:["tab-button",{active:"klab-tree-pane"===t.selectedTab}],on:{click:function(e){t.selectedTab="klab-tree-pane"}}},[n("q-icon",{attrs:{name:"mdi-eye-outline"}},[n("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[t._v(t._s(t.$t("tooltips.treePane")))])],1)],1)]),n("main-actions-buttons",{attrs:{orientation:"horizontal","separator-class":"mc-separator"}}),n("div",{staticClass:"mc-separator",staticStyle:{right:"325px"}}),n("div",{staticClass:"mc-scalereference",staticStyle:{right:"180px"},attrs:{id:"mc-spacereference"}},[n("scale-reference",{attrs:{width:"140px","scale-type":"space",editable:!1}})],1),n("div",{staticClass:"mc-separator",staticStyle:{right:"175px"}}),n("div",{staticClass:"mc-scalereference",staticStyle:{right:"50px"},attrs:{id:"mc-timereference"}},[n("scale-reference",{attrs:{width:"120px","scale-type":"time",editable:!1}})],1),n("div",{staticClass:"mc-separator",staticStyle:{right:"45px"}}),n("stop-actions-buttons")],1)],1)],1),n("scale-change-dialog"),n("transition",{attrs:{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[t.askForDocking?n("div",{staticClass:"mc-docking full-height",style:{width:t.leftMenuMaximized}}):t._e()])],1)},h=[];f._withStripped=!0;var p=n("31cf"),v=n("abcf"),y=n("1fe0"),g=n("e464"),m=n("236d"),b=n("2573"),_=n("a817"),w=n("3827"),S=n("9967"),x=n("0880"),O=n("cbc9"),E=n("8784"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!==t.scaleReference?n("q-dialog",{attrs:{title:t.$t("label.titleChangeScale",{type:t.scaleEditingType===t.SCALE_TYPE.ST_SPACE?t.$t("label.labelSpatial"):t.$t("label.labelTemporal")}),color:"info",cancel:!0,ok:!1},on:{show:t.initValues},scopedSlots:t._u([{key:"buttons",fn:function(e){return[n("q-btn",{attrs:{color:"info",outline:"",label:"Cancel"},on:{click:e.cancel}}),n("q-btn",{attrs:{color:"info",label:"Ok"},on:{click:function(n){t.choose(e.ok)}}})]}}]),model:{value:t.scaleEditing,callback:function(e){t.scaleEditing=e},expression:"scaleEditing"}},[n("div",{attrs:{slot:"body"},slot:"body"},[n("q-input",{attrs:{type:"number",min:"0",color:"info",autofocus:"",after:[{icon:"warning",error:!0,condition:t.resolutionError}],"stack-label":t.resolutionError?t.$t("messages.changeScaleResolutionError"):t.$t("label.resolutionLabel")},model:{value:t.resolution,callback:function(e){t.resolution=e},expression:"resolution"}}),n("q-select",{attrs:{"float-label":t.$t("label.unitLabel"),color:"info",options:t.units},model:{value:t.unit,callback:function(e){t.unit=e},expression:"unit"}})],1)]):t._e()},C=[];P._withStripped=!0;n("96cf");var I=n("c973"),T=n.n(I),M={name:"ScaleChangeDialog",data:function(){return{resolution:null,unit:null,units:[{label:this.$t("label.labelCm"),value:"cm"},{label:this.$t("label.labelM"),value:"m"},{label:this.$t("label.labelKm"),value:"km"}],resolutionError:!1,SCALE_TYPE:l["l"]}},computed:c()({},Object(u["c"])("data",["scaleReference"]),Object(u["c"])("view",["scaleEditingType"]),{scaleEditing:{get:function(){return this.$store.getters["view/isScaleEditing"]},set:function(t){this.setScaleEditing({active:t,type:this.scaleEditingType})}}}),methods:c()({},Object(u["b"])("data",["updateScaleReference"]),Object(u["b"])("view",["setScaleEditing"]),{choose:function(){var t=T()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("Resolution: ".concat(this.resolution," and unit: ").concat(this.unit)),!(""===this.resolution||this.resolution<=0)){t.next=5;break}this.resolutionError=!0,t.next=11;break;case 5:return t.next=7,e();case 7:this.resolutionError=!1,this.sendStompMessage(d["a"].SCALE_REFERENCE(c()({scaleReference:this.scaleReference},this.scaleEditingType===l["l"].ST_SPACE&&{spaceResolutionConverted:this.resolution},this.scaleEditingType===l["l"].ST_SPACE&&{spaceUnit:this.unit},this.scaleEditingType===l["l"].ST_TIME&&{timeResolution:this.resolution},this.scaleEditingType===l["l"].ST_TIME&&{timeUnit:this.unit}),this.$store.state.data.session).body),this.updateScaleReference({type:this.scaleEditingType,resolution:this.resolution,unit:this.unit}),this.$q.notify({message:this.$t("messages.updateScale",{type:this.scaleEditingType,resolution:this.resolution,unit:this.unit}),type:"info",timeout:1e3});case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),initValues:function(){null!==this.scaleReference&&(this.resolution=this.scaleEditingType===l["l"].ST_SPACE?this.scaleReference.spaceResolutionConverted:this.scaleReference.timeResolution,this.unit=this.scaleEditingType===l["l"].ST_SPACE?this.scaleReference.spaceUnit:this.scaleReference.timeUnit)}})},R=M,A=(n("a101"),n("2877")),N=Object(A["a"])(R,P,C,!1,null,null,null);N.options.__file="ScaleChangeDialog.vue";var j=N.exports,k=n("0755"),D=v["b"].width,L=v["b"].height,F={name:"klabMainControl",components:{KlabSpinner:b["a"],KlabSearchBar:_["a"],KlabBreadcrumbs:w["a"],KlabTreePane:S["a"],KlabLogPane:x["a"],ScrollingText:O["a"],ScaleReference:E["a"],ScaleChangeDialog:j,MainActionsButtons:g["a"],StopActionsButtons:m["a"]},directives:{Draggable:p["a"]},mixins:[k["a"]],data:function(){var t=this;return{isHidden:!1,dragMCConfig:{handle:void 0,resetInitialPos:!1,onPositionChange:Object(y["a"])(function(e,n){t.onDebouncedPositionChanged(n)},100),onDragStart:function(){t.dragging=!0},onDragEnd:this.checkWhereWasDragged,fingers:2},dragging:!1,askForDocking:!1,leftMenuMaximized:"".concat(l["g"].LEFTMENU_MAXSIZE,"px"),boundingElement:void 0,selectedTab:"klab-tree-pane",draggableElement:void 0,draggableElementWidth:0,centeredLeft:this.defaultLeft}},computed:c()({},Object(u["c"])("data",["hasContext"]),Object(u["c"])("view",["spinnerColor","searchIsFocused","isDrawMode"]),Object(u["c"])("stomp",["hasTasks"])),methods:c()({},Object(u["b"])("view",["setMainViewer"]),{callStartType:function(t){this.searchIsFocused?t.evt.stopPropagation():this.$refs["klab-search-bar"].startType(t)},onDebouncedPositionChanged:function(t){this.hasContext&&this.dragging&&t&&t.left<-this.draggableElementWidth/3?this.askForDocking=!0:this.askForDocking=!1},hide:function(){this.dragMCConfig.resetInitialPos=!1,this.isHidden=!0},show:function(){this.dragMCConfig.resetInitialPos=!1,this.isHidden=!1},getCenteredLeft:function(){if("undefined"!==typeof this.draggableElement&&!this.hasContext){var t=this.draggableElementWidth,e=D(this.boundingElement);return(e-t)/2}return this.defaultLeft},changeDraggablePosition:function(t){this.draggableElement.style.left="".concat(t.left,"px"),this.draggableElement.style.top="".concat(t.top,"px");var e=JSON.parse(this.dragMCConfig.handle.getAttribute("draggable-state"));e.startDragPosition=t,e.currentDragPosition=t,document.getElementById("mc-q-card-title").setAttribute("draggable-state",JSON.stringify(e))},checkWhereWasDragged:function(){if(this.dragging=!1,this.askForDocking)return this.askForDocking=!1,void this.setMainViewer(l["p"].DOCKED_DATA_VIEWER);this.draggableElement.offsetTop<0&&this.changeDraggablePosition({top:0,left:Math.max(this.draggableElement.offsetLeft,0)}),this.draggableElement.offsetLeft+this.draggableElement.offsetWidth<=0&&this.changeDraggablePosition({top:Math.max(this.draggableElement.offsetTop,0),left:0}),this.draggableElement.offsetLeft>=D(this.boundingElement)&&this.changeDraggablePosition({top:Math.max(this.draggableElement.offsetTop,0),left:Math.max(D(this.boundingElement)-this.draggableElement.offsetWidth,0)}),this.draggableElement.offsetTop>=L(this.boundingElement)&&this.changeDraggablePosition({top:Math.max(L(this.boundingElement)-this.draggableElement.offsetHeight,0),left:Math.max(this.draggableElement.offsetLeft,0)})},getBGColor:function(t){return"rgba(".concat(this.spinnerColor.rgb.r,",").concat(this.spinnerColor.rgb.g,",").concat(this.spinnerColor.rgb.b,", ").concat(t,")")}}),watch:{hasContext:function(){var t=this;this.$nextTick(function(){t.changeDraggablePosition({top:t.defaultTop,left:t.hasContext?t.defaultLeft:t.getCenteredLeft()})})}},created:function(){this.defaultTop=25,this.defaultLeft=15,this.VIEWERS=l["p"]},mounted:function(){var t=this;this.draggableElement=document.getElementById("mc-q-card"),this.draggableElementWidth=D(this.draggableElement),this.dragMCConfig.handle=document.getElementById("mc-q-card-title"),this.boundingElement=document.getElementById("viewer-container"),this.centeredLeft=this.getCenteredLeft(),this.dragMCConfig.initialPosition={left:this.centeredLeft,top:this.defaultTop},this.$eventBus.$on(l["c"].SPINNER_DOUBLE_CLICK,function(){t.hide()}),this.$eventBus.$on(l["c"].MAP_SIZE_CHANGED,function(){t.dragMCConfig.initialPosition={left:t.centeredLeft,top:t.defaultTop},t.checkWhereWasDragged()})},beforeDestroy:function(){this.$eventBus.$off(l["c"].MAP_SIZE_CHANGED)}},B=F,V=(n("96fa"),Object(A["a"])(B,f,h,!1,null,null,null));V.options.__file="KlabMainControl.vue";var G=V.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"no-padding relative-position full-width"},t._l(t.dataViewers,function(e){return n("div",{key:e.idx,class:["no-padding",e.main?"absolute-top full-height full-width":"absolute thumb-view"],style:t.viewerStyle(e),attrs:{id:"dv-viewer-"+e.idx}},[e.main?t._e():n("div",{staticClass:"thumb-viewer-title absolute-top"},[n("div",{staticClass:"relative-position"},[n("div",{staticClass:"thumb-viewer-label float-left q-ma-sm",class:[e.type.hideable?"thumb-closable":""]},[t._v("\n          "+t._s(t.capitalize(e.label))+"\n        ")]),n("div",{staticClass:"float-right q-ma-xs thumb-viewer-button"},[n("q-btn",{staticClass:"shadow-1",attrs:{round:"",color:"mc-main",size:"xs",icon:"mdi-chevron-up"},on:{click:function(n){t.setMain(e.idx)}}}),e.type.hideable?n("q-btn",{staticClass:"shadow-1 thumb-close",attrs:{round:"",color:"black",size:"xs",icon:"mdi-close"},on:{click:function(n){t.closeViewer(e)}}}):t._e()],1)])]),n(e.type.component,{tag:"component",attrs:{idx:e.idx,viewer:e}})],1)}))},z=[];U._withStripped=!0;n("7514");var Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"upload-files",rawName:"v-upload-files",value:t.uploadConfig,expression:"uploadConfig"}],staticClass:"fit no-padding map-viewer"},[n("div",{ref:"map"+t.idx,staticClass:"fit",class:{"mv-exploring":t.exploreMode||null!==t.topLayer},attrs:{id:"map"+t.idx}}),n("q-icon",{staticClass:"map-selection-marker",attrs:{name:t.mapSelection.locked?"mdi-image-filter-center-focus":"mdi-crop-free",id:"msm-"+t.idx}}),n("q-resize-observable",{on:{resize:t.handleResize}}),t.isDrawMode?n("map-drawer",{attrs:{map:t.map},on:{drawend:t.sendSpatialLocation}}):t._e(),n("q-modal",{attrs:{"no-esc-dismiss":"","no-backdrop-dismiss":"","content-classes":["gl-msg-content"]},model:{value:t.geolocationWaiting,callback:function(e){t.geolocationWaiting=e},expression:"geolocationWaiting"}},[n("div",{staticClass:"bg-opaque-white"},[n("div",{staticClass:"q-pa-xs"},[n("h5",[t._v(t._s(t.$t("messages.geolocationWaitingTitle")))]),n("p",{domProps:{innerHTML:t._s(t.$t("messages.geolocationWaitingText"))}}),n("p",{directives:[{name:"show",rawName:"v-show",value:null!==t.geolocationIncidence,expression:"geolocationIncidence !== null"}],staticClass:"gl-incidence"},[t._v(t._s(t.geolocationIncidence))]),n("div",{staticClass:"gl-btn-container"},[n("q-btn",{directives:[{name:"show",rawName:"v-show",value:null!==t.geolocationIncidence,expression:"geolocationIncidence !== null"}],attrs:{label:t.$t("label.appRetry"),color:"primary"},on:{click:t.retryGeolocation}}),n("q-btn",{attrs:{label:t.$t("label.appCancel"),color:"mc-main"},on:{click:function(e){t.stopGeolocation(!0)}}})],1)])])]),n("q-modal",{attrs:{"no-route-dismiss":!0,"no-esc-dismiss":!0,"no-backdrop-dismiss":!0},model:{value:t.progressBarVisible,callback:function(e){t.progressBarVisible=e},expression:"progressBarVisible"}},[n("q-progress",{attrs:{percentage:t.uploadProgress,color:"mc-main",stripe:!0,animate:!0,height:"1em"}})],1),n("div",{ref:"mv-popup",staticClass:"ol-popup",attrs:{id:"mv-popup"}},[n("q-btn",{staticClass:"ol-popup-closer",attrs:{icon:"mdi-close",color:"grey-8",size:"xs",flat:"",round:""},on:{click:t.closePopup}}),n("div",{staticClass:"ol-popup-content",attrs:{id:"mv-popup-content"},domProps:{innerHTML:t._s(t.popupContent)}})],1)],1)},K=[];Y._withStripped=!0;n("7f7f"),n("ac6a"),n("c5f6");var q=n("1442"),H=n("b12a"),W=n("b0b2"),$=n("2b0e"),J="".concat("").concat("/modeler/resource/put"),X="1024MB",Z=X.substr(X.length-2),Q="KB"===Z?1:"MB"===Z?2:"GB"===Z?3:"PB"===Z?4:0,tt=parseInt(X.substring(0,X.length-2),10)*Math.pow(1024,Q);function et(){var t=document.createElement("div");return("draggable"in t||"ondragstart"in t&&"ondrop"in t)&&"FormData"in window&&"FileReader"in window}var nt=$["a"].directive("upload",{inserted:function(t,e){var n=this;if(et()){var i=e.value&&e.value.onUploadProgress&&"function"===typeof e.value.onUploadProgress?e.value.onUploadProgress:function(){},o=e.value&&e.value.onUploadEnd&&"function"===typeof e.value.onUploadEnd?e.value.onUploadEnd:function(){console.debug("Upload complete")},r=e.value&&e.value.onUploadError&&"function"===typeof e.value.onUploadError?e.value.onUploadError:function(t){console.error(JSON.stringify(t,null,4))};["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"].forEach(function(e){t.addEventListener(e,function(t){t.preventDefault(),t.stopPropagation()},!1)}),t.addEventListener("drop",function(t){var a=t.dataTransfer.files;if(null!==a&&0!==a.length){for(var s=new FormData,c=[],u=0;u<a.length;u++)a[u].size>tt?r("File is too large, max sixe is ".concat(X)):(s.append("files[]",a[u]),c.push(a[u].name));"undefined"!==typeof e.value.refId&&null!==e.value.refId&&s.append("refId",e.value.refId||null),n.$axios.post(J,s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(t){i(parseInt(Math.round(100*t.loaded/t.total),10))}}).then(function(){o(null!==a&&c.length>0?c.join(", "):null)}).catch(function(t){r(t,null!==a&&c.length>0?c.join(", "):null)})}})}}}),it=n("741d"),ot=n("256f"),rt=n("5eee"),at=n("a2c7"),st=n("e300"),ct=n("9c78"),ut=n("c810"),lt=n("592d"),dt=n("e269"),ft={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},ht=n("cd7e"),pt=n("0999"),vt=n("1e8d"),yt=n("0af5"),gt={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},mt=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+ht["d"],this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,Object(vt["a"])(this,Object(dt["b"])(gt.ELEMENT),this.handleElementChanged,this),Object(vt["a"])(this,Object(dt["b"])(gt.MAP),this.handleMapChanged,this),Object(vt["a"])(this,Object(dt["b"])(gt.OFFSET),this.handleOffsetChanged,this),Object(vt["a"])(this,Object(dt["b"])(gt.POSITION),this.handlePositionChanged,this),Object(vt["a"])(this,Object(dt["b"])(gt.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:ft.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(gt.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(gt.MAP)},e.prototype.getOffset=function(){return this.get(gt.OFFSET)},e.prototype.getPosition=function(){return this.get(gt.POSITION)},e.prototype.getPositioning=function(){return this.get(gt.POSITIONING)},e.prototype.handleElementChanged=function(){Object(pt["d"])(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(pt["e"])(this.element),Object(vt["e"])(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(vt["a"])(t,lt["a"].POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(gt.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(gt.ELEMENT,t)},e.prototype.setMap=function(t){this.set(gt.MAP,t)},e.prototype.setOffset=function(t){this.set(gt.OFFSET,t)},e.prototype.setPosition=function(t){this.set(gt.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[Object(pt["c"])(n),Object(pt["b"])(n)]),o=this.autoPanMargin;if(!Object(yt["g"])(e,i)){var r=i[0]-e[0],a=e[2]-i[2],s=i[1]-e[1],c=e[3]-i[3],u=[0,0];if(r<0?u[0]=r-o:a<0&&(u[0]=Math.abs(a)+o),s<0?u[1]=s-o:c<0&&(u[1]=Math.abs(c)+o),0!==u[0]||0!==u[1]){var l=t.getView().getCenter(),d=t.getPixelFromCoordinate(l),f=[d[0]+u[0],d[1]+u[1]];t.getView().animate({center:t.getCoordinateFromPixel(f),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[i,o,i+e[0],o+e[1]]},e.prototype.setPositioning=function(t){this.set(gt.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var r=i[0],a=i[1];if(o==ft.BOTTOM_RIGHT||o==ft.CENTER_RIGHT||o==ft.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var s=Math.round(e[0]-t[0]-r)+"px";this.rendered.right_!=s&&(this.rendered.right_=n.right=s)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),o!=ft.BOTTOM_CENTER&&o!=ft.CENTER_CENTER&&o!=ft.TOP_CENTER||(r-=this.element.offsetWidth/2);var c=Math.round(t[0]+r)+"px";this.rendered.left_!=c&&(this.rendered.left_=n.left=c)}if(o==ft.BOTTOM_LEFT||o==ft.BOTTOM_CENTER||o==ft.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var u=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=u&&(this.rendered.bottom_=n.bottom=u)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),o!=ft.CENTER_LEFT&&o!=ft.CENTER_CENTER&&o!=ft.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var l=Math.round(t[1]+a)+"px";this.rendered.top_!=l&&(this.rendered.top_=n.top=l)}},e.prototype.getOptions=function(){return this.options},e}(dt["a"]),bt=mt,_t=n("b2da"),wt=n.n(_t),St=n("64d9"),xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"draggable",rawName:"v-draggable",value:t.dragDCConfig,expression:"dragDCConfig"}],staticClass:"md-draw-controls"},[n("div",{staticClass:"md-title"},[t._v("Draw mode")]),n("div",{staticClass:"md-controls"},[n("q-icon",{staticClass:"md-control md-ok",attrs:{name:"mdi-check-circle-outline"},nativeOn:{click:function(e){t.drawOk()}}}),n("q-icon",{staticClass:"md-control md-erase",class:[t.hasCustomContextFeatures?"":"disabled"],attrs:{name:"mdi-delete-variant"},nativeOn:{click:function(e){t.hasCustomContextFeatures&&t.drawErase()}}}),n("q-icon",{staticClass:"md-control md-cancel",attrs:{name:"mdi-close-circle-outline"},nativeOn:{click:function(e){t.drawCancel()}}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.selectors,expression:"selectors"}],staticClass:"md-selector"},[n("q-btn-toggle",{attrs:{"toggle-color":"mc-main",size:"md",options:[{tabindex:1,icon:"mdi-vector-point",value:"Point",disable:!0},{tabindex:2,icon:"mdi-vector-line",value:"LineString",disable:!0},{tabindex:3,icon:"mdi-vector-polygon",value:"Polygon"},{tabindex:4,icon:"mdi-vector-circle-variant",value:"Circle"}]},model:{value:t.drawType,callback:function(e){t.drawType=e},expression:"drawType"}})],1)])},Ot=[];xt._withStripped=!0;var Et=n("a27f"),Pt=n("3e6b"),Ct=n("5831"),It=n("6c77"),Tt=n("83a6"),Mt=n("8682"),Rt=n("ce2c"),At=n("ac29"),Nt=n("c807"),jt=n("4cdf"),kt=n("f822"),Dt=n("5bc3"),Lt={name:"MapDrawer",props:{map:{type:Object,required:!0},selectors:{type:Boolean,required:!1,default:!0},fillColor:{type:String,required:!1,default:"rgba(17, 170, 187, 0.3)"},strokeColor:{type:String,required:!1,default:"rgb(17, 170, 187)"},strokeWidth:{type:Number,required:!1,default:2},pointRadius:{type:Number,required:!1,default:5}},data:function(){return{drawerLayer:void 0,drawer:void 0,drawerModify:void 0,dragDCConfig:{resetInitialPos:!0},drawType:"Polygon"}},computed:{hasCustomContextFeatures:function(){return this.drawerLayer&&this.drawerLayer.getSource().getFeatures().length>0}},methods:c()({},Object(u["b"])("view",["setDrawMode"]),{drawOk:function(){var t=this.drawerLayer.getSource().getFeatures().filter(function(t){return null!==t.getGeometry()}),e=t.length,n=[];if(0!==e){for(var i=null,o=0;o<e;o+=1){var r=t[o].getGeometry();if(r instanceof kt["a"]||r instanceof Dt["a"]){var a=Object(W["c"])(Object(W["h"])(r));i=null===i?a:i.union(a)}else n.push(t[o])}null!==i&&n.push(new jt["a"]({geometry:W["i"].write(i)})),this.$emit("drawend",n)}this.drawerLayer.getSource().clear(),this.setDrawMode(!1)},drawErase:function(){var t=this.drawerLayer.getSource().getFeatures().filter(function(t){return null!==t.getGeometry()});t.length>0&&t.pop(),this.drawerLayer.getSource().clear(!0),this.drawerLayer.getSource().addFeatures(t)},drawCancel:function(){this.$emit("drawcancel"),this.drawerLayer.getSource().clear(),this.setDrawMode(!1)},setDrawer:function(){var t=this;this.drawer=new At["a"]({source:this.drawerLayer.getSource(),type:this.drawType}),this.drawer.on("drawend",function(e){var n=Object(W["h"])(e.feature.getGeometry());n.isValid()||(t.$q.notify({message:t.$t("messages.invalidGeometry"),type:"negative",timeout:1e3}),e.feature.setGeometry(null))}),this.map.addInteraction(this.drawer)}}),watch:{drawType:function(){this.map.removeInteraction(this.drawer),this.setDrawer()}},directives:{Draggable:Et["Draggable"]},mounted:function(){var t=new Ct["a"];this.drawerModify=new Nt["a"]({source:t}),this.drawerLayer=new Pt["a"]({id:"DrawerLayer",source:t,visible:!0,style:new It["c"]({fill:new Tt["a"]({color:this.fillColor}),stroke:new Mt["a"]({color:this.strokeColor,width:this.strokeWidth}),image:new Rt["a"]({radius:this.pointRadius,fill:new Tt["a"]({color:this.strokeColor})})})}),this.dragDCConfig.boundingElement=document.getElementById(this.map.get("target")),this.map.addLayer(this.drawerLayer),this.map.addInteraction(this.drawerModify),this.setDrawer()},beforeDestroy:function(){this.map.removeInteraction(this.drawer),this.map.removeInteraction(this.drawerModify),this.drawerLayer.getSource().clear(!0)}},Ft=Lt,Bt=(n("37a9"),Object(A["a"])(Ft,xt,Ot,!1,null,null,null));Bt.options.__file="MapDrawer.vue";var Vt=Bt.exports,Gt=n("f403"),Ut=(n("c58e"),{name:"MapViewer",components:{MapDrawer:Vt},props:{idx:{type:Number,required:!0}},directives:{UploadFiles:nt},data:function(){var t=this;return{center:this.$mapDefaults.center,zoom:this.$mapDefaults.zoom,map:null,view:null,layers:new st["a"],zIndexCounter:0,baseLayers:null,layerSwitcher:null,visibleBaseLayer:null,mapSelectionMarker:void 0,wktInstance:new St["a"],geolocationWaiting:!0,geolocationId:null,geolocationIncidence:null,popupContent:"",popupOverlay:void 0,contextLayer:null,uploadConfig:{refId:null,onUploadProgress:function(e){t.uploadProgress=e},onUploadEnd:function(e){t.$q.notify({message:t.$t("messages.uploadComplete",{fileName:e}),type:"info",timeout:1e3}),t.uploadProgress=null},onUploadError:function(e,n){t.$q.notify({message:"".concat(t.$t("errors.uploadError",{fileName:n}),"\n").concat(e.response.data.message),type:"negative",timeout:1e3}),t.uploadProgress=null}},uploadProgress:null,storedZoom:null,clicksOnMap:0}},computed:c()({observations:function(){return this.$store.getters["data/observationsOfViewer"](this.idx)}},Object(u["c"])("data",["hasContext","contextId","contextLabel","session"]),Object(u["c"])("view",["contextGeometry","observationInfo","exploreMode","mapSelection","isDrawMode","topLayer","mainViewer"]),Object(u["d"])("view",["saveLocation"]),{hasCustomContextFeatures:function(){return this.drawerLayer&&this.drawerLayer.getSource().getFeatures().length>0},progressBarVisible:function(){return null!==this.uploadProgress}}),methods:c()({},Object(u["b"])("data",["setCrossingIDL"]),Object(u["b"])("view",["addToKexplorerLog","setSpinner","setMapSelection","setDrawMode","setTopLayer"]),{handleResize:function(){null!==this.map&&(console.debug("HandleResize called!!!"),this.map.updateSize(),this.$eventBus.$emit(l["c"].MAP_SIZE_CHANGED))},onMoveEnd:function(){this.hasContext||this.isDrawMode||this.sendRegionOfInterest()},sendRegionOfInterest:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.geolocationWaiting){var t=null,e=Object(ot["k"])(this.view.getCenter(),q["d"].PROJ_EPSG_3857,q["d"].PROJ_EPSG_4326);Math.abs(e[0])>180&&(e[0]%=180,this.view.animate({center:Object(ot["k"])(e,q["d"].PROJ_EPSG_4326,q["d"].PROJ_EPSG_3857),duration:500}));try{var n=Object(ot["l"])(this.map.getView().calculateExtent(this.map.getSize()),"EPSG:3857","EPSG:4326");if(n[0]<-180||n[1]<-90||n[2]>180||n[3]>90)return void this.setCrossingIDL(!0);this.setCrossingIDL(!1),t=d["a"].REGION_OF_INTEREST(n,this.session)}catch(t){console.error(t),this.addToKexplorerLog({type:l["i"].TYPE_ERROR,payload:{message:t.message,attach:t}})}t&&t.body&&(this.sendStompMessage(t.body),this.saveLocation&&it["a"].set(l["r"].COOKIE_MAPDEFAULT,{center:this.view.getCenter(),zoom:this.view.getZoom()},{expires:30,path:"/"}))}},findExistingLayerById:function(t){if(this.layers&&null!==this.layers){var e=this.layers.getArray();return e.find(function(e){return e.get("id")===t})}return null},findLayerById:function(){var t=T()(regeneratorRuntime.mark(function t(e){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.findExistingLayerById(e.id),"undefined"===typeof n||null===n){t.next=3;break}return t.abrupt("return",n);case 3:return t.prev=3,console.debug("Creating layer: ".concat(e.label)),t.next=7,Object(H["d"])(e,{projection:this.proj});case 7:return i=t.sent,this.zIndexCounter+=1,e.zIndex=this.zIndexCounter+e.zIndexOffset,i.setZIndex(e.zIndex),this.layers.push(i),t.abrupt("return",i);case 15:return t.prev=15,t.t0=t["catch"](3),console.error(t.t0.message),this.$q.notify({message:t.t0.message,type:"negative",timeout:3e3}),t.abrupt("return",null);case 20:case"end":return t.stop()}},t,this,[[3,15]])}));return function(e){return t.apply(this,arguments)}}(),drawContext:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==e&&(this.layers.clear(),null!==this.contextLayer?(this.map.removeLayer(this.contextLayer),this.contextLayer=null):this.baseLayers.removeMask()),null===this.contextGeometry)return console.debug("No context, send region of interest"),void this.sendRegionOfInterest();this.contextGeometry instanceof Array?(this.contextLayer=new Pt["a"]({id:this.contextId,source:new Ct["a"]({features:[new jt["a"]({geometry:new Gt["a"](this.contextGeometry),name:this.contextLabel,id:this.contextId})]}),style:Object(W["d"])(q["e"].POINT_CONTEXT_SVG_PARAM,this.contextLabel)}),this.map.addLayer(this.contextLayer),this.view.setCenter(this.contextGeometry)):(this.baseLayers.setMask(this.contextGeometry),this.view.fit(this.contextGeometry,{padding:[10,10,10,10],constrainResolution:!1}))},drawObservations:function(){var t=this;this.observations&&this.observations.length>0&&(this.observations.forEach(function(e){e.observationType!==l["j"].TYPE_GROUP&&t.findLayerById(e).then(function(n){null!==n&&(n.setVisible(e.visible),n.setOpacity(e.layerOpacity),e.top?n.setZIndex(e.zIndexOffset+(q["d"].ZINDEX_OFFSET-1)):n.setZIndex(e.zIndex),e.visible&&e.top&&Object(H["f"])(e)&&e.dataSummary.histogram.length>0&&(null===t.topLayer||t.topLayer.id!==e.id)?t.setTopLayer({id:e.id,desc:e.label}):e.visible&&e.top||null===t.topLayer||t.topLayer.id!==e.id||t.setTopLayer(null))})}),null===this.topLayer&&this.closePopup())},sendSpatialLocation:function(t){if(t){var e=this.wktInstance.writeFeaturesText(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});this.sendStompMessage(d["a"].SPATIAL_LOCATION({wktShape:e},this.session).body),this.setCrossingIDL(!1)}},doGeolocation:function(){var t=this;null!==this.geolocationId&&navigator.geolocation.clearWatch(this.geolocationId),this.geolocationId=navigator.geolocation.watchPosition(function(e){t.center=Object(ot["k"])([e.coords.longitude,e.coords.latitude],q["d"].PROJ_EPSG_4326,q["d"].PROJ_EPSG_3857),t.stopGeolocation()},function(e){switch(e.code){case e.PERMISSION_DENIED:t.geolocationIncidence=t.$t("messages.geolocationErrorPermissionDenied");break;case e.POSITION_UNAVAILABLE:t.geolocationIncidence=t.$t("messages.geolocationErrorPermissionDenied");break;case e.TIMEOUT:t.geolocationIncidence=t.$t("messages.geolocationErrorPermissionDenied");break;default:t.geolocationIncidence=t.$t("messages.geolocationErrorPermissionDenied");break}},{enableHighAccuracy:!0,maximumAge:3e4,timeout:6e4})},retryGeolocation:function(){this.geolocationIncidence=null,this.doGeolocation()},stopGeolocation:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];navigator.geolocation.clearWatch(this.geolocationId),this.$nextTick(function(){t.geolocationWaiting=!1,e&&t.sendRegionOfInterest()})},closePopup:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!t&&this.mapSelection.locked||(this.setMapSelection(l["b"].EMPTY_MAP_SELECTION),this.popupOverlay.setPosition(void 0))},setMapInfoPoint:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.event,n=void 0===e?null:e,i=t.locked,o=void 0!==i&&i;if(!this.exploreMode&&null===this.topLayer||null!==n&&(this.contextGeometry instanceof Array||!this.contextGeometry.intersectsCoordinate(n.coordinate)))this.$eventBus.$emit(l["c"].VIEWER_CLICK,n);else{var r,a;null!==n?(r=n.coordinate,o&&(n.preventDefault(),n.stopPropagation())):(o=this.mapSelection.locked,r=this.mapSelection.pixelSelected),a=this.exploreMode?this.observationInfo.id:this.topLayer.id;var s=this.findExistingLayerById(a),u=new ut["a"]({id:"cl_".concat(a),source:s.getSource()});this.setMapSelection(c()({pixelSelected:r,layerSelected:u},!this.exploreMode&&{observationId:this.topLayer.id},{locked:o}))}}}),watch:{contextGeometry:function(t,e){this.drawContext(t,e)},observations:{handler:function(){this.drawObservations(!1)},deep:!0},center:function(){this.view.setCenter(this.center)},mapSelection:function(t){if("undefined"!==typeof t&&null!==t&&null!==t.pixelSelected){if(this.mapSelectionMarker.setPosition(t.pixelSelected),null!==this.topLayer){var e=Object(ot["k"])(t.pixelSelected,"EPSG:3857","EPSG:4326");this.popupContent="<h3>".concat(this.topLayer.desc,'</h3>\n          <div class="mv-popup-separator"></div>\n          <p class="mv-popup-value">').concat(t.value,'</p>\n          <div class="mv-popup-separator"></div>\n          <p class="mv-popup-coord">').concat(e[1].toFixed(6),", ").concat(e[0].toFixed(6),"</p>"),this.popupOverlay.setPosition(t.pixelSelected)}}else this.closePopup(),this.mapSelectionMarker.setPosition(void 0)},hasContext:function(t){this.uploadConfig.refId=this.contextId,t?this.setDrawMode(!1):(this.sendRegionOfInterest(),this.popupOverlay.setPosition(void 0))},topLayer:function(t){null!==t&&this.mapSelection.locked?this.setMapInfoPoint():this.closePopup()}},created:function(){this.geolocationWaiting="geolocation"in navigator&&!it["a"].has(l["r"].COOKIE_MAPDEFAULT)},mounted:function(){var t=this;this.baseLayers=q["a"],this.baseLayers.layers.forEach(function(e){e.get("name")===t.$baseLayer&&(e.setVisible(!0),t.visibleBaseLayer=e);var n=e;n.on("propertychange",function(e){t.visibleBaseLayer=n,"propertychange"===e.type&&"visible"===e.key&&e.target.get(e.key)&&it["a"].set(l["r"].COOKIE_BASELAYER,n.get("name"),{expires:30,path:"/"})})});var e=q["c"].MAPBOX_GOT;e.setVisible(!0);var n=new ct["a"]({title:"BaseLayers",layers:this.baseLayers.layers});this.map=new rt["a"]({view:new at["a"]({center:this.center,zoom:this.zoom}),layers:n,target:"map".concat(this.idx),loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),this.map.on("moveend",this.onMoveEnd),this.map.on("click",function(i){if(window.event.ctrlKey&&window.event.altKey&&window.event.shiftKey){var o=n.getLayersArray().slice(-1)[0];o&&"mapbox_got"===o.get("name")?(n.getLayers().pop(),t.baseLayers.layers.forEach(function(e){e.get("name")===t.$baseLayer&&(e.setVisible(!0),t.visibleBaseLayer=e)})):(n.getLayers().push(e),t.$q.notify({message:t.$t("messages.youHaveGOT"),type:"info",timeout:1500}))}t.clicksOnMap+=1,setTimeout(function(){1===t.clicksOnMap&&(t.setMapInfoPoint({event:i}),t.clicksOnMap=0)},300)}),this.map.on("dblclick",function(e){t.setMapInfoPoint({event:e,locked:!0}),t.clicksOnMap=0}),this.view=this.map.getView(),this.proj=this.view.getProjection(),this.map.addLayer(new ct["a"]({layers:this.layers})),this.layerSwitcher=new wt.a,this.map.addControl(this.layerSwitcher),this.mapSelectionMarker=new bt({element:document.getElementById("msm-".concat(this.idx)),positioning:"center-center"}),this.map.addOverlay(this.mapSelectionMarker),this.popupOverlay=new bt({element:document.getElementById("mv-popup"),autoPan:!0,autoPanAnimation:{duration:250}}),this.map.addOverlay(this.popupOverlay),this.drawContext(),this.drawObservations(),this.geolocationWaiting&&this.doGeolocation(),this.$eventBus.$on(l["c"].NEED_FIT_MAP,function(e){var n=e.mainIdx,i=void 0===n?null:n,o=e.geometry,r=void 0===o?null:o;null===r&&t.mainViewer.name===l["p"].DATA_VIEWER.name&&t.contextGeometry&&null!==t.contextGeometry&&(r=t.contextGeometry),null!==r?(null!==i&&t.idx===i||(t.storedZoom=t.view.getZoom()),setTimeout(function(){r instanceof Array?t.view.setCenter(r):t.view.fit(r,{padding:[10,10,10,10],constrainResolution:!1})},200)):null!==t.storedZoom&&(t.view.setZoom(t.storedZoom),t.storedZoom=null)}),this.$eventBus.$on(l["c"].OBSERVATION_INFO_CLOSED,function(){t.mapSelection.locked||t.closePopup()}),this.$eventBus.$on(l["c"].SEND_REGION_OF_INTEREST,function(){t.sendRegionOfInterest()})}}),zt=Ut,Yt=(n("c612"),Object(A["a"])(zt,Y,K,!1,null,null,null));Yt.options.__file="MapViewer.vue";var Kt=Yt.exports,qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fit gv-container",on:{wheel:t.changeForce}},[0===t.nodes.length?n("q-spinner",{attrs:{color:"mc-main",size:40}}):t._e(),n("q-resize-observable",{on:{resize:t.resize}}),n("d3-network",{ref:"gv-graph-"+t.idx,attrs:{"net-nodes":t.nodes,"net-links":t.links,options:t.options}})],1)},Ht=[];qt._withStripped=!0;n("f751");var Wt=n("a5b7"),$t=n.n(Wt),Jt={name:"GraphViewer",components:{D3Network:$t.a},props:{idx:{type:Number,required:!0}},data:function(){var t=Object.assign({},l["s"]);return t},computed:{observation:function(){var t=this.$store.getters["data/observationsOfViewer"](this.idx);return t.length>0?t[0]:null}},methods:{loadGraph:function(){var t=this,e="".concat("").concat("/modeler/engine/session/view/","data/").concat(this.observation.id);Object(H["b"])("gr_".concat(this.observation.id),e,{params:{format:"NETWORK",outputFormat:"json"}},function(e,n){if(e&&"undefined"!==typeof e.data){var i=e.data,o=i.nodes,r=i.edges;t.nodes=o.map(function(t){return{id:t.id,name:t.label,nodeSym:"~assets/klab-spinner.svg"}}),t.links=r.map(function(t){return{id:t.id,name:t.label,sid:t.source,tid:t.target}}),t.resize()}n()})},resize:function(){var t={w:this.$el.clientWidth,h:this.$el.clientHeight};this.updateOptions("size",t)},changeForce:function(t){if(t.preventDefault(),t&&t.deltaY){var e=this.options.force;if(t.deltaY<0&&e<5e3)e+=50;else{if(!(t.deltaY>0&&e>50))return;e-=50}this.updateOptions("force",e)}},updateOptions:function(t,e){this.options=c()({},this.options,a()({},t,e))},reset:function(){this.selected={},this.linksSelected={},this.nodes=[],this.links=[],this.$set(this.$data,"options",l["s"].options)}},watch:{observation:function(t){null!==t&&0===this.nodes.length?this.loadGraph():null===t&&this.reset()}},mounted:function(){var t=this;this.options.size.w=this.$el.clientWidth,this.options.size.h=this.$el.clientHeight,this.$eventBus.$on(l["c"].VIEWER_CLOSED,function(e){var n=e.idx;n===t.idx&&t.$eventBus.$emit(l["c"].SHOW_NODE,{nodeId:t.observation.id,state:!1})})}},Xt=Jt,Zt=(n("6420"),n("9198"),Object(A["a"])(Xt,qt,Ht,!1,null,null,null));Zt.options.__file="GraphViewer.vue";var Qt=Zt.exports,te=[],ee={components:{MapViewer:Kt,GraphViewer:Qt},computed:c()({},Object(u["c"])("view",["dataViewers","mainDataViewerIdx","dataViewers"])),methods:c()({},Object(u["b"])("view",["setMainDataViewer"]),{setMain:function(t){this.setMainDataViewer({viewerIdx:t}),this.$eventBus.$emit(l["c"].VIEWER_SELECTED,{idx:t})},closeViewer:function(t){this.setMainDataViewer({viewerIdx:t.idx,viewerType:t.type,visible:!1}),this.$eventBus.$emit(l["c"].VIEWER_CLOSED,{idx:t.idx})},viewerStyle:function(t){return t.main?"":t.type.hideable&&!t.visible?"display: none":(te.push(t),0===te.length?"left: 0":"left: ".concat(200*(te.length-1)+10*(te.length-1),"px"))},capitalize:function(t){return Object(W["a"])(t)}}),watch:{mainDataViewerIdx:function(){te=[]},dataViewers:{handler:function(t){var e=this,n=t.length>0?t.find(function(t){return t.main}):null;this.$nextTick(function(){e.$eventBus.$emit(l["c"].NEED_FIT_MAP,c()({},null!==n&&{idx:n.idx}))})},deep:!0}},beforeUpdate:function(){te=[]},mounted:function(){te=[]}},ne=ee,ie=(n("ab69"),Object(A["a"])(ne,U,z,!1,null,"24f405c0",null));ie.options.__file="DataViewer.vue";var oe=ie.exports,re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"full-width",attrs:{id:"mc-report-wrapper"}},[n("div",{attrs:{id:"mc-report-content"},domProps:{innerHTML:t._s(t.report)}})])},ae=[];re._withStripped=!0;var se={name:"ReportViewer",data:function(){return{report:this.$t("messages.noLoadedReport"),scrollBar:void 0}},computed:c()({},Object(u["c"])("data",["hasContext","contextId","hasObservations"]),Object(u["d"])("view",["reloadReport"])),methods:c()({},Object(u["b"])("view",["setReloadReport"]),{loadReport:function(){var t=this;this.reloadReport&&this.hasContext&&this.hasObservations&&this.$axios.get("".concat("").concat("/modeler/engine/session/observation/","report/").concat(this.contextId),{}).then(function(e){var n=e.data;""===n&&(console.warn("Empty report"),n=t.$t("messages.emptyReport")),t.report=n,t.setReloadReport(!1)})}}),watch:{reloadReport:function(){this._inactive||this.loadReport()}},activated:function(){this.loadReport()}},ce=se,ue=(n("d5b4"),Object(A["a"])(ce,re,ae,!1,null,null,null));ue.options.__file="ReportViewer.vue";var le=ue.exports,de=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},fe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fit no-padding with-background",attrs:{id:"dfv-container"}},[n("div",{attrs:{id:"sprotty"}})])}];de._withStripped=!0;n("98db");var he=n("970b"),pe=n.n(he),ve=n("5bc30"),ye=n.n(ve),ge=n("8449f"),me=n("42d6"),be=n("e1c6"),_e=0,we=200,Se=!1,xe=function(){function t(){pe()(this,t)}return ye()(t,[{key:"handle",value:function(t){switch(t.kind){case me["SelectCommand"].KIND:Se=!1,_e=setTimeout(function(){Se||ge["b"].$emit(l["c"].GRAPH_NODE_SELECTED,t),Se=!1},we);break;case me["ViewportCommand"].KIND:clearTimeout(_e),Se=!0;break;default:console.warn("Unknow action: ".concat(t.kind));break}}},{key:"initialize",value:function(t){t.register(me["SelectCommand"].KIND,this),t.register(me["ViewportCommand"].KIND,this)}}]),t}();function Oe(t){return void 0!==t.source&&void 0!==t.target}function Ee(t){return void 0!==t.sources&&void 0!==t.targets}be.decorate(be.injectable(),xe);var Pe=function(){function t(){this.nodeIds=new Set,this.edgeIds=new Set,this.portIds=new Set,this.labelIds=new Set,this.sectionIds=new Set,this.isRestored=!1}return t.prototype.transform=function(t){var e,n,i=this,o={type:"graph",id:t.id||"root",children:[]};if(t.restored&&(this.isRestored=!0),t.children){var r=t.children.map(function(t){return i.transformElkNode(t)});(e=o.children).push.apply(e,r)}if(t.edges){var a=t.edges.map(function(t){return i.transformElkEdge(t)});(n=o.children).push.apply(n,a)}return o},t.prototype.transformElkNode=function(t){var e,n,i,o,r=this;this.checkAndRememberId(t,this.nodeIds);var a={type:"node",id:t.id,nodeType:t.id.split(".")[0],position:this.pos(t),size:this.size(t),status:this.isRestored?"processed":"waiting",children:[]};if(t.children){var s=t.children.map(function(t){return r.transformElkNode(t)});(e=a.children).push.apply(e,s)}if(t.ports){var c=t.ports.map(function(t){return r.transformElkPort(t)});(n=a.children).push.apply(n,c)}if(t.labels){var u=t.labels.map(function(t){return r.transformElkLabel(t)});(i=a.children).push.apply(i,u)}if(t.edges){var l=t.edges.map(function(t){return r.transformElkEdge(t)});(o=a.children).push.apply(o,l)}return a},t.prototype.transformElkPort=function(t){this.checkAndRememberId(t,this.portIds);var e={type:"port",id:t.id,position:this.pos(t),size:this.size(t),children:[]};return e},t.prototype.transformElkLabel=function(t){return this.checkAndRememberId(t,this.labelIds),{type:"label",id:t.id,text:t.text,position:this.pos(t),size:this.size(t)}},t.prototype.transformElkEdge=function(t){var e,n,i=this;this.checkAndRememberId(t,this.edgeIds);var o={type:"edge",id:t.id,sourceId:"",targetId:"",routingPoints:[],children:[]};if(Oe(t)?(o.sourceId=t.source,o.targetId=t.target,t.sourcePoint&&o.routingPoints.push(t.sourcePoint),t.bendPoints&&(e=o.routingPoints).push.apply(e,t.bendPoints),t.targetPoint&&o.routingPoints.push(t.targetPoint)):Ee(t)&&(o.sourceId=t.sources[0],o.targetId=t.targets[0],t.sections&&t.sections.forEach(function(t){var e;i.checkAndRememberId(t,i.sectionIds),o.routingPoints.push(t.startPoint),t.bendPoints&&(e=o.routingPoints).push.apply(e,t.bendPoints),o.routingPoints.push(t.endPoint)})),t.junctionPoints&&t.junctionPoints.forEach(function(e,n){var i={type:"junction",id:t.id+"_j"+n,position:e};o.children.push(i)}),t.labels){var r=t.labels.map(function(t){return i.transformElkLabel(t)});(n=o.children).push.apply(n,r)}return o},t.prototype.pos=function(t){return{x:t.x||0,y:t.y||0}},t.prototype.size=function(t){return{width:t.width||0,height:t.height||0}},t.prototype.checkAndRememberId=function(t,e){if(void 0==t.id)throw Error("An element is missing an id.");if(e.has(t.id))throw Error("Duplicate id: "+t.id+".");e.add(t.id)},t}(),Ce=n("e1c6"),Ie=n("393a"),Te=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Me={createElement:Ie["svg"]},Re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Te(e,t),e.prototype.render=function(t,e){var n="elknode "+(t.hoverFeedback?"mouseover ":"")+(t.selected?"selected ":"")+t.status+" elk-"+t.nodeType;return Me.createElement("g",null,Me.createElement("rect",{classNames:n,x:"0",y:"0",width:t.bounds.width,height:t.bounds.height}),e.renderChildren(t))},e}(me["RectangularNodeView"]),Ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Te(e,t),e.prototype.render=function(t,e){return Me.createElement("g",null,Me.createElement("rect",{"class-elkport":!0,"class-mouseover":t.hoverFeedback,"class-selected":t.selected,x:"0",y:"0",width:t.bounds.width,height:t.bounds.height}),e.renderChildren(t))},e}(me["RectangularNodeView"]),Ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Te(e,t),e.prototype.renderLine=function(t,e,n){for(var i=e[0],o="M "+i.x+","+i.y,r=1;r<e.length;r++){var a=e[r];o+=" L "+a.x+","+a.y}return Me.createElement("path",{"class-elkedge":!0,d:o})},e.prototype.renderAdditionals=function(t,e,n){var i=e[e.length-2],o=e[e.length-1];return[Me.createElement("path",{"class-edge":!0,"class-arrow":!0,d:"M 0,0 L 8,-3 L 8,3 Z",transform:"rotate("+Object(me["toDegrees"])(Object(me["angleOfPoint"])({x:i.x-o.x,y:i.y-o.y}))+" "+o.x+" "+o.y+") translate("+o.x+" "+o.y+")"})]},e}(me["PolylineEdgeView"]),je=function(){function t(){}return t.prototype.render=function(t,e){return Me.createElement("text",{"class-elklabel":!0},t.text)},t}(),ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Te(e,t),e.prototype.render=function(t,e){var n=this.getRadius(t);return Me.createElement("g",null,Me.createElement("circle",{"class-elkjunction":!0,r:n}))},e.prototype.getRadius=function(t){return 2},e}(me["CircularNodeView"]),De=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Le=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return De(e,t),e.prototype.hasFeature=function(e){return e!==me["moveFeature"]&&t.prototype.hasFeature.call(this,e)},e}(me["RectangularNode"]),Fe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return De(e,t),e.prototype.hasFeature=function(e){return e!==me["moveFeature"]&&t.prototype.hasFeature.call(this,e)},e}(me["RectangularPort"]),Be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return De(e,t),e.prototype.hasFeature=function(e){return e!==me["editFeature"]&&t.prototype.hasFeature.call(this,e)},e}(me["SEdge"]),Ve=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return De(e,t),e.prototype.hasFeature=function(e){return e!==me["moveFeature"]&&e!==me["selectFeature"]&&e!==me["hoverFeedbackFeature"]&&t.prototype.hasFeature.call(this,e)},e}(me["SNode"]),Ge=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ge(e,t),e.prototype.isExported=function(t){return null!==t.href&&(t.href.endsWith("diagram.css")||t.href.endsWith("sprotty.css"))},e}(me["SvgExporter"]);function ze(t,e){var n=t.needsClientLayout,i=void 0!==n&&n,o=t.needsServerLayout,r=void 0===o?!i:o;void 0===e&&(e="warn");var a="debug"===e?me["LogLevel"].log:"info"===e?me["LogLevel"].info:"warn"===e?me["LogLevel"].warn:"error"===e?me["LogLevel"].error:me["LogLevel"].none,s=new Ce["ContainerModule"](function(t,e,n,o){t(me["TYPES"].ModelSource).to(me["LocalModelSource"]).inSingletonScope(),o(me["TYPES"].ILogger).to(me["ConsoleLogger"]).inSingletonScope(),o(me["TYPES"].LogLevel).toConstantValue(a),o(me["TYPES"].IModelFactory).to(me["SGraphFactory"]).inSingletonScope(),o(me["TYPES"].SvgExporter).to(Ue).inSingletonScope();var s={bind:t,unbind:e,isBound:n,rebind:o};Object(me["configureModelElement"])(s,"graph",me["SGraph"],me["SGraphView"]),Object(me["configureModelElement"])(s,"node",Le,Re),Object(me["configureModelElement"])(s,"port",Fe,Ae),Object(me["configureModelElement"])(s,"edge",Be,Ne),Object(me["configureModelElement"])(s,"label",me["SLabel"],je),Object(me["configureModelElement"])(s,"junction",Ve,ke),Object(me["configureViewerOptions"])(s,{needsClientLayout:i,needsServerLayout:r})}),c=new Ce["Container"];return c.load(me["defaultModule"],me["selectModule"],me["boundsModule"],me["moveModule"],me["fadeModule"],me["hoverModule"],me["viewportModule"],me["exportModule"],me["edgeEditModule"],s),c}var Ye={name:"DataflowViewer",data:function(){return{graph:null,modelSource:null,actionDispatcher:null,interval:null,processing:!1,visible:!1,needsUpdate:!0}},computed:c()({},Object(u["c"])("data",["dataflow","dataflowStatuses","contextId","session","context"]),Object(u["c"])("view",["leftMenuState"]),{reloadDataflow:{get:function(){return this.$store.state.view.reloadDataflow},set:function(t){this.$store.state.view.reloadDataflow=t}}}),methods:c()({},Object(u["b"])("data",["addDataflow"]),{loadDataflow:function(){var t=this;console.info("Ask for dataflow"),this.$axios.get("".concat("").concat("/modeler/engine/session/observation/","dataflow/").concat(this.contextId),{}).then(function(e){var n=e.data;if("undefined"!==typeof n.jsonElkLayout&&null!==n.jsonElkLayout)try{var i=JSON.parse(n.jsonElkLayout);i.restored=t.context.restored,t.addDataflow(i)}catch(t){console.error("Error in dataflos layout for the context ".concat(n.taskId,": ").concat(t))}else console.error("Dataflow in task ".concat(n.taskId," has no layout"))})},doGraph:function(){if(null!==this.dataflow)if(this.processing)setTimeout(this.doGraph(),100);else if(this.visible){var t=JSON.parse(JSON.stringify(this.dataflow));this.processing=!0,this.graph=(new Pe).transform(t),this.modelSource.setModel(this.graph),this.actionDispatcher.dispatch(new me["FitToScreenAction"]([])),this.processing=!1,this.reloadDataflow=!1}else this.needsUpdate=!0},updateStatuses:function(){if(this.visible){if(0!==this.dataflowStatuses.length)for(var t=this.dataflowStatuses.length,e=0;e<t;e++){var n=this.dataflowStatuses[e],i=n.id,o=n.status,r=Object(H["a"])(this.graph,i);null!==r&&(r.status=o,this.modelSource.updateModel())}}else this.needsUpdate=!0},graphNodeSelectedListener:function(t){if(null!==t&&t.selectedElementsIDs)for(var e=t.selectedElementsIDs.length,n=e-1;n>=0;n-=1)this.sendStompMessage(d["a"].DATAFLOW_NODE_DETAILS({nodeId:t.selectedElementsIDs[n],contextId:this.context.id},this.session).body)}}),watch:{dataflow:function(){null!==this.dataflow&&this.doGraph()},dataflowStatuses:{handler:function(){null!==this.dataflow&&this.updateStatuses()},deep:!0}},mounted:function(){var t=ze({needsClientLayout:!1,needsServerLayout:!0},"info");t.bind(me["TYPES"].IActionHandlerInitializer).to(xe),this.modelSource=t.get(me["TYPES"].ModelSource),this.actionDispatcher=t.get(me["TYPES"].IActionDispatcher),this.$eventBus.$on(l["c"].GRAPH_NODE_SELECTED,this.graphNodeSelectedListener)},activated:function(){this.visible=!0,null===this.dataflow?this.loadDataflow():this.needsUpdate&&(this.doGraph(),this.updateStatuses(),this.needsUpdate=!1)},deactivated:function(){this.visible=!1},beforeDestroy:function(){this.$eventBus.$off(l["c"].GRAPH_NODE_SELECTED,this.graphNodeSelectedListener)}},Ke=Ye,qe=(n("7890"),Object(A["a"])(Ke,de,fe,!1,null,null,null));qe.options.__file="DataflowViewer.vue";var He=qe.exports,We=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-modal",{ref:"irm-modal-container",attrs:{"no-esc-dismiss":!0,"no-backdrop-dismiss":!0,"content-classes":["irm-container"]},on:{hide:t.cleanInputRequest},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[n("q-tabs",{class:{"irm-tabs-hidden":t.inputRequests.length<=1},attrs:{swipeable:"",animated:"",color:"white"},model:{value:t.selectedRequest,callback:function(e){t.selectedRequest=e},expression:"selectedRequest"}},[t._l(t.inputRequests,function(e){return n("q-tab",{key:e.messageId,class:{"irm-tabs-hidden":t.inputRequests.length<=1},attrs:{slot:"title",name:"request-"+e.messageId},slot:"title"})}),t._l(t.inputRequests,function(e){return n("q-tab-pane",{key:e.messageId,attrs:{name:"request-"+e.messageId}},[n("div",{staticClass:"irm-group"},[n("div",{staticClass:"irm-global-description"},[n("h4",[t._v(t._s(null!==e.sectionTitle?e.sectionTitle:t.$t("label.noInputSectionTitle")))]),n("p",[t._v(t._s(e.description))])]),n("div",{staticClass:"irm-fields-container",attrs:{"data-simplebar":""}},[n("div",{staticClass:"irm-fields-wrapper"},t._l(e.fields,function(i){return n("div",{key:t.getFieldId(i,e.messageId),staticClass:"irm-field"},[t.checkSectionTitle(i.sectionTitle)?n("div",{staticClass:"irm-section-description"},[n("h5",[t._v(t._s(i.sectionTitle))]),n("p",[t._v(t._s(i.sectionDescription))])]):t._e(),n("q-field",{attrs:{label:null!==i.label?i.label:i.id,helper:i.description}},[n(t.capitalizeFirstLetter(i.type)+"InputRequest",{tag:"component",attrs:{name:t.getFieldId(i,e.messageId),initialValue:i.initialValue,values:i.values,range:i.range,numericPrecision:i.numericPrecision,regexp:i.regexp},on:{change:function(n){t.updateForm(t.getFieldId(i,e.messageId),n)}}})],1)],1)}))]),n("div",{staticClass:"irm-buttons"},[n("q-btn",{attrs:{color:"primary",label:t.$t("label.cancelInputRequest")},on:{click:function(n){t.cancelRequest(e)}}}),n("q-btn",{attrs:{color:"mc-main",disable:t.formDataIsEmpty,label:t.$t("label.resetInputRequest")},on:{click:function(n){t.send(e.messageId,!0)}}}),n("q-btn",{attrs:{color:"mc-main",label:t.$t("label.submitInputRequest")},on:{click:function(n){t.send(e.messageId,!1)}}})],1)])])})],2)],1)},$e=[];We._withStripped=!0;n("6b54"),n("cadf"),n("456d");var Je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-input",{attrs:{color:"mc-main",type:"text",placeholder:t.initialValue,name:t.name,error:t.hasError,clearable:!0,"clear-value":t.initialValue},on:{input:t.emitInput},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})},Xe=[];Je._withStripped=!0;var Ze={name:"TextField",props:{initialValue:{type:String,required:!0},name:{type:String,required:!0}},data:function(){return{value:""}},computed:{hasError:function(){return this.value,!1}},methods:{emitInput:function(t){this.$emit("change",t)}}},Qe=Ze,tn=(n("9d14"),Object(A["a"])(Qe,Je,Xe,!1,null,null,null));tn.options.__file="TextField.vue";var en=tn.exports,nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-input",{attrs:{color:"mc-main",type:"number",placeholder:t.initialValue,name:t.name,error:t.hasError,clearable:!0,"clear-value":t.initialValue},on:{input:t.emitInput},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})},on=[];nn._withStripped=!0;var rn={name:"NumberField",props:{initialValue:{type:String,required:!0},name:{type:String,required:!0},numericPrecision:{type:Number,default:5},range:{type:String}},data:function(){return{value:""}},computed:{hasError:function(){return this.range,!1}},methods:{emitInput:function(t){var e=this;this.fitValue(),this.$nextTick(function(){e.$emit("change",t)})},fitValue:function(){0!==this.numericPrecision&&(this.value=this.value.toFixed(this.numericPrecision))}}},an=rn,sn=(n("d6e2"),Object(A["a"])(an,nn,on,!1,null,null,null));sn.options.__file="NumberField.vue";var cn=sn.exports,un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-checkbox",{attrs:{color:"mc-main",name:t.name},on:{input:t.emitInput},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})},ln=[];un._withStripped=!0;var dn={name:"BooleanField",props:{initialValue:{type:String,required:!0},name:{type:String,required:!0}},data:function(){return{checked:"true"===this.initialValue}},methods:{emitInput:function(t){var e=this;this.$nextTick(function(){e.$emit("change",t)})}}},fn=dn,hn=(n("bb33"),Object(A["a"])(fn,un,ln,!1,null,null,null));hn.options.__file="BooleanField.vue";var pn=hn.exports,vn=(n("a6f9"),{name:"InputRequestModal",components:{TextInputRequest:en,NumberInputRequest:cn,BooleanInputRequest:pn},sectionTitle:void 0,data:function(){return{formData:{},simpleBars:[],selectedRequest:null}},computed:c()({},Object(u["c"])("data",["session"]),Object(u["c"])("view",["hasInputRequests","inputRequests"]),{opened:{set:function(){},get:function(){return this.hasInputRequests}},formDataIsEmpty:function(){return 0===Object.keys(this.formData).length}}),methods:c()({},Object(u["b"])("view",["removeInputRequest"]),{send:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.inputRequests.find(function(e){return e.messageId===t});if("undefined"!==typeof i){var o=i.fields.reduce(function(t,o){if(n)t[e.getFieldId(o)]=o.initialValue;else{var r=e.formData[e.getFieldId(o,i.messageId)];t[e.getFieldId(o)]="undefined"===typeof r||null===r||""===r?o.initialValue:r.toString()}return t},{});this.sendStompMessage(d["a"].USER_INPUT_RESPONSE({messageId:i.messageId,requestId:i.requestId,values:o},this.session).body),this.removeInputRequest(i.messageId)}},cancelRequest:function(t){this.sendStompMessage(d["a"].USER_INPUT_RESPONSE({messageId:t.messageId,requestId:t.requestId,cancelRun:!0,values:{}},this.session).body),this.removeInputRequest(t.messageId)},updateForm:function(t,e){null===e?this.$delete(this.formData,t):this.$set(this.formData,t,e)},capitalizeFirstLetter:function(t){return Object(W["a"])(t)},getFieldId:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===e?"".concat(t.functionId,"/").concat(t.id):"".concat(e,"-").concat(t.functionId,"/").concat(t.id)},checkSectionTitle:function(t){return this.$options.sectionTitle!==t&&(this.$options.sectionTitle=t,!0)},cleanInputRequest:function(){this.formData={},this.removeInputRequest(null)}}),watch:{inputRequests:function(){this.inputRequests.length>0&&(this.selectedRequest="request-".concat(this.inputRequests[0].messageId))}}}),yn=vn,gn=(n("2b54"),Object(A["a"])(yn,We,$e,!1,null,null,null));gn.options.__file="InputRequestModal.vue";var mn=gn.exports,bn=n("fb82"),_n=(n("5bc0"),n("8195"),{name:"IndexPage",components:{KlabMainControl:G,DataViewer:oe,ReportViewer:le,DataflowViewer:He,KlabSpinner:b["a"],InputRequestModal:mn},data:function(){return{askForUndocking:!1}},computed:c()({},Object(u["c"])("data",["session"]),Object(u["c"])("stomp",["connectionState"]),Object(u["c"])("view",["searchIsActive","searchIsFocused","mainViewerName","mainViewer","isInModalMode"]),{logVisible:function(){return this.$logVisibility===l["r"].PARAMS_LOG_VISIBLE},modalVisible:{get:function(){return this.connectionState!==l["a"].CONNECTION_UP},set:function(t){console.warn("Try to set modalVisible as ".concat(t))}},modalText:function(){var t;return(t={},a()(t,l["a"].CONNECTION_UNKNOWN,this.$t("messages.connectionClosed")),a()(t,l["a"].CONNECTION_DOWN,this.$t("messages.connectionClosed")),a()(t,l["a"].CONNECTION_WORKING,this.$t("messages.connectionWorking")),a()(t,l["a"].CONNECTION_ERROR,this.$t("errors.connectionError")),t)[this.connectionState]},modalColor:function(){var t;return(t={},a()(t,l["a"].CONNECTION_UNKNOWN,bn["a"].getBrand("warning")),a()(t,l["a"].CONNECTION_DOWN,bn["a"].getBrand("warning")),a()(t,l["a"].CONNECTION_WORKING,bn["a"].getBrand("info")),a()(t,l["a"].CONNECTION_ERROR,bn["a"].getBrand("negative")),t)[this.connectionState]},modalAnimated:function(){var t;return(t={},a()(t,l["a"].CONNECTION_UNKNOWN,!1),a()(t,l["a"].CONNECTION_DOWN,!1),a()(t,l["a"].CONNECTION_WORKING,!0),a()(t,l["a"].CONNECTION_ERROR,!1),t)[this.connectionState]}}),methods:c()({},Object(u["b"])("view",["searchStart","searchStop","searchFocus","setMainViewer"]),{setChildrenToAskFor:function(){var t=Math.floor(window.innerHeight*parseInt(getComputedStyle(document.documentElement).getPropertyValue("--main-control-max-height"),10)/100),e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--q-tree-no-child-min-height"),10),n=Math.floor(t/e);console.info("Setted max children as ".concat(n)),this.$store.state.data.childrenToAskFor=n}}),watch:{},created:function(){"undefined"===typeof this.mainViewer&&this.setMainViewer(l["p"].DATA_VIEWER)},mounted:function(){var t=this;window.addEventListener("keydown",function(e){if(!t.modalVisible&&!t.isInModalMode)return 27===e.keyCode&&t.searchIsActive?(t.searchStop(),void e.preventDefault()):void((38===e.keyCode||40===e.keyCode||32===e.keyCode||t.isAcceptedKey(e.key))&&(t.searchIsActive?t.searchIsFocused||(t.searchFocus({char:e.key,focused:!0}),e.preventDefault()):(t.searchStart(e.key),e.preventDefault())))}),this.setChildrenToAskFor(),this.$eventBus.$on(l["c"].ASK_FOR_UNDOCK,function(e){t.askForUndocking=e}),this.sendStompMessage(d["a"].SETTING_CHANGE_REQUEST({setting:l["n"].INTERACTIVE_MODE,value:!1},this.session).body),this.sendStompMessage(d["a"].SETTING_CHANGE_REQUEST({setting:l["n"].LOCK_SPACE,value:!1},this.session).body),this.sendStompMessage(d["a"].SETTING_CHANGE_REQUEST({setting:l["n"].LOCK_TIME,value:!1},this.session).body)}}),wn=_n,Sn=(n("4797"),n("4332"),Object(A["a"])(wn,i,o,!1,null,"2d3b5f8b",null));Sn.options.__file="index.vue";e["default"]=Sn.exports},"945d":function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("e1c6"),c=n("6923"),u=n("3a92"),l=n("7436"),d=n("be02"),f=n("3f0a"),h=n("cf61"),p=n("42f7"),v=n("f4cb"),y=n("26ad"),g=n("5d19"),m=n("2440"),b=n("4741"),_=n("b485");function w(t){return void 0!==t&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("action")}e.isActionMessage=w;var S=function(){function t(){this.kind=t.KIND}return t.KIND="serverStatus",t}();e.ServerStatusAction=S;var x="__receivedFromServer",O=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,i)||this;return a.storage=o,a.logger=r,a.currentRoot={type:"NONE",id:"ROOT"},a.clientId=a.viewerOptions.baseDiv,a}return i(e,t),e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),e.registerCommand(h.UpdateModelCommand),e.register(p.ComputedBoundsAction.KIND,this),e.register(p.RequestBoundsCommand.KIND,this),e.register(v.RequestPopupModelAction.KIND,this),e.register(b.CollapseExpandAction.KIND,this),e.register(b.CollapseExpandAllAction.KIND,this),e.register(_.OpenAction.KIND,this),e.register(S.KIND,this)},e.prototype.handle=function(t){var e=this.handleLocally(t);if(e){var n={clientId:this.clientId,action:t};this.logger.log(this,"sending",n),this.sendMessage(n)}},e.prototype.messageReceived=function(t){var e=this,n="string"===typeof t?JSON.parse(t):t;w(n)&&n.action?n.clientId&&n.clientId!==this.clientId||(n.action[x]=!0,this.logger.log(this,"receiving",n),this.actionDispatcher.dispatch(n.action).then(function(){e.storeNewModel(n.action)})):this.logger.error(this,"received data is not an action message",n)},e.prototype.handleLocally=function(t){switch(this.storeNewModel(t),t.kind){case p.ComputedBoundsAction.KIND:return this.handleComputedBounds(t);case p.RequestBoundsCommand.KIND:return!1;case g.ExportSvgAction.KIND:return this.handleExportSvgAction(t);case S.KIND:return this.handleServerStateAction(t)}return!t[x]},e.prototype.storeNewModel=function(t){if(t.kind===f.SetModelCommand.KIND||t.kind===h.UpdateModelCommand.KIND||t.kind===p.RequestBoundsCommand.KIND){var e=t.newRoot;e&&(this.currentRoot=e,t.kind!==f.SetModelCommand.KIND&&t.kind!==h.UpdateModelCommand.KIND||(this.lastSubmittedModelType=e.type),this.storage.store(this.currentRoot))}},e.prototype.handleComputedBounds=function(t){if(this.viewerOptions.needsServerLayout)return!0;var e=new u.SModelIndex,n=this.currentRoot;e.add(n);for(var i=0,o=t.bounds;i<o.length;i++){var r=o[i],a=e.getById(r.elementId);void 0!==a&&this.applyBounds(a,r.newBounds)}if(void 0!==t.alignments)for(var s=0,c=t.alignments;s<c.length;s++){var l=c[s];a=e.getById(l.elementId);void 0!==a&&this.applyAlignment(a,l.newAlignment)}return n.type===this.lastSubmittedModelType?this.actionDispatcher.dispatch(new h.UpdateModelAction(n)):this.actionDispatcher.dispatch(new f.SetModelAction(n)),this.lastSubmittedModelType=n.type,!1},e.prototype.applyBounds=function(t,e){var n=t;n.position={x:e.x,y:e.y},n.size={width:e.width,height:e.height}},e.prototype.applyAlignment=function(t,e){var n=t;n.alignment={x:e.x,y:e.y}},e.prototype.handleExportSvgAction=function(t){var e=new Blob([t.svg],{type:"text/plain;charset=utf-8"});return m.saveAs(e,"diagram.svg"),!1},e.prototype.handleServerStateAction=function(t){return!1},e=o([s.injectable(),a(0,s.inject(c.TYPES.IActionDispatcher)),a(1,s.inject(c.TYPES.ActionHandlerRegistry)),a(2,s.inject(c.TYPES.ViewerOptions)),a(3,s.inject(c.TYPES.SModelStorage)),a(4,s.inject(c.TYPES.ILogger)),r("design:paramtypes",[Object,d.ActionHandlerRegistry,Object,l.SModelStorage,Object])],e),e}(y.ModelSource);e.DiagramServer=O},"96fa":function(t,e,n){"use strict";var i=n("fd0f"),o=n.n(i);o.a},9757:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("e1c6"),c=n("6923"),u=function(){function t(){}return t}();e.Command=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.merge=function(t,e){return!1},e}(u);e.MergeableCommand=l;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.undo=function(t){return t.logger.error(this,"Cannot undo a hidden command"),t.root},e.prototype.redo=function(t){return t.logger.error(this,"Cannot redo a hidden command"),t.root},e}(u);e.HiddenCommand=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(u);e.PopupCommand=f;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(u);e.SystemCommand=h;var p=function(){function t(t){this.commandType=t}return t.prototype.handle=function(t){return new this.commandType(t)},t}();e.CommandActionHandler=p;var v=function(){function t(t){this.commandCtrs=t}return t.prototype.initialize=function(t){this.commandCtrs.forEach(function(e){return t.registerCommand(e)})},t=o([s.injectable(),a(0,s.multiInject(c.TYPES.ICommand)),a(0,s.optional()),r("design:paramtypes",[Array])],t),t}();e.CommandActionHandlerInitializer=v},9811:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("6923"),r=n("e7fa"),a=new i.ContainerModule(function(t){t(o.TYPES.IVNodeDecorator).to(r.ElementFader).inSingletonScope()});e.default=a},"987d":function(t,e,n){"use strict";function i(t){return t<.5?t*t*2:1-(1-t)*(1-t)*2}Object.defineProperty(e,"__esModule",{value:!0}),e.easeInOut=i},"98db":function(t,e,n){(function(t,e){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;(function(n){(function(t){var i="object"===typeof e?e:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),o=r(n);function r(t,e){return function(n,i){"function"!==typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:i}),e&&e(n,i)}}"undefined"===typeof i.Reflect?i.Reflect=n:o=r(i.Reflect,o),t(o)})(function(e){var n=Object.prototype.hasOwnProperty,i="function"===typeof Symbol,o=i&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",r=i&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",a="function"===typeof Object.create,s={__proto__:[]}instanceof Array,c=!a&&!s,u={create:a?function(){return rt(Object.create(null))}:s?function(){return rt({__proto__:null})}:function(){return rt({})},has:c?function(t,e){return n.call(t,e)}:function(t,e){return e in t},get:c?function(t,e){return n.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},l=Object.getPrototypeOf(Function),d="object"===typeof t&&Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,THEME:"mat",MODE:"spa",WS_BASE_URL:"",STOMP_CLIENT_DEBUG:!1,ENGINE_URL:"/modeler",ENGINE_SHARED:"/modeler/shared/",WS_URL:"/modeler/message",WS_SUBSCRIBE:"/message",WS_MESSAGE_DESTINATION:"/klab/message",REST_STATUS:"/modeler/engine/status",REST_SESSION_VIEW:"/modeler/engine/session/view/",REST_SESSION_OBSERVATION:"/modeler/engine/session/observation/",REST_UPLOAD:"/modeler/resource/put",REST_UPLOAD_MAX_SIZE:"1024MB",SEARCH_TIMEOUT_MS:"4000",VUE_ROUTER_MODE:"hash",VUE_ROUTER_BASE:"",APP_URL:"undefined"})&&"true"===Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,THEME:"mat",MODE:"spa",WS_BASE_URL:"",STOMP_CLIENT_DEBUG:!1,ENGINE_URL:"/modeler",ENGINE_SHARED:"/modeler/shared/",WS_URL:"/modeler/message",WS_SUBSCRIBE:"/message",WS_MESSAGE_DESTINATION:"/klab/message",REST_STATUS:"/modeler/engine/status",REST_SESSION_VIEW:"/modeler/engine/session/view/",REST_SESSION_OBSERVATION:"/modeler/engine/session/observation/",REST_UPLOAD:"/modeler/resource/put",REST_UPLOAD_MAX_SIZE:"1024MB",SEARCH_TIMEOUT_MS:"4000",VUE_ROUTER_MODE:"hash",VUE_ROUTER_BASE:"",APP_URL:"undefined"})["REFLECT_METADATA_USE_MAP_POLYFILL"],f=d||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?nt():Map,h=d||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?it():Set,p=d||"function"!==typeof WeakMap?ot():WeakMap,v=new p;function y(t,e,n,i){if(L(n)){if(!q(t))throw new TypeError;if(!W(e))throw new TypeError;return P(t,e)}if(!q(t))throw new TypeError;if(!V(e))throw new TypeError;if(!V(i)&&!L(i)&&!F(i))throw new TypeError;return F(i)&&(i=void 0),n=K(n),C(t,e,n,i)}function g(t,e){function n(n,i){if(!V(n))throw new TypeError;if(!L(i)&&!$(i))throw new TypeError;N(t,e,n,i)}return n}function m(t,e,n,i){if(!V(n))throw new TypeError;return L(i)||(i=K(i)),N(t,e,n,i)}function b(t,e,n){if(!V(e))throw new TypeError;return L(n)||(n=K(n)),T(t,e,n)}function _(t,e,n){if(!V(e))throw new TypeError;return L(n)||(n=K(n)),M(t,e,n)}function w(t,e,n){if(!V(e))throw new TypeError;return L(n)||(n=K(n)),R(t,e,n)}function S(t,e,n){if(!V(e))throw new TypeError;return L(n)||(n=K(n)),A(t,e,n)}function x(t,e){if(!V(t))throw new TypeError;return L(e)||(e=K(e)),j(t,e)}function O(t,e){if(!V(t))throw new TypeError;return L(e)||(e=K(e)),k(t,e)}function E(t,e,n){if(!V(e))throw new TypeError;L(n)||(n=K(n));var i=I(e,n,!1);if(L(i))return!1;if(!i.delete(t))return!1;if(i.size>0)return!0;var o=v.get(e);return o.delete(n),o.size>0||(v.delete(e),!0)}function P(t,e){for(var n=t.length-1;n>=0;--n){var i=t[n],o=i(e);if(!L(o)&&!F(o)){if(!W(o))throw new TypeError;e=o}}return e}function C(t,e,n,i){for(var o=t.length-1;o>=0;--o){var r=t[o],a=r(e,n,i);if(!L(a)&&!F(a)){if(!V(a))throw new TypeError;i=a}}return i}function I(t,e,n){var i=v.get(t);if(L(i)){if(!n)return;i=new f,v.set(t,i)}var o=i.get(e);if(L(o)){if(!n)return;o=new f,i.set(e,o)}return o}function T(t,e,n){var i=M(t,e,n);if(i)return!0;var o=et(e);return!F(o)&&T(t,o,n)}function M(t,e,n){var i=I(e,n,!1);return!L(i)&&z(i.has(t))}function R(t,e,n){var i=M(t,e,n);if(i)return A(t,e,n);var o=et(e);return F(o)?void 0:R(t,o,n)}function A(t,e,n){var i=I(e,n,!1);if(!L(i))return i.get(t)}function N(t,e,n,i){var o=I(n,i,!0);o.set(t,e)}function j(t,e){var n=k(t,e),i=et(t);if(null===i)return n;var o=j(i,e);if(o.length<=0)return n;if(n.length<=0)return o;for(var r=new h,a=[],s=0,c=n;s<c.length;s++){var u=c[s],l=r.has(u);l||(r.add(u),a.push(u))}for(var d=0,f=o;d<f.length;d++){u=f[d],l=r.has(u);l||(r.add(u),a.push(u))}return a}function k(t,e){var n=[],i=I(t,e,!1);if(L(i))return n;var o=i.keys(),r=X(o),a=0;while(1){var s=Q(r);if(!s)return n.length=a,n;var c=Z(s);try{n[a]=c}catch(t){try{tt(r)}finally{throw t}}a++}}function D(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function L(t){return void 0===t}function F(t){return null===t}function B(t){return"symbol"===typeof t}function V(t){return"object"===typeof t?null!==t:"function"===typeof t}function G(t,e){switch(D(t)){case 0:return t;case 1:return t;case 2:return t;case 3:return t;case 4:return t;case 5:return t}var n=3===e?"string":5===e?"number":"default",i=J(t,o);if(void 0!==i){var r=i.call(t,n);if(V(r))throw new TypeError;return r}return U(t,"default"===n?"number":n)}function U(t,e){if("string"===e){var n=t.toString;if(H(n)){var i=n.call(t);if(!V(i))return i}var o=t.valueOf;if(H(o)){i=o.call(t);if(!V(i))return i}}else{o=t.valueOf;if(H(o)){i=o.call(t);if(!V(i))return i}var r=t.toString;if(H(r)){i=r.call(t);if(!V(i))return i}}throw new TypeError}function z(t){return!!t}function Y(t){return""+t}function K(t){var e=G(t,3);return B(e)?e:Y(e)}function q(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function H(t){return"function"===typeof t}function W(t){return"function"===typeof t}function $(t){switch(D(t)){case 3:return!0;case 4:return!0;default:return!1}}function J(t,e){var n=t[e];if(void 0!==n&&null!==n){if(!H(n))throw new TypeError;return n}}function X(t){var e=J(t,r);if(!H(e))throw new TypeError;var n=e.call(t);if(!V(n))throw new TypeError;return n}function Z(t){return t.value}function Q(t){var e=t.next();return!e.done&&e}function tt(t){var e=t["return"];e&&e.call(t)}function et(t){var e=Object.getPrototypeOf(t);if("function"!==typeof t||t===l)return e;if(e!==l)return e;var n=t.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return e;var o=i.constructor;return"function"!==typeof o?e:o===t?e:o}function nt(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[r]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var i=this._keys.length,o=n+1;o<i;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,i)},e.prototype.values=function(){return new n(this._keys,this._values,o)},e.prototype.entries=function(){return new n(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[r]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function i(t,e){return t}function o(t,e){return e}function a(t,e){return[t,e]}}function it(){return function(){function t(){this._map=new f}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[r]=function(){return this.keys()},t}()}function ot(){var t=16,e=u.create(),i=o();return function(){function t(){this._key=o()}return t.prototype.has=function(t){var e=r(t,!1);return void 0!==e&&u.has(e,this._key)},t.prototype.get=function(t){var e=r(t,!1);return void 0!==e?u.get(e,this._key):void 0},t.prototype.set=function(t,e){var n=r(t,!0);return n[this._key]=e,this},t.prototype.delete=function(t){var e=r(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=o()},t}();function o(){var t;do{t="@@WeakMap@@"+c()}while(u.has(e,t));return e[t]=!0,t}function r(t,e){if(!n.call(t,i)){if(!e)return;Object.defineProperty(t,i,{value:u.create()})}return t[i]}function a(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(t){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t):a(new Array(t),t)}function c(){var e=s(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",i=0;i<t;++i){var o=e[i];4!==i&&6!==i&&8!==i||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}function rt(t){return t.__=void 0,delete t.__,t}e("decorate",y),e("metadata",g),e("defineMetadata",m),e("hasMetadata",b),e("hasOwnMetadata",_),e("getMetadata",w),e("getOwnMetadata",S),e("getMetadataKeys",x),e("getOwnMetadataKeys",O),e("deleteMetadata",E)})})(n||(n={}))}).call(this,n("4362"),n("c8ba"))},9964:function(t,e,n){"use strict";function i(t){return t.hasFeature(e.expandFeature)&&"expanded"in t}Object.defineProperty(e,"__esModule",{value:!0}),e.expandFeature=Symbol("expandFeature"),e.isExpandable=i},"9ad4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("ee16"),o=function(){function t(){}return t.prototype.render=function(t,e){var n=i.default(t.code);return this.correctNamespace(n),n},t.prototype.correctNamespace=function(t){"svg"!==t.sel&&"g"!==t.sel||this.setNamespace(t,"http://www.w3.org/2000/svg")},t.prototype.setNamespace=function(t,e){void 0===t.data&&(t.data={}),t.data.ns=e;var n=t.children;if(void 0!==n)for(var i=0;i<n.length;i++){var o=n[i];"string"!==typeof o&&this.setNamespace(o,e)}},t}();e.PreRenderedView=o},"9d14":function(t,e,n){"use strict";var i=n("a5de"),o=n.n(i);o.a},"9e2e":function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a,s=n("e1c6"),c=n("6923");(function(t){t[t["none"]=0]="none",t[t["error"]=1]="error",t[t["warn"]=2]="warn",t[t["info"]=3]="info",t[t["log"]=4]="log"})(a=e.LogLevel||(e.LogLevel={}));var u=function(){function t(){this.logLevel=a.none}return t.prototype.error=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i]},t.prototype.warn=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i]},t.prototype.info=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i]},t.prototype.log=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i]},t=i([s.injectable()],t),t}();e.NullLogger=u;var l=function(){function t(t,e){void 0===t&&(t=a.log),void 0===e&&(e={baseDiv:""}),this.logLevel=t,this.viewOptions=e}return t.prototype.error=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(this.logLevel>=a.error)try{console.error.apply(t,this.consoleArguments(t,e,n))}catch(t){}},t.prototype.warn=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(this.logLevel>=a.warn)try{console.warn.apply(t,this.consoleArguments(t,e,n))}catch(t){}},t.prototype.info=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(this.logLevel>=a.info)try{console.info.apply(t,this.consoleArguments(t,e,n))}catch(t){}},t.prototype.log=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(this.logLevel>=a.log)try{console.log.apply(t,this.consoleArguments(t,e,n))}catch(t){}},t.prototype.consoleArguments=function(t,e,n){var i;i="object"===typeof t?t.constructor.name:t;var o=new Date;return[o.toLocaleTimeString()+" "+this.viewOptions.baseDiv+" "+i+": "+e].concat(n)},t=i([s.injectable(),r(0,s.inject(c.TYPES.LogLevel)),r(1,s.inject(c.TYPES.ViewerOptions)),o("design:paramtypes",[Number,Object])],t),t}();e.ConsoleLogger=l},"9f62":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("c5f4"),o=n("1979"),r=n("66d7");function a(){return function(t,e,n){var a=new o.Metadata(i.UNMANAGED_TAG,!0);r.tagParameter(t,e,n,a)}}e.unmanaged=a},"9f8d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("6923"),r=n("1cd9"),a=n("5d19"),s=new i.ContainerModule(function(t){t(o.TYPES.KeyListener).to(r.ExportSvgKeyListener).inSingletonScope(),t(o.TYPES.HiddenVNodeDecorator).to(r.ExportSvgDecorator).inSingletonScope(),t(o.TYPES.ICommand).toConstructor(r.ExportSvgCommand),t(o.TYPES.SvgExporter).to(a.SvgExporter).inSingletonScope()});e.default=s},a0af:function(t,e,n){"use strict";function i(t){return void 0!==t["position"]}function o(t){return t.hasFeature(e.moveFeature)&&i(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.moveFeature=Symbol("moveFeature"),e.isLocateable=i,e.isMoveable=o},a101:function(t,e,n){"use strict";var i=n("e524"),o=n.n(i);o.a},a1a5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("c5f4"),o=n("1979"),r=n("66d7");function a(t){return function(e,n,a){var s=new o.Metadata(i.NAME_TAG,t);r.tagParameter(e,n,a,s)}}e.targetName=a},a27f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("bcc9");e.Draggable=i.Draggable},a2e1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("dd02"),o=n("3a92"),r=n("66f9"),a=function(){function t(){}return t.prototype.layout=function(t,e){var n=e.getBoundsData(t),i=this.getLayoutOptions(t),o=this.getChildrenSize(t,i,e),r=i.paddingFactor*(i.resizeContainer?o.width:Math.max(0,this.getFixedContainerBounds(t,i,e).width)-i.paddingLeft-i.paddingRight),a=i.paddingFactor*(i.resizeContainer?o.height:Math.max(0,this.getFixedContainerBounds(t,i,e).height)-i.paddingTop-i.paddingBottom);if(r>0&&a>0){var s=this.layoutChildren(t,e,i,r,a);n.bounds=this.getFinalContainerBounds(t,s,i,r,a),n.boundsChanged=!0}},t.prototype.getFinalContainerBounds=function(t,e,n,i,o){return{x:t.bounds.x,y:t.bounds.y,width:i+n.paddingLeft+n.paddingRight,height:o+n.paddingTop+n.paddingBottom}},t.prototype.getFixedContainerBounds=function(t,e,n){var a=t;while(1){if(r.isBoundsAware(a)){var s=a.bounds;if(r.isLayoutContainer(a)&&e.resizeContainer&&n.log.error(a,"Resizable container found while detecting fixed bounds"),i.isValidDimension(s))return s}if(!(a instanceof o.SChildElement))return n.log.error(a,"Cannot detect fixed bounds"),i.EMPTY_BOUNDS;a=a.parent}},t.prototype.layoutChildren=function(t,e,n,o,a){var s=this,c={x:n.paddingLeft+.5*(o-o/n.paddingFactor),y:n.paddingTop+.5*(a-a/n.paddingFactor)};return t.children.forEach(function(t){if(r.isLayoutableChild(t)){var u=e.getBoundsData(t),l=u.bounds,d=s.getChildLayoutOptions(t,n);void 0!==l&&i.isValidDimension(l)&&(c=s.layoutChild(t,u,l,d,n,c,o,a))}}),c},t.prototype.getDx=function(t,e,n){switch(t){case"left":return 0;case"center":return.5*(n-e.width);case"right":return n-e.width}},t.prototype.getDy=function(t,e,n){switch(t){case"top":return 0;case"center":return.5*(n-e.height);case"bottom":return n-e.height}},t.prototype.getChildLayoutOptions=function(t,e){var n=t.layoutOptions;return void 0===n?e:this.spread(e,n)},t.prototype.getLayoutOptions=function(t){var e=this,n=t,i=[];while(void 0!==n){var r=n.layoutOptions;if(void 0!==r&&i.push(r),!(n instanceof o.SChildElement))break;n=n.parent}return i.reverse().reduce(function(t,n){return e.spread(t,n)},this.getDefaultLayoutOptions())},t}();e.AbstractLayout=a},a32f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("77d3"),o=function(){function t(t){this.id=i.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();e.Context=o},a5b7:function(t,e,n){(function(e,n){t.exports=n()})("undefined"!==typeof self&&self,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"014b":function(t,e,n){"use strict";var i=n("e53d"),o=n("07e3"),r=n("8e60"),a=n("63b6"),s=n("9138"),c=n("ebfd").KEY,u=n("294c"),l=n("dbdb"),d=n("45f2"),f=n("62a0"),h=n("5168"),p=n("ccb9"),v=n("6718"),y=n("47ee"),g=n("9003"),m=n("e4ae"),b=n("f772"),_=n("36c3"),w=n("1bc3"),S=n("aebd"),x=n("a159"),O=n("0395"),E=n("bf0b"),P=n("d9f6"),C=n("c3a1"),I=E.f,T=P.f,M=O.f,R=i.Symbol,A=i.JSON,N=A&&A.stringify,j="prototype",k=h("_hidden"),D=h("toPrimitive"),L={}.propertyIsEnumerable,F=l("symbol-registry"),B=l("symbols"),V=l("op-symbols"),G=Object[j],U="function"==typeof R,z=i.QObject,Y=!z||!z[j]||!z[j].findChild,K=r&&u(function(){return 7!=x(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=I(G,e);i&&delete G[e],T(t,e,n),i&&t!==G&&T(G,e,i)}:T,q=function(t){var e=B[t]=x(R[j]);return e._k=t,e},H=U&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},W=function(t,e,n){return t===G&&W(V,e,n),m(t),e=w(e,!0),m(n),o(B,e)?(n.enumerable?(o(t,k)&&t[k][e]&&(t[k][e]=!1),n=x(n,{enumerable:S(0,!1)})):(o(t,k)||T(t,k,S(1,{})),t[k][e]=!0),K(t,e,n)):T(t,e,n)},$=function(t,e){m(t);var n,i=y(e=_(e)),o=0,r=i.length;while(r>o)W(t,n=i[o++],e[n]);return t},J=function(t,e){return void 0===e?x(t):$(x(t),e)},X=function(t){var e=L.call(this,t=w(t,!0));return!(this===G&&o(B,t)&&!o(V,t))&&(!(e||!o(this,t)||!o(B,t)||o(this,k)&&this[k][t])||e)},Z=function(t,e){if(t=_(t),e=w(e,!0),t!==G||!o(B,e)||o(V,e)){var n=I(t,e);return!n||!o(B,e)||o(t,k)&&t[k][e]||(n.enumerable=!0),n}},Q=function(t){var e,n=M(_(t)),i=[],r=0;while(n.length>r)o(B,e=n[r++])||e==k||e==c||i.push(e);return i},tt=function(t){var e,n=t===G,i=M(n?V:_(t)),r=[],a=0;while(i.length>a)!o(B,e=i[a++])||n&&!o(G,e)||r.push(B[e]);return r};U||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(V,n),o(this,k)&&o(this[k],t)&&(this[k][t]=!1),K(this,t,S(1,n))};return r&&Y&&K(G,t,{configurable:!0,set:e}),q(t)},s(R[j],"toString",function(){return this._k}),E.f=Z,P.f=W,n("6abf").f=O.f=Q,n("355d").f=X,n("9aa9").f=tt,r&&!n("b8e3")&&s(G,"propertyIsEnumerable",X,!0),p.f=function(t){return q(h(t))}),a(a.G+a.W+a.F*!U,{Symbol:R});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)h(et[nt++]);for(var it=C(h.store),ot=0;it.length>ot;)v(it[ot++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return o(F,t+="")?F[t]:F[t]=R(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!U,"Object",{create:J,defineProperty:W,defineProperties:$,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:tt}),A&&a(a.S+a.F*(!U||u(function(){var t=R();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){var e,n,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(n=e=i[1],(b(e)||void 0!==t)&&!H(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!H(e))return e}),i[1]=e,N.apply(A,i)}}),R[j][D]||n("35e8")(R[j],D,R[j].valueOf),d(R,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},"01f9":function(t,e,n){"use strict";var i=n("2d00"),o=n("5ca1"),r=n("2aba"),a=n("32e9"),s=n("84f2"),c=n("41a0"),u=n("7f20"),l=n("38fd"),d=n("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),h="@@iterator",p="keys",v="values",y=function(){return this};t.exports=function(t,e,n,g,m,b,_){c(n,e,g);var w,S,x,O=function(t){if(!f&&t in I)return I[t];switch(t){case p:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",P=m==v,C=!1,I=t.prototype,T=I[d]||I[h]||m&&I[m],M=T||O(m),R=m?P?O("entries"):M:void 0,A="Array"==e&&I.entries||T;if(A&&(x=l(A.call(new t)),x!==Object.prototype&&x.next&&(u(x,E,!0),i||"function"==typeof x[d]||a(x,d,y))),P&&T&&T.name!==v&&(C=!0,M=function(){return T.call(this)}),i&&!_||!f&&!C&&I[d]||a(I,d,M),s[e]=M,s[E]=y,m)if(w={values:P?M:O(v),keys:b?M:O(p),entries:R},_)for(S in w)S in I||r(I,S,w[S]);else o(o.P+o.F*(f||C),e,w);return w}},"0395":function(t,e,n){var i=n("36c3"),o=n("6abf").f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?s(t):o(i(t))}},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"09fa":function(t,e,n){var i=n("4588"),o=n("9def");t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=o(e);if(e!==n)throw RangeError("Wrong length!");return n}},"0a49":function(t,e,n){var i=n("9b43"),o=n("626a"),r=n("4bf8"),a=n("9def"),s=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,d=6==t,f=5==t||d,h=e||s;return function(e,s,p){for(var v,y,g=r(e),m=o(g),b=i(s,p,3),_=a(m.length),w=0,S=n?h(e,_):c?h(e,0):void 0;_>w;w++)if((f||w in m)&&(v=m[w],y=b(v,w,g),t))if(n)S[w]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:S.push(v)}else if(l)return!1;return d?-1:u||l?l:S}}},"0bfb":function(t,e,n){"use strict";var i=n("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,n){var i=n("ce10"),o=n("e11e");t.exports=Object.keys||function(t){return i(t,o)}},"0f88":function(t,e,n){var i,o=n("7726"),r=n("32e9"),a=n("ca5a"),s=a("typed_array"),c=a("view"),u=!(!o.ArrayBuffer||!o.DataView),l=u,d=0,f=9,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(d<f)(i=o[h[d++]])?(r(i.prototype,s,!0),r(i.prototype,c,!0)):l=!1;t.exports={ABV:u,CONSTR:l,TYPED:s,VIEW:c}},"0fc9":function(t,e,n){var i=n("3a38"),o=Math.max,r=Math.min;t.exports=function(t,e){return t=i(t),t<0?o(t+e,0):r(t,e)}},1169:function(t,e,n){var i=n("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"11e9":function(t,e,n){var i=n("52a7"),o=n("4630"),r=n("6821"),a=n("6a99"),s=n("69a8"),c=n("c69a"),u=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?u:function(t,e){if(t=r(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},"13c8":function(t,e,n){var i=n("c3a1"),o=n("36c3"),r=n("355d").f;t.exports=function(t){return function(e){var n,a=o(e),s=i(a),c=s.length,u=0,l=[];while(c>u)r.call(a,n=s[u++])&&l.push(t?[n,a[n]]:a[n]);return l}}},1495:function(t,e,n){var i=n("86cc"),o=n("cb7c"),r=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){o(t);var n,a=r(e),s=a.length,c=0;while(s>c)i.f(t,n=a[c++],e[n]);return t}},1654:function(t,e,n){"use strict";var i=n("71c1")(!0);n("30f1")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"1af6":function(t,e,n){var i=n("63b6");i(i.S,"Array",{isArray:n("9003")})},"1bc3":function(t,e,n){var i=n("f772");t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(t,e,n){var i=n("f772"),o=n("e53d").document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},"20fd":function(t,e,n){"use strict";var i=n("d9f6"),o=n("aebd");t.exports=function(t,e,n){e in t?i.f(t,e,o(0,n)):t[e]=n}},"214f":function(t,e,n){"use strict";var i=n("32e9"),o=n("2aba"),r=n("79e5"),a=n("be13"),s=n("2b4c");t.exports=function(t,e,n){var c=s(t),u=n(a,c,""[t]),l=u[0],d=u[1];r(function(){var e={};return e[c]=function(){return 7},7!=""[t](e)})&&(o(String.prototype,t,l),i(RegExp.prototype,c,2==e?function(t,e){return d.call(t,this,e)}:function(t){return d.call(t,this)}))}},"230e":function(t,e,n){var i=n("d3f4"),o=n("7726").document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},"23c6":function(t,e,n){var i=n("2d95"),o=n("2b4c")("toStringTag"),r="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:r?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},"241e":function(t,e,n){var i=n("25eb");t.exports=function(t){return Object(i(t))}},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"27ee":function(t,e,n){var i=n("23c6"),o=n("2b4c")("iterator"),r=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[i(t)]}},"28a5":function(t,e,n){n("214f")("split",2,function(t,e,i){"use strict";var o=n("aae3"),r=i,a=[].push,s="split",c="length",u="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[c]||2!="ab"[s](/(?:ab)*/)[c]||4!="."[s](/(.?)(.?)/)[c]||"."[s](/()()/)[c]>1||""[s](/.?/)[c]){var l=void 0===/()??/.exec("")[1];i=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!o(t))return r.call(n,t,e);var i,s,d,f,h,p=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,g=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,v+"g");l||(i=new RegExp("^"+m.source+"$(?!\\s)",v));while(s=m.exec(n)){if(d=s.index+s[0][c],d>y&&(p.push(n.slice(y,s.index)),!l&&s[c]>1&&s[0].replace(i,function(){for(h=1;h<arguments[c]-2;h++)void 0===arguments[h]&&(s[h]=void 0)}),s[c]>1&&s.index<n[c]&&a.apply(p,s.slice(1)),f=s[0][c],y=d,p[c]>=g))break;m[u]===s.index&&m[u]++}return y===n[c]?!f&&m.test("")||p.push(""):p.push(n.slice(y)),p[c]>g?p.slice(0,g):p}}else"0"[s](void 0,0)[c]&&(i=function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)});return[function(n,o){var r=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,r,o):i.call(String(r),n,o)},i]})},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"2aba":function(t,e,n){var i=n("7726"),o=n("32e9"),r=n("69a8"),a=n("ca5a")("src"),s="toString",c=Function[s],u=(""+c).split(s);n("8378").inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(r(n,"name")||o(n,"name",e)),t[e]!==n&&(c&&(r(n,a)||o(n,a,t[e]?""+t[e]:u.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||c.call(this)})},"2aeb":function(t,e,n){var i=n("cb7c"),o=n("1495"),r=n("e11e"),a=n("613b")("IE_PROTO"),s=function(){},c="prototype",u=function(){var t,e=n("230e")("iframe"),i=r.length,o="<",a=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+a+"document.F=Object"+o+"/script"+a),t.close(),u=t.F;while(i--)delete u[c][r[i]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[c]=i(t),n=new s,s[c]=null,n[a]=t):n=u(),void 0===e?n:o(n,e)}},"2b4c":function(t,e,n){var i=n("5537")("wks"),o=n("ca5a"),r=n("7726").Symbol,a="function"==typeof r,s=t.exports=function(t){return i[t]||(i[t]=a&&r[t]||(a?r:o)("Symbol."+t))};s.store=i},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"30f1":function(t,e,n){"use strict";var i=n("b8e3"),o=n("63b6"),r=n("9138"),a=n("35e8"),s=n("481b"),c=n("8f60"),u=n("45f2"),l=n("53e2"),d=n("5168")("iterator"),f=!([].keys&&"next"in[].keys()),h="@@iterator",p="keys",v="values",y=function(){return this};t.exports=function(t,e,n,g,m,b,_){c(n,e,g);var w,S,x,O=function(t){if(!f&&t in I)return I[t];switch(t){case p:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",P=m==v,C=!1,I=t.prototype,T=I[d]||I[h]||m&&I[m],M=T||O(m),R=m?P?O("entries"):M:void 0,A="Array"==e&&I.entries||T;if(A&&(x=l(A.call(new t)),x!==Object.prototype&&x.next&&(u(x,E,!0),i||"function"==typeof x[d]||a(x,d,y))),P&&T&&T.name!==v&&(C=!0,M=function(){return T.call(this)}),i&&!_||!f&&!C&&I[d]||a(I,d,M),s[e]=M,s[E]=y,m)if(w={values:P?M:O(v),keys:b?M:O(p),entries:R},_)for(S in w)S in I||r(I,S,w[S]);else o(o.P+o.F*(f||C),e,w);return w}},"32e9":function(t,e,n){var i=n("86cc"),o=n("4630");t.exports=n("9e1e")?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"32fc":function(t,e,n){var i=n("e53d").document;t.exports=i&&i.documentElement},"335c":function(t,e,n){var i=n("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},"33a4":function(t,e,n){var i=n("84f2"),o=n("2b4c")("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||r[o]===t)}},"33cb":function(t,e,n){},"34ef":function(t,e,n){n("ec30")("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},"355d":function(t,e){e.f={}.propertyIsEnumerable},"35e8":function(t,e,n){var i=n("d9f6"),o=n("aebd");t.exports=n("8e60")?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"36bd":function(t,e,n){"use strict";var i=n("4bf8"),o=n("77f1"),r=n("9def");t.exports=function(t){var e=i(this),n=r(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);while(u>s)e[s++]=t;return e}},"36c3":function(t,e,n){var i=n("335c"),o=n("25eb");t.exports=function(t){return i(o(t))}},3702:function(t,e,n){var i=n("481b"),o=n("5168")("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||r[o]===t)}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"386b":function(t,e,n){var i=n("5ca1"),o=n("79e5"),r=n("be13"),a=/"/g,s=function(t,e,n,i){var o=String(r(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+o+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*o(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},"38fd":function(t,e,n){var i=n("69a8"),o=n("4bf8"),r=n("613b")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"3a38":function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},"3d11":function(t,e,n){"use strict";var i=n("33cb"),o=n.n(i);o.a},"40c3":function(t,e,n){var i=n("6b4c"),o=n("5168")("toStringTag"),r="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:r?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},"41a0":function(t,e,n){"use strict";var i=n("2aeb"),o=n("4630"),r=n("7f20"),a={};n("32e9")(a,n("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:o(1,n)}),r(t,e+" Iterator")}},4588:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},"45f2":function(t,e,n){var i=n("d9f6").f,o=n("07e3"),r=n("5168")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},"47ee":function(t,e,n){var i=n("c3a1"),o=n("9aa9"),r=n("355d");t.exports=function(t){var e=i(t),n=o.f;if(n){var a,s=n(t),c=r.f,u=0;while(s.length>u)c.call(t,a=s[u++])&&e.push(a)}return e}},"481b":function(t,e){t.exports={}},"4bf8":function(t,e,n){var i=n("be13");t.exports=function(t){return Object(i(t))}},"4ee1":function(t,e,n){var i=n("5168")("iterator"),o=!1;try{var r=[7][i]();r["return"]=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r=[7],a=r[i]();a.next=function(){return{done:n=!0}},r[i]=function(){return a},t(r)}catch(t){}return n}},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},5168:function(t,e,n){var i=n("dbdb")("wks"),o=n("62a0"),r=n("e53d").Symbol,a="function"==typeof r,s=t.exports=function(t){return i[t]||(i[t]=a&&r[t]||(a?r:o)("Symbol."+t))};s.store=i},5176:function(t,e,n){t.exports=n("51b6")},"51b6":function(t,e,n){n("a3c3"),t.exports=n("584a").Object.assign},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"53e2":function(t,e,n){var i=n("07e3"),o=n("241e"),r=n("5559")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"549b":function(t,e,n){"use strict";var i=n("d864"),o=n("63b6"),r=n("241e"),a=n("b0dc"),s=n("3702"),c=n("b447"),u=n("20fd"),l=n("7cd6");o(o.S+o.F*!n("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,d,f=r(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,g=0,m=l(f);if(y&&(v=i(v,p>2?arguments[2]:void 0,2)),void 0==m||h==Array&&s(m))for(e=c(f.length),n=new h(e);e>g;g++)u(n,g,y?v(f[g],g):f[g]);else for(d=m.call(f),n=new h;!(o=d.next()).done;g++)u(n,g,y?a(d,v,[o.value,g],!0):o.value);return n.length=g,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},5537:function(t,e,n){var i=n("8378"),o=n("7726"),r="__core-js_shared__",a=o[r]||(o[r]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("2d00")?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},5559:function(t,e,n){var i=n("dbdb")("keys"),o=n("62a0");t.exports=function(t){return i[t]||(i[t]=o(t))}},"584a":function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},"59a0":function(t,e,n){"use strict";var i=n("9257"),o=n.n(i);o.a},"5b4e":function(t,e,n){var i=n("36c3"),o=n("b447"),r=n("0fc9");t.exports=function(t){return function(e,n,a){var s,c=i(e),u=o(c.length),l=r(a,u);if(t&&n!=n){while(u>l)if(s=c[l++],s!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},"5ca1":function(t,e,n){var i=n("7726"),o=n("8378"),r=n("32e9"),a=n("2aba"),s=n("9b43"),c="prototype",u=function(t,e,n){var l,d,f,h,p=t&u.F,v=t&u.G,y=t&u.S,g=t&u.P,m=t&u.B,b=v?i:y?i[e]||(i[e]={}):(i[e]||{})[c],_=v?o:o[e]||(o[e]={}),w=_[c]||(_[c]={});for(l in v&&(n=e),n)d=!p&&b&&void 0!==b[l],f=(d?b:n)[l],h=m&&d?s(f,i):g&&"function"==typeof f?s(Function.call,f):f,b&&a(b,l,f,t&u.U),_[l]!=f&&r(_,l,h),g&&w[l]!=f&&(w[l]=f)};i.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},"5cc5":function(t,e,n){var i=n("2b4c")("iterator"),o=!1;try{var r=[7][i]();r["return"]=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r=[7],a=r[i]();a.next=function(){return{done:n=!0}},r[i]=function(){return a},t(r)}catch(t){}return n}},"5d58":function(t,e,n){t.exports=n("d8d6")},"5d6b":function(t,e,n){var i=n("e53d").parseInt,o=n("a1ce").trim,r=n("e692"),a=/^[-+]?0[xX]/;t.exports=8!==i(r+"08")||22!==i(r+"0x16")?function(t,e){var n=o(String(t),3);return i(n,e>>>0||(a.test(n)?16:10))}:i},"5d73":function(t,e,n){t.exports=n("469f")},"613b":function(t,e,n){var i=n("5537")("keys"),o=n("ca5a");t.exports=function(t){return i[t]||(i[t]=o(t))}},"626a":function(t,e,n){var i=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},"62a0":function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},"63b6":function(t,e,n){var i=n("e53d"),o=n("584a"),r=n("d864"),a=n("35e8"),s=n("07e3"),c="prototype",u=function(t,e,n){var l,d,f,h=t&u.F,p=t&u.G,v=t&u.S,y=t&u.P,g=t&u.B,m=t&u.W,b=p?o:o[e]||(o[e]={}),_=b[c],w=p?i:v?i[e]:(i[e]||{})[c];for(l in p&&(n=e),n)d=!h&&w&&void 0!==w[l],d&&s(b,l)||(f=d?w[l]:n[l],b[l]=p&&"function"!=typeof w[l]?n[l]:g&&d?r(f,i):m&&w[l]==f?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[c]=t[c],e}(f):y&&"function"==typeof f?r(Function.call,f):f,y&&((b.virtual||(b.virtual={}))[l]=f,t&u.R&&_&&!_[l]&&a(_,l,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},6718:function(t,e,n){var i=n("e53d"),o=n("584a"),r=n("b8e3"),a=n("ccb9"),s=n("d9f6").f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},"67bb":function(t,e,n){t.exports=n("f921")},6821:function(t,e,n){var i=n("626a"),o=n("be13");t.exports=function(t){return i(o(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"69d3":function(t,e,n){n("6718")("asyncIterator")},"6a99":function(t,e,n){var i=n("d3f4");t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},"6abf":function(t,e,n){var i=n("e6f3"),o=n("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},"6b4c":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"6b54":function(t,e,n){"use strict";n("3846");var i=n("cb7c"),o=n("0bfb"),r=n("9e1e"),a="toString",s=/./[a],c=function(t){n("2aba")(RegExp.prototype,a,t,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?o.call(t):void 0)}):s.name!=a&&c(function(){return s.call(this)})},"6c1c":function(t,e,n){n("c367");for(var i=n("e53d"),o=n("35e8"),r=n("481b"),a=n("5168")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=i[u],d=l&&l.prototype;d&&!d[a]&&o(d,a,u),r[u]=r.Array}},"6c7b":function(t,e,n){var i=n("5ca1");i(i.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"71c1":function(t,e,n){var i=n("3a38"),o=n("25eb");t.exports=function(t){return function(e,n){var r,a,s=String(o(e)),c=i(n),u=s.length;return c<0||c>=u?t?"":void 0:(r=s.charCodeAt(c),r<55296||r>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):r:t?s.slice(c,c+2):a-56320+(r-55296<<10)+65536)}}},7445:function(t,e,n){var i=n("63b6"),o=n("5d6b");i(i.G+i.F*(parseInt!=o),{parseInt:o})},"765d":function(t,e,n){n("6718")("observable")},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"774e":function(t,e,n){t.exports=n("d2d5")},"77f1":function(t,e,n){var i=n("4588"),o=Math.max,r=Math.min;t.exports=function(t,e){return t=i(t),t<0?o(t+e,0):r(t,e)}},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"7a56":function(t,e,n){"use strict";var i=n("7726"),o=n("86cc"),r=n("9e1e"),a=n("2b4c")("species");t.exports=function(t){var e=i[t];r&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},"7cd6":function(t,e,n){var i=n("40c3"),o=n("5168")("iterator"),r=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[i(t)]}},"7d6d":function(t,e,n){var i=n("63b6"),o=n("13c8")(!1);i(i.S,"Object",{values:function(t){return o(t)}})},"7d7b":function(t,e,n){var i=n("e4ae"),o=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},"7e90":function(t,e,n){var i=n("d9f6"),o=n("e4ae"),r=n("c3a1");t.exports=n("8e60")?Object.defineProperties:function(t,e){o(t);var n,a=r(e),s=a.length,c=0;while(s>c)i.f(t,n=a[c++],e[n]);return t}},"7f20":function(t,e,n){var i=n("86cc").f,o=n("69a8"),r=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},"7f7f":function(t,e,n){var i=n("86cc").f,o=Function.prototype,r=/^\s*function ([^ (]*)/,a="name";a in o||n("9e1e")&&i(o,a,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},8378:function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},8436:function(t,e){t.exports=function(){}},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,n){var i=n("cb7c"),o=n("c69a"),r=n("6a99"),a=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"8e60":function(t,e,n){t.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8f60":function(t,e,n){"use strict";var i=n("a159"),o=n("aebd"),r=n("45f2"),a={};n("35e8")(a,n("5168")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:o(1,n)}),r(t,e+" Iterator")}},9003:function(t,e,n){var i=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==i(t)}},9093:function(t,e,n){var i=n("ce10"),o=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},9138:function(t,e,n){t.exports=n("35e8")},9257:function(t,e,n){},9306:function(t,e,n){"use strict";var i=n("c3a1"),o=n("9aa9"),r=n("355d"),a=n("241e"),s=n("335c"),c=Object.assign;t.exports=!c||n("294c")(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=i})?function(t,e){var n=a(t),c=arguments.length,u=1,l=o.f,d=r.f;while(c>u){var f,h=s(arguments[u++]),p=l?i(h).concat(l(h)):i(h),v=p.length,y=0;while(v>y)d.call(h,f=p[y++])&&(n[f]=h[f])}return n}:c},"95d5":function(t,e,n){var i=n("40c3"),o=n("5168")("iterator"),r=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(i(e))}},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9b43":function(t,e,n){var i=n("d8e8");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var i=n("2b4c")("unscopables"),o=Array.prototype;void 0==o[i]&&n("32e9")(o,i,{}),t.exports=function(t){o[i][t]=!0}},"9def":function(t,e,n){var i=n("4588"),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},"9e1c":function(t,e,n){n("7d6d"),t.exports=n("584a").Object.values},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a159:function(t,e,n){var i=n("e4ae"),o=n("7e90"),r=n("1691"),a=n("5559")("IE_PROTO"),s=function(){},c="prototype",u=function(){var t,e=n("1ec9")("iframe"),i=r.length,o="<",a=">";e.style.display="none",n("32fc").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+a+"document.F=Object"+o+"/script"+a),t.close(),u=t.F;while(i--)delete u[c][r[i]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[c]=i(t),n=new s,s[c]=null,n[a]=t):n=u(),void 0===e?n:o(n,e)}},a1ce:function(t,e,n){var i=n("63b6"),o=n("25eb"),r=n("294c"),a=n("e692"),s="["+a+"]",c="",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),d=function(t,e,n){var o={},s=r(function(){return!!a[t]()||c[t]()!=c}),u=o[t]=s?e(f):a[t];n&&(o[n]=u),i(i.P+i.F*s,"String",o)},f=d.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=d},a3c3:function(t,e,n){var i=n("63b6");i(i.S+i.F,"Object",{assign:n("9306")})},a481:function(t,e,n){n("214f")("replace",2,function(t,e,n){return[function(i,o){"use strict";var r=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,r,o):n.call(String(r),i,o)},n]})},a745:function(t,e,n){t.exports=n("f410")},aae3:function(t,e,n){var i=n("d3f4"),o=n("2d95"),r=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},ac6a:function(t,e,n){for(var i=n("cadf"),o=n("0d58"),r=n("2aba"),a=n("7726"),s=n("32e9"),c=n("84f2"),u=n("2b4c"),l=u("iterator"),d=u("toStringTag"),f=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(h),v=0;v<p.length;v++){var y,g=p[v],m=h[g],b=a[g],_=b&&b.prototype;if(_&&(_[l]||s(_,l,f),_[d]||s(_,d,g),c[g]=f,m))for(y in i)_[y]||r(_,y,i[y],!0)}},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b0dc:function(t,e,n){var i=n("e4ae");t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(e){var r=t["return"];throw void 0!==r&&i(r.call(t)),e}}},b447:function(t,e,n){var i=n("3a38"),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},b54a:function(t,e,n){"use strict";n("386b")("link",function(t){return function(e){return t(this,"a","href",e)}})},b8e3:function(t,e){t.exports=!0},b9e9:function(t,e,n){n("7445"),t.exports=n("584a").parseInt},ba92:function(t,e,n){"use strict";var i=n("4bf8"),o=n("77f1"),r=n("9def");t.exports=[].copyWithin||function(t,e){var n=i(this),a=r(n.length),s=o(t,a),c=o(e,a),u=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===u?a:o(u,a))-c,a-s),d=1;c<s&&s<c+l&&(d=-1,c+=l-1,s+=l-1);while(l-- >0)c in n?n[s]=n[c]:delete n[s],s+=d,c+=d;return n}},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},bf0b:function(t,e,n){var i=n("355d"),o=n("aebd"),r=n("36c3"),a=n("1bc3"),s=n("07e3"),c=n("794b"),u=Object.getOwnPropertyDescriptor;e.f=n("8e60")?u:function(t,e){if(t=r(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},c207:function(t,e){},c366:function(t,e,n){var i=n("6821"),o=n("9def"),r=n("77f1");t.exports=function(t){return function(e,n,a){var s,c=i(e),u=o(c.length),l=r(a,u);if(t&&n!=n){while(u>l)if(s=c[l++],s!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},c367:function(t,e,n){"use strict";var i=n("8436"),o=n("50ed"),r=n("481b"),a=n("36c3");t.exports=n("30f1")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},c3a1:function(t,e,n){var i=n("e6f3"),o=n("1691");t.exports=Object.keys||function(t){return i(t,o)}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c8bb:function(t,e,n){t.exports=n("54a1")},ca5a:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},cadf:function(t,e,n){"use strict";var i=n("9c6c"),o=n("d53b"),r=n("84f2"),a=n("6821");t.exports=n("01f9")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},cb7c:function(t,e,n){var i=n("d3f4");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},ccb9:function(t,e,n){e.f=n("5168")},cd1c:function(t,e,n){var i=n("e853");t.exports=function(t,e){return new(i(t))(e)}},ce10:function(t,e,n){var i=n("69a8"),o=n("6821"),r=n("c366")(!1),a=n("613b")("IE_PROTO");t.exports=function(t,e){var n,s=o(t),c=0,u=[];for(n in s)n!=a&&i(s,n)&&u.push(n);while(e.length>c)i(s,n=e[c++])&&(~r(u,n)||u.push(n));return u}},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d864:function(t,e,n){var i=n("79aa");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},d8d6:function(t,e,n){n("1654"),n("6c1c"),t.exports=n("ccb9").f("iterator")},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d9f6:function(t,e,n){var i=n("e4ae"),o=n("794b"),r=n("1bc3"),a=Object.defineProperty;e.f=n("8e60")?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},db0c:function(t,e,n){t.exports=n("9e1c")},dbdb:function(t,e,n){var i=n("584a"),o=n("e53d"),r="__core-js_shared__",a=o[r]||(o[r]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("b8e3")?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},dcbc:function(t,e,n){var i=n("2aba");t.exports=function(t,e,n){for(var o in e)i(t,o,e[o],n);return t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e4ae:function(t,e,n){var i=n("f772");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e692:function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},e6f3:function(t,e,n){var i=n("07e3"),o=n("36c3"),r=n("5b4e")(!1),a=n("5559")("IE_PROTO");t.exports=function(t,e){var n,s=o(t),c=0,u=[];for(n in s)n!=a&&i(s,n)&&u.push(n);while(e.length>c)i(s,n=e[c++])&&(~r(u,n)||u.push(n));return u}},e814:function(t,e,n){t.exports=n("b9e9")},e853:function(t,e,n){var i=n("d3f4"),o=n("1169"),r=n("2b4c")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),i(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},ebd6:function(t,e,n){var i=n("cb7c"),o=n("d8e8"),r=n("2b4c")("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[r])?e:o(n)}},ebfd:function(t,e,n){var i=n("62a0")("meta"),o=n("f772"),r=n("07e3"),a=n("d9f6").f,s=0,c=Object.isExtensible||function(){return!0},u=!n("294c")(function(){return c(Object.preventExtensions({}))}),l=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},d=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,i)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[i].i},f=function(t,e){if(!r(t,i)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[i].w},h=function(t){return u&&p.NEED&&c(t)&&!r(t,i)&&l(t),t},p=t.exports={KEY:i,NEED:!1,fastKey:d,getWeak:f,onFreeze:h}},ec30:function(t,e,n){"use strict";if(n("9e1e")){var i=n("2d00"),o=n("7726"),r=n("79e5"),a=n("5ca1"),s=n("0f88"),c=n("ed0b"),u=n("9b43"),l=n("f605"),d=n("4630"),f=n("32e9"),h=n("dcbc"),p=n("4588"),v=n("9def"),y=n("09fa"),g=n("77f1"),m=n("6a99"),b=n("69a8"),_=n("23c6"),w=n("d3f4"),S=n("4bf8"),x=n("33a4"),O=n("2aeb"),E=n("38fd"),P=n("9093").f,C=n("27ee"),I=n("ca5a"),T=n("2b4c"),M=n("0a49"),R=n("c366"),A=n("ebd6"),N=n("cadf"),j=n("84f2"),k=n("5cc5"),D=n("7a56"),L=n("36bd"),F=n("ba92"),B=n("86cc"),V=n("11e9"),G=B.f,U=V.f,z=o.RangeError,Y=o.TypeError,K=o.Uint8Array,q="ArrayBuffer",H="Shared"+q,W="BYTES_PER_ELEMENT",$="prototype",J=Array[$],X=c.ArrayBuffer,Z=c.DataView,Q=M(0),tt=M(2),et=M(3),nt=M(4),it=M(5),ot=M(6),rt=R(!0),at=R(!1),st=N.values,ct=N.keys,ut=N.entries,lt=J.lastIndexOf,dt=J.reduce,ft=J.reduceRight,ht=J.join,pt=J.sort,vt=J.slice,yt=J.toString,gt=J.toLocaleString,mt=T("iterator"),bt=T("toStringTag"),_t=I("typed_constructor"),wt=I("def_constructor"),St=s.CONSTR,xt=s.TYPED,Ot=s.VIEW,Et="Wrong length!",Pt=M(1,function(t,e){return Rt(A(t,t[wt]),e)}),Ct=r(function(){return 1===new K(new Uint16Array([1]).buffer)[0]}),It=!!K&&!!K[$].set&&r(function(){new K(1).set({})}),Tt=function(t,e){var n=p(t);if(n<0||n%e)throw z("Wrong offset!");return n},Mt=function(t){if(w(t)&&xt in t)return t;throw Y(t+" is not a typed array!")},Rt=function(t,e){if(!(w(t)&&_t in t))throw Y("It is not a typed array constructor!");return new t(e)},At=function(t,e){return Nt(A(t,t[wt]),e)},Nt=function(t,e){var n=0,i=e.length,o=Rt(t,i);while(i>n)o[n]=e[n++];return o},jt=function(t,e,n){G(t,e,{get:function(){return this._d[n]}})},kt=function(t){var e,n,i,o,r,a,s=S(t),c=arguments.length,l=c>1?arguments[1]:void 0,d=void 0!==l,f=C(s);if(void 0!=f&&!x(f)){for(a=f.call(s),i=[],e=0;!(r=a.next()).done;e++)i.push(r.value);s=i}for(d&&c>2&&(l=u(l,arguments[2],2)),e=0,n=v(s.length),o=Rt(this,n);n>e;e++)o[e]=d?l(s[e],e):s[e];return o},Dt=function(){var t=0,e=arguments.length,n=Rt(this,e);while(e>t)n[t]=arguments[t++];return n},Lt=!!K&&r(function(){gt.call(new K(1))}),Ft=function(){return gt.apply(Lt?vt.call(Mt(this)):Mt(this),arguments)},Bt={copyWithin:function(t,e){return F.call(Mt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return L.apply(Mt(this),arguments)},filter:function(t){return At(this,tt(Mt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return it(Mt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return ot(Mt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(Mt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(Mt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return rt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ht.apply(Mt(this),arguments)},lastIndexOf:function(t){return lt.apply(Mt(this),arguments)},map:function(t){return Pt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return dt.apply(Mt(this),arguments)},reduceRight:function(t){return ft.apply(Mt(this),arguments)},reverse:function(){var t,e=this,n=Mt(e).length,i=Math.floor(n/2),o=0;while(o<i)t=e[o],e[o++]=e[--n],e[n]=t;return e},some:function(t){return et(Mt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Mt(this),t)},subarray:function(t,e){var n=Mt(this),i=n.length,o=g(t,i);return new(A(n,n[wt]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,v((void 0===e?i:g(e,i))-o))}},Vt=function(t,e){return At(this,vt.call(Mt(this),t,e))},Gt=function(t){Mt(this);var e=Tt(arguments[1],1),n=this.length,i=S(t),o=v(i.length),r=0;if(o+e>n)throw z(Et);while(r<o)this[e+r]=i[r++]},Ut={entries:function(){return ut.call(Mt(this))},keys:function(){return ct.call(Mt(this))},values:function(){return st.call(Mt(this))}},zt=function(t,e){return w(t)&&t[xt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Yt=function(t,e){return zt(t,e=m(e,!0))?d(2,t[e]):U(t,e)},Kt=function(t,e,n){return!(zt(t,e=m(e,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?G(t,e,n):(t[e]=n.value,t)};St||(V.f=Yt,B.f=Kt),a(a.S+a.F*!St,"Object",{getOwnPropertyDescriptor:Yt,defineProperty:Kt}),r(function(){yt.call({})})&&(yt=gt=function(){return ht.call(this)});var qt=h({},Bt);h(qt,Ut),f(qt,mt,Ut.values),h(qt,{slice:Vt,set:Gt,constructor:function(){},toString:yt,toLocaleString:Ft}),jt(qt,"buffer","b"),jt(qt,"byteOffset","o"),jt(qt,"byteLength","l"),jt(qt,"length","e"),G(qt,bt,{get:function(){return this[xt]}}),t.exports=function(t,e,n,c){c=!!c;var u=t+(c?"Clamped":"")+"Array",d="get"+t,h="set"+t,p=o[u],g=p||{},m=p&&E(p),b=!p||!s.ABV,S={},x=p&&p[$],C=function(t,n){var i=t._d;return i.v[d](n*e+i.o,Ct)},I=function(t,n,i){var o=t._d;c&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),o.v[h](n*e+o.o,i,Ct)},T=function(t,e){G(t,e,{get:function(){return C(this,e)},set:function(t){return I(this,e,t)},enumerable:!0})};b?(p=n(function(t,n,i,o){l(t,p,u,"_d");var r,a,s,c,d=0,h=0;if(w(n)){if(!(n instanceof X||(c=_(n))==q||c==H))return xt in n?Nt(p,n):kt.call(p,n);r=n,h=Tt(i,e);var g=n.byteLength;if(void 0===o){if(g%e)throw z(Et);if(a=g-h,a<0)throw z(Et)}else if(a=v(o)*e,a+h>g)throw z(Et);s=a/e}else s=y(n),a=s*e,r=new X(a);f(t,"_d",{b:r,o:h,l:a,e:s,v:new Z(r)});while(d<s)T(t,d++)}),x=p[$]=O(qt),f(x,"constructor",p)):r(function(){p(1)})&&r(function(){new p(-1)})&&k(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=n(function(t,n,i,o){var r;return l(t,p,u),w(n)?n instanceof X||(r=_(n))==q||r==H?void 0!==o?new g(n,Tt(i,e),o):void 0!==i?new g(n,Tt(i,e)):new g(n):xt in n?Nt(p,n):kt.call(p,n):new g(y(n))}),Q(m!==Function.prototype?P(g).concat(P(m)):P(g),function(t){t in p||f(p,t,g[t])}),p[$]=x,i||(x.constructor=p));var M=x[mt],R=!!M&&("values"==M.name||void 0==M.name),A=Ut.values;f(p,_t,!0),f(x,xt,u),f(x,Ot,!0),f(x,wt,p),(c?new p(1)[bt]==u:bt in x)||G(x,bt,{get:function(){return u}}),S[u]=p,a(a.G+a.W+a.F*(p!=g),S),a(a.S,u,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*r(function(){g.of.call(p,1)}),u,{from:kt,of:Dt}),W in x||f(x,W,e),a(a.P,u,Bt),D(u),a(a.P+a.F*It,u,{set:Gt}),a(a.P+a.F*!R,u,Ut),i||x.toString==yt||(x.toString=yt),a(a.P+a.F*r(function(){new p(1).slice()}),u,{slice:Vt}),a(a.P+a.F*(r(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!r(function(){x.toLocaleString.call([1,2])})),u,{toLocaleString:Ft}),j[u]=R?M:A,i||R||f(x,mt,A)}}else t.exports=function(){}},ed0b:function(t,e,n){"use strict";var i=n("7726"),o=n("9e1e"),r=n("2d00"),a=n("0f88"),s=n("32e9"),c=n("dcbc"),u=n("79e5"),l=n("f605"),d=n("4588"),f=n("9def"),h=n("09fa"),p=n("9093").f,v=n("86cc").f,y=n("36bd"),g=n("7f20"),m="ArrayBuffer",b="DataView",_="prototype",w="Wrong length!",S="Wrong index!",x=i[m],O=i[b],E=i.Math,P=i.RangeError,C=i.Infinity,I=x,T=E.abs,M=E.pow,R=E.floor,A=E.log,N=E.LN2,j="buffer",k="byteLength",D="byteOffset",L=o?"_b":j,F=o?"_l":k,B=o?"_o":D;function V(t,e,n){var i,o,r,a=new Array(n),s=8*n-e-1,c=(1<<s)-1,u=c>>1,l=23===e?M(2,-24)-M(2,-77):0,d=0,f=t<0||0===t&&1/t<0?1:0;for(t=T(t),t!=t||t===C?(o=t!=t?1:0,i=c):(i=R(A(t)/N),t*(r=M(2,-i))<1&&(i--,r*=2),t+=i+u>=1?l/r:l*M(2,1-u),t*r>=2&&(i++,r/=2),i+u>=c?(o=0,i=c):i+u>=1?(o=(t*r-1)*M(2,e),i+=u):(o=t*M(2,u-1)*M(2,e),i=0));e>=8;a[d++]=255&o,o/=256,e-=8);for(i=i<<e|o,s+=e;s>0;a[d++]=255&i,i/=256,s-=8);return a[--d]|=128*f,a}function G(t,e,n){var i,o=8*n-e-1,r=(1<<o)-1,a=r>>1,s=o-7,c=n-1,u=t[c--],l=127&u;for(u>>=7;s>0;l=256*l+t[c],c--,s-=8);for(i=l&(1<<-s)-1,l>>=-s,s+=e;s>0;i=256*i+t[c],c--,s-=8);if(0===l)l=1-a;else{if(l===r)return i?NaN:u?-C:C;i+=M(2,e),l-=a}return(u?-1:1)*i*M(2,l-e)}function U(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function z(t){return[255&t]}function Y(t){return[255&t,t>>8&255]}function K(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function q(t){return V(t,52,8)}function H(t){return V(t,23,4)}function W(t,e,n){v(t[_],e,{get:function(){return this[n]}})}function $(t,e,n,i){var o=+n,r=h(o);if(r+e>t[F])throw P(S);var a=t[L]._b,s=r+t[B],c=a.slice(s,s+e);return i?c:c.reverse()}function J(t,e,n,i,o,r){var a=+n,s=h(a);if(s+e>t[F])throw P(S);for(var c=t[L]._b,u=s+t[B],l=i(+o),d=0;d<e;d++)c[u+d]=l[r?d:e-d-1]}if(a.ABV){if(!u(function(){x(1)})||!u(function(){new x(-1)})||u(function(){return new x,new x(1.5),new x(NaN),x.name!=m})){x=function(t){return l(this,x),new I(h(t))};for(var X,Z=x[_]=I[_],Q=p(I),tt=0;Q.length>tt;)(X=Q[tt++])in x||s(x,X,I[X]);r||(Z.constructor=x)}var et=new O(new x(2)),nt=O[_].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||c(O[_],{setInt8:function(t,e){nt.call(this,t,e<<24>>24)},setUint8:function(t,e){nt.call(this,t,e<<24>>24)}},!0)}else x=function(t){l(this,x,m);var e=h(t);this._b=y.call(new Array(e),0),this[F]=e},O=function(t,e,n){l(this,O,b),l(t,x,b);var i=t[F],o=d(e);if(o<0||o>i)throw P("Wrong offset!");if(n=void 0===n?i-o:f(n),o+n>i)throw P(w);this[L]=t,this[B]=o,this[F]=n},o&&(W(x,k,"_l"),W(O,j,"_b"),W(O,k,"_l"),W(O,D,"_o")),c(O[_],{getInt8:function(t){return $(this,1,t)[0]<<24>>24},getUint8:function(t){return $(this,1,t)[0]},getInt16:function(t){var e=$(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=$(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return U($(this,4,t,arguments[1]))},getUint32:function(t){return U($(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return G($(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return G($(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){J(this,1,t,z,e)},setUint8:function(t,e){J(this,1,t,z,e)},setInt16:function(t,e){J(this,2,t,Y,e,arguments[2])},setUint16:function(t,e){J(this,2,t,Y,e,arguments[2])},setInt32:function(t,e){J(this,4,t,K,e,arguments[2])},setUint32:function(t,e){J(this,4,t,K,e,arguments[2])},setFloat32:function(t,e){J(this,4,t,H,e,arguments[2])},setFloat64:function(t,e){J(this,8,t,q,e,arguments[2])}});g(x,m),g(O,b),s(O[_],a.VIEW,!0),e[m]=x,e[b]=O},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f605:function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},f921:function(t,e,n){n("014b"),n("c207"),n("69d3"),n("765d"),t.exports=n("584a").Symbol},fab2:function(t,e,n){var i=n("7726").document;t.exports=i&&i.documentElement},fb15:function(t,e,n){"use strict";n.r(e);var i,o={};(n.r(o),n.d(o,"forceCenter",function(){return g}),n.d(o,"forceCollide",function(){return Y}),n.d(o,"forceLink",function(){return tt}),n.d(o,"forceManyBody",function(){return Nt}),n.d(o,"forceRadial",function(){return jt}),n.d(o,"forceSimulation",function(){return At}),n.d(o,"forceX",function(){return kt}),n.d(o,"forceY",function(){return Dt}),"undefined"!==typeof window)&&((i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=i[1]));n("7f7f");var r=n("a745"),a=n.n(r);function s(t){if(a()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var c=n("774e"),u=n.n(c),l=n("c8bb"),d=n.n(l);function f(t){if(d()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return u()(t)}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(t){return s(t)||f(t)||h()}var v=n("5176"),y=n.n(v),g=function(t,e){var n;function i(){var i,o,r=n.length,a=0,s=0;for(i=0;i<r;++i)o=n[i],a+=o.x,s+=o.y;for(a=a/r-t,s=s/r-e,i=0;i<r;++i)o=n[i],o.x-=a,o.y-=s}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i},m=function(t){return function(){return t}},b=function(){return 1e-6*(Math.random()-.5)},_=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return w(this.cover(e,n),e,n,t)};function w(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var o,r,a,s,c,u,l,d,f,h=t._root,p={data:i},v=t._x0,y=t._y0,g=t._x1,m=t._y1;if(!h)return t._root=p,t;while(h.length)if((u=e>=(r=(v+g)/2))?v=r:g=r,(l=n>=(a=(y+m)/2))?y=a:m=a,o=h,!(h=h[d=l<<1|u]))return o[d]=p,t;if(s=+t._x.call(null,h.data),c=+t._y.call(null,h.data),e===s&&n===c)return p.next=h,o?o[d]=p:t._root=p,t;do{o=o?o[d]=new Array(4):t._root=new Array(4),(u=e>=(r=(v+g)/2))?v=r:g=r,(l=n>=(a=(y+m)/2))?y=a:m=a}while((d=l<<1|u)===(f=(c>=a)<<1|s>=r));return o[f]=h,o[d]=p,t}function S(t){var e,n,i,o,r=t.length,a=new Array(r),s=new Array(r),c=1/0,u=1/0,l=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=i,s[n]=o,i<c&&(c=i),i>l&&(l=i),o<u&&(u=o),o>d&&(d=o));for(l<c&&(c=this._x0,l=this._x1),d<u&&(u=this._y0,d=this._y1),this.cover(c,u).cover(l,d),n=0;n<r;++n)w(this,a[n],s[n],t[n]);return this}var x=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,o=this._x1,r=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,r=(i=Math.floor(e))+1;else{if(!(n>t||t>o||i>e||e>r))return this;var a,s,c=o-n,u=this._root;switch(s=(e<(i+r)/2)<<1|t<(n+o)/2){case 0:do{a=new Array(4),a[s]=u,u=a}while(c*=2,o=n+c,r=i+c,t>o||e>r);break;case 1:do{a=new Array(4),a[s]=u,u=a}while(c*=2,n=o-c,r=i+c,n>t||e>r);break;case 2:do{a=new Array(4),a[s]=u,u=a}while(c*=2,o=n+c,i=r-c,t>o||i>e);break;case 3:do{a=new Array(4),a[s]=u,u=a}while(c*=2,n=o-c,i=r-c,n>t||i>e);break}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=o,this._y1=r,this},O=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},E=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},P=function(t,e,n,i,o){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=o},C=function(t,e,n){var i,o,r,a,s,c,u,l=this._x0,d=this._y0,f=this._x1,h=this._y1,p=[],v=this._root;v&&p.push(new P(v,l,d,f,h)),null==n?n=1/0:(l=t-n,d=e-n,f=t+n,h=e+n,n*=n);while(c=p.pop())if(!(!(v=c.node)||(o=c.x0)>f||(r=c.y0)>h||(a=c.x1)<l||(s=c.y1)<d))if(v.length){var y=(o+a)/2,g=(r+s)/2;p.push(new P(v[3],y,g,a,s),new P(v[2],o,g,y,s),new P(v[1],y,r,a,g),new P(v[0],o,r,y,g)),(u=(e>=g)<<1|t>=y)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=c)}else{var m=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),_=m*m+b*b;if(_<n){var w=Math.sqrt(n=_);l=t-w,d=e-w,f=t+w,h=e+w,i=v.data}}return i},I=function(t){if(isNaN(r=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,o,r,a,s,c,u,l,d,f,h=this._root,p=this._x0,v=this._y0,y=this._x1,g=this._y1;if(!h)return this;if(h.length)while(1){if((u=r>=(s=(p+y)/2))?p=s:y=s,(l=a>=(c=(v+g)/2))?v=c:g=c,e=h,!(h=h[d=l<<1|u]))return this;if(!h.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(n=e,f=d)}while(h.data!==t)if(i=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,i?(o?i.next=o:delete i.next,this):e?(o?e[d]=o:delete e[d],(h=e[0]||e[1]||e[2]||e[3])&&h===(e[3]||e[2]||e[1]||e[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=o,this)};function T(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}var M=function(){return this._root},R=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},A=function(t){var e,n,i,o,r,a,s=[],c=this._root;c&&s.push(new P(c,this._x0,this._y0,this._x1,this._y1));while(e=s.pop())if(!t(c=e.node,i=e.x0,o=e.y0,r=e.x1,a=e.y1)&&c.length){var u=(i+r)/2,l=(o+a)/2;(n=c[3])&&s.push(new P(n,u,l,r,a)),(n=c[2])&&s.push(new P(n,i,l,u,a)),(n=c[1])&&s.push(new P(n,u,o,r,l)),(n=c[0])&&s.push(new P(n,i,o,u,l))}return this},N=function(t){var e,n=[],i=[];this._root&&n.push(new P(this._root,this._x0,this._y0,this._x1,this._y1));while(e=n.pop()){var o=e.node;if(o.length){var r,a=e.x0,s=e.y0,c=e.x1,u=e.y1,l=(a+c)/2,d=(s+u)/2;(r=o[0])&&n.push(new P(r,a,s,l,d)),(r=o[1])&&n.push(new P(r,l,s,c,d)),(r=o[2])&&n.push(new P(r,a,d,l,u)),(r=o[3])&&n.push(new P(r,l,d,c,u))}i.push(e)}while(e=i.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this};function j(t){return t[0]}var k=function(t){return arguments.length?(this._x=t,this):this._x};function D(t){return t[1]}var L=function(t){return arguments.length?(this._y=t,this):this._y};function F(t,e,n){var i=new B(null==e?j:e,null==n?D:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function B(t,e,n,i,o,r){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=o,this._y1=r,this._root=void 0}function V(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}var G=F.prototype=B.prototype;function U(t){return t.x+t.vx}function z(t){return t.y+t.vy}G.copy=function(){var t,e,n=new B(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=V(i),n;t=[{source:i,target:n._root=new Array(4)}];while(i=t.pop())for(var o=0;o<4;++o)(e=i.source[o])&&(e.length?t.push({source:e,target:i.target[o]=new Array(4)}):i.target[o]=V(e));return n},G.add=_,G.addAll=S,G.cover=x,G.data=O,G.extent=E,G.find=C,G.remove=I,G.removeAll=T,G.root=M,G.size=R,G.visit=A,G.visitAfter=N,G.x=k,G.y=L;var Y=function(t){var e,n,i=1,o=1;function r(){for(var t,r,s,c,u,l,d,f=e.length,h=0;h<o;++h)for(r=F(e,U,z).visitAfter(a),t=0;t<f;++t)s=e[t],l=n[s.index],d=l*l,c=s.x+s.vx,u=s.y+s.vy,r.visit(p);function p(t,e,n,o,r){var a=t.data,f=t.r,h=l+f;if(!a)return e>c+h||o<c-h||n>u+h||r<u-h;if(a.index>s.index){var p=c-a.x-a.vx,v=u-a.y-a.vy,y=p*p+v*v;y<h*h&&(0===p&&(p=b(),y+=p*p),0===v&&(v=b(),y+=v*v),y=(h-(y=Math.sqrt(y)))/y*i,s.vx+=(p*=y)*(h=(f*=f)/(d+f)),s.vy+=(v*=y)*h,a.vx-=p*(h=1-h),a.vy-=v*h)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var i,o,r=e.length;for(n=new Array(r),i=0;i<r;++i)o=e[i],n[o.index]=+t(o,i,e)}}return"function"!==typeof t&&(t=m(null==t?1:+t)),r.initialize=function(t){e=t,s()},r.iterations=function(t){return arguments.length?(o=+t,r):o},r.strength=function(t){return arguments.length?(i=+t,r):i},r.radius=function(e){return arguments.length?(t="function"===typeof e?e:m(+e),s(),r):t},r},K="$";function q(){}function H(t,e){var n=new q;if(t instanceof q)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,o=-1,r=t.length;if(null==e)while(++o<r)n.set(o,t[o]);else while(++o<r)n.set(e(i=t[o],o,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}q.prototype=H.prototype={constructor:q,has:function(t){return K+t in this},get:function(t){return this[K+t]},set:function(t,e){return this[K+t]=e,this},remove:function(t){var e=K+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===K&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===K&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===K&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===K&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===K&&++t;return t},empty:function(){for(var t in this)if(t[0]===K)return!1;return!0},each:function(t){for(var e in this)e[0]===K&&t(this[e],e.slice(1),this)}};var W=H;function $(){}var J=W.prototype;function X(t,e){var n=new $;if(t instanceof $)t.each(function(t){n.add(t)});else if(t){var i=-1,o=t.length;if(null==e)while(++i<o)n.add(t[i]);else while(++i<o)n.add(e(t[i],i,t))}return n}$.prototype=X.prototype={constructor:$,has:J.has,add:function(t){return t+="",this[K+t]=t,this},remove:J.remove,clear:J.clear,values:J.keys,size:J.size,empty:J.empty,each:J.each};function Z(t){return t.index}function Q(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var tt=function(t){var e,n,i,o,r,a=Z,s=l,c=m(30),u=1;function l(t){return 1/Math.min(o[t.source.index],o[t.target.index])}function d(i){for(var o=0,a=t.length;o<u;++o)for(var s,c,l,d,f,h,p,v=0;v<a;++v)s=t[v],c=s.source,l=s.target,d=l.x+l.vx-c.x-c.vx||b(),f=l.y+l.vy-c.y-c.vy||b(),h=Math.sqrt(d*d+f*f),h=(h-n[v])/h*i*e[v],d*=h,f*=h,l.vx-=d*(p=r[v]),l.vy-=f*p,c.vx+=d*(p=1-p),c.vy+=f*p}function f(){if(i){var s,c,u=i.length,l=t.length,d=W(i,a);for(s=0,o=new Array(u);s<l;++s)c=t[s],c.index=s,"object"!==typeof c.source&&(c.source=Q(d,c.source)),"object"!==typeof c.target&&(c.target=Q(d,c.target)),o[c.source.index]=(o[c.source.index]||0)+1,o[c.target.index]=(o[c.target.index]||0)+1;for(s=0,r=new Array(l);s<l;++s)c=t[s],r[s]=o[c.source.index]/(o[c.source.index]+o[c.target.index]);e=new Array(l),h(),n=new Array(l),p()}}function h(){if(i)for(var n=0,o=t.length;n<o;++n)e[n]=+s(t[n],n,t)}function p(){if(i)for(var e=0,o=t.length;e<o;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),d.initialize=function(t){i=t,f()},d.links=function(e){return arguments.length?(t=e,f(),d):t},d.id=function(t){return arguments.length?(a=t,d):a},d.iterations=function(t){return arguments.length?(u=+t,d):u},d.strength=function(t){return arguments.length?(s="function"===typeof t?t:m(+t),h(),d):s},d.distance=function(t){return arguments.length?(c="function"===typeof t?t:m(+t),p(),d):c},d},et={value:function(){}};function nt(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new it(i)}function it(t){this._=t}function ot(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function rt(t,e){for(var n,i=0,o=t.length;i<o;++i)if((n=t[i]).name===e)return n.value}function at(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=et,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}it.prototype=nt.prototype={constructor:it,on:function(t,e){var n,i=this._,o=ot(t+"",i),r=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++r<a)if(n=(t=o[r]).type)i[n]=at(i[n],t.name,e);else if(null==e)for(n in i)i[n]=at(i[n],t.name,null);return this}while(++r<a)if((n=(t=o[r]).type)&&(n=rt(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new it(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,o=new Array(n),r=0;r<n;++r)o[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,n=i.length;r<n;++r)i[r].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};var st,ct,ut=nt,lt=0,dt=0,ft=0,ht=1e3,pt=0,vt=0,yt=0,gt="object"===typeof performance&&performance.now?performance:Date,mt="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function bt(){return vt||(mt(_t),vt=gt.now()+yt)}function _t(){vt=0}function wt(){this._call=this._time=this._next=null}function St(t,e,n){var i=new wt;return i.restart(t,e,n),i}function xt(){bt(),++lt;var t,e=st;while(e)(t=vt-e._time)>=0&&e._call.call(null,t),e=e._next;--lt}function Ot(){vt=(pt=gt.now())+yt,lt=dt=0;try{xt()}finally{lt=0,Pt(),vt=0}}function Et(){var t=gt.now(),e=t-pt;e>ht&&(yt-=e,pt=t)}function Pt(){var t,e,n=st,i=1/0;while(n)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:st=e);ct=t,Ct(i)}function Ct(t){if(!lt){dt&&(dt=clearTimeout(dt));var e=t-vt;e>24?(t<1/0&&(dt=setTimeout(Ot,t-gt.now()-yt)),ft&&(ft=clearInterval(ft))):(ft||(pt=gt.now(),ft=setInterval(Et,ht)),lt=1,mt(Ot))}}wt.prototype=St.prototype={constructor:wt,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?bt():+n)+(null==e?0:+e),this._next||ct===this||(ct?ct._next=this:st=this,ct=this),this._call=t,this._time=n,Ct()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ct())}};function It(t){return t.x}function Tt(t){return t.y}var Mt=10,Rt=Math.PI*(3-Math.sqrt(5)),At=function(t){var e,n=1,i=.001,o=1-Math.pow(i,1/300),r=0,a=.6,s=W(),c=St(l),u=ut("tick","end");function l(){d(),u.call("tick",e),n<i&&(c.stop(),u.call("end",e))}function d(){var e,i,c=t.length;for(n+=(r-n)*o,s.each(function(t){t(n)}),e=0;e<c;++e)i=t[e],null==i.fx?i.x+=i.vx*=a:(i.x=i.fx,i.vx=0),null==i.fy?i.y+=i.vy*=a:(i.y=i.fy,i.vy=0)}function f(){for(var e,n=0,i=t.length;n<i;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var o=Mt*Math.sqrt(n),r=n*Rt;e.x=o*Math.cos(r),e.y=o*Math.sin(r)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function h(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),f(),e={tick:d,restart:function(){return c.restart(l),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),s.each(h),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(o=+t,e):+o},alphaTarget:function(t){return arguments.length?(r=+t,e):r},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,h(n)),e):s.get(t)},find:function(e,n,i){var o,r,a,s,c,u=0,l=t.length;for(null==i?i=1/0:i*=i,u=0;u<l;++u)s=t[u],o=e-s.x,r=n-s.y,a=o*o+r*r,a<i&&(c=s,i=a);return c},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}},Nt=function(){var t,e,n,i,o=m(-30),r=1,a=1/0,s=.81;function c(i){var o,r=t.length,a=F(t,It,Tt).visitAfter(l);for(n=i,o=0;o<r;++o)e=t[o],a.visit(d)}function u(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function l(t){var e,n,o,r,a,s=0,c=0;if(t.length){for(o=r=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,c+=n,o+=n*e.x,r+=n*e.y);t.x=o/c,t.y=r/c}else{e=t,e.x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function d(t,o,c,u){if(!t.value)return!0;var l=t.x-e.x,d=t.y-e.y,f=u-o,h=l*l+d*d;if(f*f/s<h)return h<a&&(0===l&&(l=b(),h+=l*l),0===d&&(d=b(),h+=d*d),h<r&&(h=Math.sqrt(r*h)),e.vx+=l*t.value*n/h,e.vy+=d*t.value*n/h),!0;if(!(t.length||h>=a)){(t.data!==e||t.next)&&(0===l&&(l=b(),h+=l*l),0===d&&(d=b(),h+=d*d),h<r&&(h=Math.sqrt(r*h)));do{t.data!==e&&(f=i[t.data.index]*n/h,e.vx+=l*f,e.vy+=d*f)}while(t=t.next)}}return c.initialize=function(e){t=e,u()},c.strength=function(t){return arguments.length?(o="function"===typeof t?t:m(+t),u(),c):o},c.distanceMin=function(t){return arguments.length?(r=t*t,c):Math.sqrt(r)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c},jt=function(t,e,n){var i,o,r,a=m(.1);function s(t){for(var a=0,s=i.length;a<s;++a){var c=i[a],u=c.x-e||1e-6,l=c.y-n||1e-6,d=Math.sqrt(u*u+l*l),f=(r[a]-d)*o[a]*t/d;c.vx+=u*f,c.vy+=l*f}}function c(){if(i){var e,n=i.length;for(o=new Array(n),r=new Array(n),e=0;e<n;++e)r[e]=+t(i[e],e,i),o[e]=isNaN(r[e])?0:+a(i[e],e,i)}}return"function"!==typeof t&&(t=m(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){i=t,c()},s.strength=function(t){return arguments.length?(a="function"===typeof t?t:m(+t),c(),s):a},s.radius=function(e){return arguments.length?(t="function"===typeof e?e:m(+e),c(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s},kt=function(t){var e,n,i,o=m(.1);function r(t){for(var o,r=0,a=e.length;r<a;++r)o=e[r],o.vx+=(i[r]-o.x)*n[r]*t}function a(){if(e){var r,a=e.length;for(n=new Array(a),i=new Array(a),r=0;r<a;++r)n[r]=isNaN(i[r]=+t(e[r],r,e))?0:+o(e[r],r,e)}}return"function"!==typeof t&&(t=m(null==t?0:+t)),r.initialize=function(t){e=t,a()},r.strength=function(t){return arguments.length?(o="function"===typeof t?t:m(+t),a(),r):o},r.x=function(e){return arguments.length?(t="function"===typeof e?e:m(+e),a(),r):t},r},Dt=function(t){var e,n,i,o=m(.1);function r(t){for(var o,r=0,a=e.length;r<a;++r)o=e[r],o.vy+=(i[r]-o.y)*n[r]*t}function a(){if(e){var r,a=e.length;for(n=new Array(a),i=new Array(a),r=0;r<a;++r)n[r]=isNaN(i[r]=+t(e[r],r,e))?0:+o(e[r],r,e)}}return"function"!==typeof t&&(t=m(null==t?0:+t)),r.initialize=function(t){e=t,a()},r.strength=function(t){return arguments.length?(o="function"===typeof t?t:m(+t),a(),r):o},r.y=function(e){return arguments.length?(t="function"===typeof e?e:m(+e),a(),r):t},r},Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{ref:"svg",staticClass:"net-svg",attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:t.size.w,height:t.size.h},on:{mouseup:function(e){t.emit("dragEnd",[e])},"&touchend":function(e){t.emit("dragEnd",[e])},"&touchstart":function(t){}}},[n("g",{staticClass:"links",attrs:{id:"l-links"}},t._l(t.links,function(e){return n("path",t._b({class:t.linkClass(e.id),style:t.linkStyle(e),attrs:{d:t.linkPath(e),id:e.id},on:{click:function(n){t.emit("linkClick",[n,e])},"&touchstart":function(n){t.emit("linkClick",[n,e])}}},"path",t.linkAttrs(e),!1))})),t.noNodes?t._e():n("g",{staticClass:"nodes",attrs:{id:"l-nodes"}},[t._l(t.nodes,function(e,i){return[t.svgIcon(e)?n("svg",t._b({key:i,class:t.nodeClass(e,["node-svg"]),style:t.nodeStyle(e),attrs:{viewBox:t.svgIcon(e).attrs.viewBox,width:t.getNodeSize(e,"width"),height:t.getNodeSize(e,"height"),x:e.x-t.getNodeSize(e,"width")/2,y:e.y-t.getNodeSize(e,"height")/2,title:e.name},domProps:{innerHTML:t._s(t.svgIcon(e).data)},on:{click:function(n){t.emit("nodeClick",[n,e])},"&touchend":function(n){t.emit("nodeClick",[n,e])},mousedown:function(e){e.preventDefault(),t.emit("dragStart",[e,i])},touchstart:function(e){e.preventDefault(),t.emit("dragStart",[e,i])}}},"svg",e._svgAttrs,!1)):n("circle",t._b({key:i,class:t.nodeClass(e),style:t.nodeStyle(e),attrs:{r:t.getNodeSize(e)/2,cx:e.x,cy:e.y,title:e.name},on:{click:function(n){t.emit("nodeClick",[n,e])},"&touchend":function(n){t.emit("nodeClick",[n,e])},mousedown:function(e){e.preventDefault(),t.emit("dragStart",[e,i])},touchstart:function(e){e.preventDefault(),t.emit("dragStart",[e,i])}}},"circle",e._svgAttrs,!1))]})],2),t.linkLabels?n("g",{staticClass:"labels",attrs:{id:"link-labels"}},t._l(t.links,function(e){return n("text",{staticClass:"link-label",attrs:{"font-size":t.fontSize}},[n("textPath",{attrs:{"xlink:href":"#"+e.id,startOffset:"50%"}},[t._v(t._s(e.name))])])})):t._e(),t.nodeLabels?n("g",{staticClass:"labels",attrs:{id:"node-labels"}},t._l(t.nodes,function(e){return n("text",{staticClass:"node-label",class:e._labelClass?e._labelClass:"",attrs:{x:e.x+t.getNodeSize(e)/2+t.fontSize/2,y:e.y+t.labelOffset.y,"font-size":t.fontSize,"stroke-width":t.fontSize/8}},[t._v(t._s(e.name))])})):t._e()])},Ft=[],Bt=n("e814"),Vt=n.n(Bt),Gt=(n("a481"),n("28a5"),n("ac6a"),n("5d58")),Ut=n.n(Gt),zt=n("67bb"),Yt=n.n(zt);function Kt(t){return Kt="function"===typeof Yt.a&&"symbol"===typeof Ut.a?function(t){return typeof t}:function(t){return t&&"function"===typeof Yt.a&&t.constructor===Yt.a&&t!==Yt.a.prototype?"symbol":typeof t},Kt(t)}function qt(t){return qt="function"===typeof Yt.a&&"symbol"===Kt(Ut.a)?function(t){return Kt(t)}:function(t){return t&&"function"===typeof Yt.a&&t.constructor===Yt.a&&t!==Yt.a.prototype?"symbol":Kt(t)},qt(t)}var Ht=n("5d73"),Wt=n.n(Ht),$t=n("db0c"),Jt=n.n($t),Xt={NS:"http://www.w3.org/2000/svg",export:function(t,e){var n=null;if(this.isSvgData(t)){n=t.cloneNode(!0);var i=t.parentNode.querySelectorAll("*"),o={},r=this.getcssRules(),a=!0,s=!1,c=void 0;try{for(var u,l=function(){var t=u.value,n=r;e||(n=r.filter(function(e){return t.matches(e.selectorText)}));var i=!0,a=!1,s=void 0;try{for(var c,l=Wt()(n);!(i=(c=l.next()).done);i=!0){var d=c.value;o[d.selectorText]=d.cssText}}catch(t){a=!0,s=t}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}},d=Wt()(i);!(a=(u=d.next()).done);a=!0)l()}catch(t){s=!0,c=t}finally{try{a||null==d.return||d.return()}finally{if(s)throw c}}var f=Jt()(o).join("\n");if(f){var h=document.createElementNS(this.NS,"style");h.type="text/css",n.insertBefore(h,n.childNodes[0]),h.innerHTML=f,n.appendChild(h)}}return n},makeCanvas:function(t,e,n){var i=document.createElement("canvas");i.width=t,i.height=e;var o=i.getContext("2d");return o.fillStyle=n||"white",o.fillRect(0,0,i.width,i.height),i},serialize:function(t){return(new XMLSerializer).serializeToString(t)},svgToImg:function(t,e,n){var i=this.serialize(t),o=new Image,r=e.getContext("2d");o.onload=function(){r.drawImage(this,0,0);var t=e.toDataURL("image/png");n(null,t,r)},o.onerror=function(t){n(t)},o.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(i)))},save:function(t){return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(this.serialize(t))},getcssRules:function(){var t=[],e=!0,n=!1,i=void 0;try{for(var o,r=Wt()(document.styleSheets);!(e=(o=r.next()).done);e=!0){var a=o.value,s=this.readRules(a),c=!0,u=!1,l=void 0;try{for(var d,f=Wt()(s);!(c=(d=f.next()).done);c=!0){var h=d.value;h&&h.cssText&&t.push(h)}}catch(t){u=!0,l=t}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}}catch(t){n=!0,i=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}return t},readRules:function(t){try{if(!t.cssRules)return t.rules||[]}catch(t){if("SecurityError"!==t.name)throw t;return[]}return t.cssRules},toDom:function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild||null},toObject:function(t){if(t){var e={};if(t.attributes)for(var n=t.attributes.length;n>=0;n--){var i=t.attributes[n];i&&(e[i.name]=i.value)}var o=t.innerHTML;if(o)return{attrs:e,data:o}}return null},svgElFromString:function(t){var e=this.toDom(t);if(this.isSvgData(e))return e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e},svgDataToUrl:function(t,e){if("object"===qt(e))for(var n in e){var i=e[n]?e[n]:"";t.setAttribute(n,i)}var o=this.export(t);return o?this.svgToUrl(this.serialize(o)):null},isSvgData:function(t){return!!t.firstChild&&"svg"===t.firstChild.parentNode.nodeName},svgToUrl:function(t){var e=new Blob([t],{type:"image/svg+xml"}),n=URL.createObjectURL(e);return n}},Zt={name:"svg-renderer",props:["size","nodes","noNodes","selected","linksSelected","links","nodeSize","padding","fontSize","strLinks","linkWidth","nodeLabels","linkLabels","labelOffset","nodeSym"],computed:{nodeSvg:function(){return this.nodeSym?Xt.toObject(this.nodeSym):null}},methods:{getNodeSize:function(t,e){var n=t._size||this.nodeSize;return e&&(n=t["_"+e]||n),n},svgIcon:function(t){return t.svgObj||this.nodeSvg},emit:function(t,e){this.$emit("action",t,e)},svgScreenShot:function(t,e,n,i){var o=Xt.export(this.$refs.svg,i);if(e)t(null,Xt.save(o));else{n||(n=this.searchBackground());var r=Xt.makeCanvas(this.size.w,this.size.h,n);Xt.svgToImg(o,r,function(e,n){e?t(e):t(null,n)})}},linkClass:function(t){var e=["link"];return this.linksSelected.hasOwnProperty(t)&&e.push("selected"),this.strLinks||e.push("curve"),e},linkPath:function(t){var e={M:[0|t.source.x,0|t.source.y],X:[0|t.target.x,0|t.target.y]};return this.strLinks?"M "+e.M.join(" ")+" L"+e.X.join(" "):(e.Q=[t.source.x,t.target.y],"M "+e.M+" Q "+e.Q.join(" ")+" "+e.X)},nodeStyle:function(t){return t._color?"fill: "+t._color:""},linkStyle:function(t){var e={};return t._color&&(e.stroke=t._color),e},nodeClass:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t._cssClass?t._cssClass:[];return a()(n)||(n=[n]),n.push("node"),e.forEach(function(t){return n.push(t)}),this.selected[t.id]&&n.push("selected"),(t.fx||t.fy)&&n.push("pinned"),n},searchBackground:function(){var t=this;while(t.$parent){var e=window.getComputedStyle(t.$el),n=e.getPropertyValue("background-color"),i=n.replace(/[^\d,]/g,"").split(","),o=i.reduce(function(t,e){return Vt()(t)+Vt()(e)},0);if(o>0)return n;t=t.$parent}return"white"},spriteSymbol:function(){var t=this.nodeSym;if(t)return Xt.toSymbol(t)},linkAttrs:function(t){var e=t._svgAttrs||{};return e["stroke-width"]=e["stroke-width"]||this.linkWidth,e}}},Qt=Zt;function te(t,e,n,i,o,r,a,s){var c,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}var ee,ne,ie=te(Qt,Lt,Ft,!1,null,null,null),oe=ie.exports,re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{directives:[{name:"render-canvas",rawName:"v-render-canvas",value:{links:t.links,nodes:t.nodes},expression:"{links, nodes}"}],ref:"canvas",style:t.canvasStyle,attrs:{id:"canvas",width:t.size.w,height:t.size.h},on:{mouseup:function(e){return e.preventDefault(),t.canvasClick(e)},mousedown:function(e){return e.preventDefault(),t.canvasClick(e)},touchstart:function(e){return e.preventDefault(),t.canvasClick(e)},"&touchend":function(e){return t.canvasClick(e)}}})},ae=[],se=(n("b54a"),n("6c7b"),{background:{_cssClass:"net-svg",fillStyle:"white"},node:{_cssClass:"node",fillStyle:"green",strokeStyle:"orange",lineWidth:2},link:{_cssClass:"link",strokeStyle:"blue",lineWidth:1},labels:{_cssClass:"node-label",_svgElement:"text",fillStyle:"black",fontFamily:"Arial"},nodeSelected:{_cssClass:"node selected",fillStyle:"red",strokeStyle:"orange",lineWidth:2},linkSelected:{_cssClass:"link selected",strokeStyle:"green",lineWidth:2},nodePinned:{_cssClass:"node pinned",fillStyle:"green",strokeStyle:"red"},nodeSelectedPinned:{_cssClass:"node selected pinned",fillStyle:"green",strokeStyle:"red"}}),ce=(n("6b54"),{randomId:function(){return Math.random().toString(36).substring(7)},fillStyle:function(t,e){var n=null,i="picker-"+this.randomId(),o=this.canvasPicker(t,i);e.appendChild(o);var r={fillStyle:"fill",strokeStyle:"stroke",lineWidth:"stroke-width",fontFamily:"font-family"};return t=this.mapStyle(i,r,t,n),e.removeChild(o),t},mapStyle:function(t,e,n,i,o){var r=window.getComputedStyle(document.getElementById(t),i);for(var a in o=o||["lineWidth"],e){var s=r.getPropertyValue(e[a]);o.indexOf(a)>-1&&(s=Vt()(s,10)),s&&(n[a]=s)}return n},canvasPicker:function(t,e){var n=t._svgAttrs||{},i=t._svgElement||"circle";if(!t._svgAttrs)switch(i){case"text":n={x:10,y:10,fontSize:20};break;case"circle":n={cx:10,cy:10,r:10};break}return n.class=t._cssClass,n.id=e,this.svgCreate(i,n)},compColor:function(t){var e=document.createElement("div");e.style.backgroundColor=t,document.body.appendChild(e);var n=window.getComputedStyle(e,null).getPropertyValue("background-color");return document.body.removeChild(e),n},svgCreate:function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in e)n.setAttributeNS(null,i,e[i]);return n},create:function(t,e,n){n=n||"body";var i=document.createElement(t),o=e||"";return o+=this.randomId(),i.setAttribute("id",o),document[n].appendChild(i),i}}),ue={name:"canvas-renderer",props:["size","offset","padding","nodes","selected","linksSelected","links","nodeSize","fontSize","strLinks","linkWidth","nodeLabels","labelOffset","canvasStyles","nodeSym","noNodes"],data:function(){return{hitCanvas:null,shapes:{},drag:null,stylesReady:!1,CssStyles:!0,styles:se,sprites:{}}},computed:{nodeSvg:function(){return this.nodeSym},canvasStyle:function(){var t=this.padding.x+"px",e=this.padding.y+"px";return{left:t,top:e}}},directives:{renderCanvas:function(t,e,n){var i=e.value.nodes,o=e.value.links;n.context.draw(i,o,t)}},created:function(){if(this.canvasStyles)for(var t in this.canvasStyles)this.styles[t]=this.canvasStyles[t]},mounted:function(){var t=this;this.$nextTick(function(){t.hitCanvas.width=t.size.w,t.hitCanvas.height=t.size.h})},watch:{nodeSize:function(){this.resetSprites()},canvasStyles:function(){this.resetSprites()}},methods:{canvasScreenShot:function(t,e){var n=this.$refs.canvas,i=document.createElement("canvas");i.width=n.width,i.height=n.height;var o=this.styles.background;e&&(o=this.getCssColor(e));var r=i.getContext("2d");r=this.setCtx(r,o),r.fillRect(0,0,i.width,i.height),r.drawImage(n,0,0);var a=i.toDataURL("image/png");a?t(null,a):t(new Error("error generating canvas image"))},emit:function(t,e){this.$emit("action",t,e)},canvasInit:function(){var t=document.createElement("canvas");t.width=this.size.w,t.height=this.size.h,t.top=this.offset.y,t.left=this.offset.x,t.id="hit-canvas",this.hitCanvas=t,this.resetSprites()},resetSprites:function(){this.sprites={};for(var t=["node","nodeSelected","nodePinned","nodeSelectedPinned"],e=0;e<t.length;e++){var n=t[e];this.sprites[n]=this.nodeSprite(this.styles[n])}},canvasClick:function(t){var e=this.hitCanvas.getContext("2d"),n=t.touches?t.touches[0]||t.changedTouches[0]:t,i=document.body.scrollTop,o=document.body.scrollLeft,r=n.clientX+o-this.padding.x,a=n.clientY+i-this.padding.y,s=e.getImageData(r,a,1,1).data,c="rgb(".concat(s[0],",").concat(s[1],",").concat(s[2],")"),u=this.shapes[c];if(u){var l=u.type+"s",d=this[l][u.index];d&&("mouseup"===t.type||"touchend"===t.type?(this.drag&&(this.drag=null,this.emit("dragEnd")),this.emit(u.type+"Click",[t,d])):"mousedown"!==t.type&&"touchstart"!==t.type||(this.drag=d,this.emit("dragStart",[t,d.index])))}},drawNode:function(t,e){t.beginPath(),t.arc(e.x,e.y,this.nodeSize/2,0,2*Math.PI,!1);var n=t.fillStyle,i=t.strokeStyle;e._color&&(t.fillStyle=e._color),e._borderColor&&(t.strokeStyle=e._borderColor),t.fill(),t.stroke(),t.closePath(),t.fillStyle=n,t.strokeStyle=i},drawLink:function(t,e){t.beginPath(),t.moveTo(e.source.x,e.source.y),t.lineTo(e.target.x,e.target.y),t.lineWidth=this.linkWidth,t.strokeStyle=e._color?e._color:e.color,t.stroke()},drawText:function(t,e,n,i){e=this.setCtx(e,n),this.fontSize&&(e.font=this.fontSize+"px "+n.fontFamily);var o=i?t[i]:t.name,r=t.x+this.labelOffset.x,a=t.y+this.labelOffset.y;e.fillText(o,r,a)},draw:function(t,e,n){this.hitCanvas||this.canvasInit();var i=n.getContext("2d"),o=this.hitCanvas.getContext("2d");!this.stylesReady&&this.CssStyles&&(this.getCssStyles(),this.resetSprites()),i.clearRect(0,0,this.size.w,this.size.h),i=this.setCtx(i,this.styles.link);var r=!0,a=!1,s=void 0;try{for(var c,u=Wt()(e);!(r=(c=u.next()).done);r=!0){var l=c.value;this.linksSelected[l.id]||this.drawLink(i,l),this.mapShape(l,"link",this.drawLink,o)}}catch(t){a=!0,s=t}finally{try{r||null==u.return||u.return()}finally{if(a)throw s}}for(var d in i=this.setCtx(i,this.styles.linkSelected),this.linksSelected){var f=this.linksSelected[d];this.isOnView(f.source)&&this.isOnView(f.target)&&this.drawLink(i,f)}i=this.setCtx(i,this.styles.node);var h=!0,p=!1,v=void 0;try{for(var y,g=Wt()(t);!(h=(y=g.next()).done);h=!0){var m=y.value;if(this.isOnView(m)){if(!this.noNodes){var b=this.getNodeSprite(m);i.drawImage(b,m.x-b.width/2,m.y-b.height/2),this.mapShape(m,"node",this.drawNode,o)}this.nodeLabels&&(m.size=this.nodeSize,this.drawText(m,i,this.labelStyle(m)))}}}catch(t){p=!0,v=t}finally{try{h||null==g.return||g.return()}finally{if(p)throw v}}for(var _ in i=this.setCtx(i,this.styles.nodeSelected),this.selected){var w=this.selected[_];if(this.isOnView(w)){var S=this.getNodeSprite(w);i.drawImage(S,w.x-S.width/2,w.y-S.height/2)}}},getNodeSprite:function(t){var e=this.nodeSpriteName(t),n=this.sprites[e];if(!n){var i=this.loadNodeStyle(t);n=this.nodeSprite(i),this.sprites[e]=n}return n},nodeSpriteName:function(t){var e="node";return this.selected[t.id]&&(e+="Selected"),t.pinned&&(e+="Pinned"),t._cssClass&&(e+="-"+t._cssClass),t._color&&(e+="-"+ce.compColor(t._color)),e},nodeSprite:function(t){var e=this.nodeSize+this.styles.node.lineWidth,n=this.nodeSvg?e:2*e,i=this.spriteCanvas(n),o=i.getContext("2d");if(this.nodeSvg){var r={width:e,height:e,class:t._cssClass||"",style:t._cssStyle||""},a=Xt.svgDataToUrl(this.nodeSvg,r);if(a){var s=new Image;s.onload=function(){o.drawImage(s,0,0),URL.revokeObjectURL(a)},s.onerror=function(t){console.log("error creating node image",t)},s.src=a}}else o=this.setCtx(o,t),this.drawNode(o,{x:e,y:e});return i},spriteCanvas:function(t){var e=document.createElement("canvas");return e.width=t,e.height=t,e},isOnView:function(t){return t.x>0&&t.y>0&&t.x<this.size.w&&t.y<this.size.h},mapShape:function(t,e,n,i){t.colorIndex||(t.colorIndex=this.newColorIndex());var o=y()({},t);o.color=t.colorIndex.rgb,o.borderColor=t.colorIndex.rgb,o.type=e;var r=this.sprites[e];r?(r=this.cloneCanvas(r),r=this.fillCanvas(r,t.colorIndex),i.drawImage(r,t.x-r.width/2,t.y-r.height/2)):n(i,o),this.shapes[t.colorIndex.rgb]=o},fillCanvas:function(t,e){for(var n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),o=t.width*t.height*4,r=3;r<=o;r+=4)i.data[r]>0&&(i.data[r]=255,i.data[r-3]=e.r,i.data[r-2]=e.g,i.data[r-1]=e.b);return n.putImageData(i,0,0),t},newColorIndex:function(){while(1){var t=this.randomColor();if(!this.shapes[t.rgb])return t}},randomColor:function(){var t=Math.round(255*Math.random()),e=Math.round(255*Math.random()),n=Math.round(255*Math.random());return{r:t,g:e,b:n,rgb:"rgb(".concat(t,",").concat(e,",").concat(n,")")}},setCtx:function(t,e){for(var n in e)t[n]=e[n];return t},cloneCanvas:function(t){var e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),e},Sprite:function(t,e){return this.sprites[t]||(this.sprites[t]=e()),this.sprites[t]},getCssStyles:function(){var t=ce.create("svg","css-picker");for(var e in this.styles){var n=this.styles[e]||{};n=ce.fillStyle(n,t)}document.body.removeChild(t),this.stylesReady=!0},loadNodeStyle:function(t){var e="node",n=this.selected[t.id];if(n&&(e="nodeSelected"),t.pinned&&(e="nodePinned"),n&&t.pinned&&(e="nodeSelectedPinned"),t._cssClass){var i=e+"-"+t._cssClass;if(!this.styles[i]){var o=y()({},this.styles[e]||{});o._cssClass=o._cssClass||"",o._cssClass+=" "+t._cssClass,this.updateStyle(i,o)}e=i}var r=y()({},this.styles[e]||this.updateStyle(e));return t._color&&(r.fillStyle=t._color,r._cssStyle="fill:"+t._color),t._cssClass&&(r._cssClass+=" "+t._cssClass),r},updateStyle:function(t,e){e=e||this.styles[t]||{};var n=ce.create("svg","css-picker");return e=ce.fillStyle(e,n),this.styles[t]=e,document.body.removeChild(n),e},getCssColor:function(t){var e=ce.create("div","color-picker"),n=e.id;e.setAttribute("style","background-color:"+t);var i=ce.mapStyle(n,{fillStyle:"background-color"},[]);return document.body.removeChild(e),i},labelStyle:function(t){var e=this.styles.labels,n=t._labelClass;if(n){var i="labels-"+n,o=this.styles[i];o||(o=y()({},e),o._cssClass+=" "+n,o=this.updateStyle(i,o)),e=o}return e}}},le=ue,de=(n("3d11"),te(le,re,ae,!1,null,null,null)),fe=de.exports,he=(n("34ef"),{save:function(t,e){var n=this;t&&(t=this.dataURIToBlob(t,function(t){var i=URL.createObjectURL(t);n.download(i,e)}))},dataURIToBlob:function(t,e){for(var n=atob(t.split(",")[1]),i=n.length,o=new Uint8Array(i),r=0;r<i;r++)o[r]=n.charCodeAt(r);e(new Blob([o]))},download:function(t,e){e=e||"";var n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e);var i=document.body.appendChild(n);n.click(),document.body.removeChild(i)}}),pe=y()({},o),ve={name:"d3-network",components:{canvasRenderer:fe,svgRenderer:oe},props:{netNodes:{type:Array},netLinks:{type:Array},options:{type:Object},nodeSym:{type:String},nodeCb:{type:Function},linkCb:{type:Function},simCb:{type:Function},customForces:{type:Object},selection:{type:Object,default:function(){return{nodes:{},links:{}}}}},data:function(){return{canvas:!1,nodes:[],links:[],size:{w:500,h:500},offset:{x:0,y:0},clientOffset:{x:0,y:0},force:500,forces:{Center:!1,X:.5,Y:.5,ManyBody:!0,Link:!0},noNodes:!1,strLinks:!0,fontSize:10,dragging:!1,linkWidth:1,nodeLabels:!1,linkLabels:!1,nodeSize:5,mouseOfst:{x:0,y:0},padding:{x:0,y:0},simulation:null,nodeSvg:null,resizeListener:!0}},render:function(t){for(var e="svg",n={},i="svg-renderer",o=["size","nodes","links","selected","linksSelected","strLinks","linkWidth","nodeLabels","linkLabels","fontSize","labelOffset","offset","padding","nodeSize","noNodes"],r=0;r<o.length;r++){var a=o[r];n[a]=this[a]}return n.nodeSym=this.nodeSvg,this.canvas&&(i="canvas-renderer",e="canvas",n.canvasStyles=this.options.canvasStyles),t("div",{attrs:{class:"net"},on:{mousemove:this.move,"&touchmove":this.move}},[t(i,{props:n,ref:e,on:{action:this.methodCall}})])},created:function(){this.updateOptions(this.options),this.buildNodes(this.netNodes),this.links=this.buildLinks(this.netLinks),this.updateNodeSvg()},mounted:function(){var t=this;this.onResize(),this.$nextTick(function(){t.animate()}),this.resizeListener&&window.addEventListener("resize",this.onResize)},beforeDestroy:function(){this.resizeListener&&window.removeEventListener("resize",this.onResize)},computed:{selected:function(){return this.selection.nodes},linksSelected:function(){return this.selection.links},center:function(){return{x:this.size.w/2+this.size.w/200+this.offset.x,y:this.size.h/2+this.size.h/200+this.offset.y}},labelOffset:function(){return{x:this.nodeSize/2+this.fontSize/2,y:this.fontSize/2}}},watch:{netNodes:function(t){this.buildNodes(t),this.reset()},netLinks:function(t,e){this.links=this.buildLinks(t),this.reset()},nodeSym:function(){this.updateNodeSvg()},options:function(t,e){this.updateOptions(t),e.size&&t.size&&(e.size.w===t.size.w&&e.size.h===t.size.h||this.onResize()),this.animate()}},methods:{updateNodeSvg:function(){var t=null;this.nodeSym&&(t=Xt.svgElFromString(this.nodeSym)),this.nodeSvg=t},methodCall:function(t,e){var n=this[t];n&&"function"===typeof n&&(e?n.apply(void 0,p(e)):n())},onResize:function(){var t=this.options.size;t&&t.w||(this.size.w=this.$el.clientWidth),t&&t.h||(this.size.h=this.$el.clientHeight),this.padding.x=0,this.padding.y=0;var e=this;while(e.$parent)this.padding.x+=e.$el.offsetLeft||0,this.padding.y+=e.$el.offsetTop||0,e=e.$parent;this.animate()},updateOptions:function(t){for(var e in t)this.hasOwnProperty(e)&&(this[e]=t[e])},buildNodes:function(t){var e=this,n=this;this.nodes=t.map(function(t,i){return t=e.itemCb(e.nodeCb,t),t.id||0===t.id||n.$set(t,"id",i),t.x||n.$set(t,"x",0),t.y||n.$set(t,"y",0),t.name||"0"===t.name||n.$set(t,"name","node "+t.id),t.svgSym&&(t.svgIcon=Xt.svgElFromString(t.svgSym),e.canvas||!t.svgIcon||t.svgObj||(t.svgObj=Xt.toObject(t.svgIcon))),t})},buildLinks:function(t){var e=this,n=this;return t.concat().map(function(t,i){return t=e.itemCb(e.linkCb,t),t.source=t.sid,t.target=t.tid,t.id||n.$set(t,"id","link-"+i),t})},itemCb:function(t,e){return t&&"function"===typeof t&&(e=t(e)),e},simulate:function(t,e){var n=this.forces,i=pe.forceSimulation().stop().alpha(.5).nodes(t);return!1!==n.Center&&i.force("center",pe.forceCenter(this.center.x,this.center.y)),!1!==n.X&&i.force("X",pe.forceX(this.center.x).strength(n.X)),!1!==n.Y&&i.force("Y",pe.forceY(this.center.y).strength(n.Y)),!1!==n.ManyBody&&i.force("charge",pe.forceManyBody().strength(-this.force)),!1!==n.Link&&i.force("link",pe.forceLink(e).id(function(t){return t.id})),i=this.setCustomForces(i),i=this.itemCb(this.simCb,i),i},setCustomForces:function(t){var e=this.customForces;if(e)for(var n in e){var i=this.getD3Func("force"+n);if(i){var o=e[n];t.force("custom"+n,i.apply(void 0,p(o)))}}return t},getD3Func:function(t){var e=pe[t];return e&&"function"===typeof e?e:null},animate:function(){this.simulation&&this.simulation.stop(),!1!==this.forces.Link?this.simulation=this.simulate(this.nodes,this.links):this.simulation=this.simulate(this.nodes),this.simulation.restart()},reset:function(){this.animate(),this.nodes=this.simulation.nodes(),this.forces.links&&(this.links=this.simulation.force("link").links())},move:function(t){var e=this.clientPos(t);!1!==this.dragging&&this.nodes[this.dragging]&&(this.simulation.restart(),this.simulation.alpha(.5),this.nodes[this.dragging].fx=e.x-this.mouseOfst.x,this.nodes[this.dragging].fy=e.y-this.mouseOfst.y)},clientPos:function(t){var e=t.touches?t.touches[0].clientX:t.clientX,n=t.touches?t.touches[0].clientY:t.clientY;return e=e||0,n=n||0,{x:e,y:n}},dragStart:function(t,e){this.dragging=!1!==e&&e,this.setMouseOffset(t,this.nodes[e]),!1===this.dragging&&(this.simulation.alpha(.1),this.simulation.restart(),this.setMouseOffset())},dragEnd:function(){var t=this.nodes[this.dragging];t&&!t.pinned&&(t.fx=null,t.fy=null),this.dragStart(!1)},nodeClick:function(t,e){this.$emit("node-click",t,e)},linkClick:function(t,e){this.$emit("link-click",t,e)},setMouseOffset:function(t,e){var n=0,i=0;if(t&&e){var o=this.clientPos(t);n=o.x?o.x-e.x:e.x,i=o.y?o.y-e.y:e.y}this.mouseOfst={x:n,y:i}},screenShot:function(t,e,n,i){var o,r=this,a=[];this.canvas?(n=!1,o=this.$refs.canvas.canvasScreenShot,a=[e]):(o=this.$refs.svg.svgScreenShot,a=[n,e,i]),n&&(t=t||"export.svg"),o.apply(void 0,[function(e,i){e||(n?he.download(i,t):he.save(i,t)),r.$emit("screen-shot",e)}].concat(p(a)))}}},ye=ve,ge=(n("59a0"),te(ye,ee,ne,!1,null,null,null)),me=ge.exports;e["default"]=me}})["default"]})},a5de:function(t,e,n){},a5f4:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("e1c6"),s=n("cc26"),c=n("9757"),u=n("3a92"),l=n("c146");function d(t,e,n){var i=new s.SRoutingHandle;return i.type="junction"===t?"routing-point":"volatile-routing-point",i.kind=t,i.pointIndex=n,i}function f(t){var e=t.routingPoints.length,n=t.id;t.add(d("line",n,-1));for(var i=0;i<e;i++)t.add(d("junction",n,i)),t.add(d("line",n,i))}e.createRoutingHandle=d,e.createRoutingHandles=f;var h=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this.elementsToActivate=t,this.elementsToDeactivate=e,this.kind=p.KIND}return t}();e.SwitchEditModeAction=h;var p=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n.elementsToActivate=[],n.elementsToDeactivate=[],n.handlesToRemove=[],n}return i(e,t),e.prototype.execute=function(t){var e=this,n=t.root.index;return this.action.elementsToActivate.forEach(function(t){var i=n.getById(t);void 0!==i&&e.elementsToActivate.push(i)}),this.action.elementsToDeactivate.forEach(function(t){var i=n.getById(t);if(void 0!==i&&e.elementsToDeactivate.push(i),i instanceof s.SRoutingHandle&&s.isRoutable(i.parent)){var o=i.parent;e.shouldRemoveHandle(i,o)&&(e.handlesToRemove.push({handle:i,parent:o}),e.elementsToDeactivate.push(o),e.elementsToActivate.push(o))}}),this.doExecute(t)},e.prototype.doExecute=function(t){return this.handlesToRemove.forEach(function(t){t.point=t.parent.routingPoints.splice(t.handle.pointIndex,1)[0]}),this.elementsToDeactivate.forEach(function(t){s.isRoutable(t)&&t instanceof u.SParentElement?t.removeAll(function(t){return t instanceof s.SRoutingHandle}):t instanceof s.SRoutingHandle&&(t.editMode=!1)}),this.elementsToActivate.forEach(function(t){s.canEditRouting(t)&&t instanceof u.SParentElement?f(t):t instanceof s.SRoutingHandle&&(t.editMode=!0)}),t.root},e.prototype.shouldRemoveHandle=function(t,e){if("junction"===t.kind){var n=e.route();return void 0===n.find(function(e){return e.pointIndex===t.pointIndex})}return!1},e.prototype.undo=function(t){return this.handlesToRemove.forEach(function(t){void 0!==t.point&&t.parent.routingPoints.splice(t.handle.pointIndex,0,t.point)}),this.elementsToActivate.forEach(function(t){s.isRoutable(t)&&t instanceof u.SParentElement?t.removeAll(function(t){return t instanceof s.SRoutingHandle}):t instanceof s.SRoutingHandle&&(t.editMode=!1)}),this.elementsToDeactivate.forEach(function(t){s.canEditRouting(t)&&t instanceof u.SParentElement?f(t):t instanceof s.SRoutingHandle&&(t.editMode=!0)}),t.root},e.prototype.redo=function(t){return this.doExecute(t)},e.KIND="switchEditMode",e=o([a.injectable(),r("design:paramtypes",[h])],e),e}(c.Command);e.SwitchEditModeCommand=p;var v=function(){function t(t,e){void 0===e&&(e=!0),this.moves=t,this.animate=e,this.kind=y.KIND}return t}();e.MoveRoutingHandleAction=v;var y=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n.resolvedMoves=new Map,n.originalRoutingPoints=new Map,n}return i(e,t),e.prototype.execute=function(t){var e=this,n=t.root;return this.action.moves.forEach(function(t){var i=e.resolve(t,n.index);if(void 0!==i){e.resolvedMoves.set(i.elementId,i);var o=i.parent;s.isRoutable(o)&&e.originalRoutingPoints.set(o.id,o.routingPoints.slice())}}),this.action.animate?new g(n,this.resolvedMoves,this.originalRoutingPoints,t).start():this.doMove(t)},e.prototype.resolve=function(t,e){var n=e.getById(t.elementId);if(n instanceof s.SRoutingHandle)return{elementId:t.elementId,element:n,parent:n.parent,fromPosition:t.fromPosition,toPosition:t.toPosition}},e.prototype.doMove=function(t){return this.resolvedMoves.forEach(function(t){var e=t.element,n=t.parent;if(s.isRoutable(n)){var i=n.routingPoints,o=e.pointIndex;"line"===e.kind&&(e.kind="junction",e.type="routing-point",i.splice(o+1,0,t.fromPosition||i[Math.max(o,0)]),n.children.forEach(function(t){t instanceof s.SRoutingHandle&&(t===e||t.pointIndex>o)&&t.pointIndex++}),n.add(d("line",n.id,o)),n.add(d("line",n.id,o+1)),o++),o>=0&&o<i.length&&(i[o]=t.toPosition)}}),t.root},e.prototype.undo=function(t){var e=this;return this.action.animate?new g(t.root,this.resolvedMoves,this.originalRoutingPoints,t,!0).start():(this.resolvedMoves.forEach(function(t){var n=t.parent,i=e.originalRoutingPoints.get(n.id);void 0!==i&&s.isRoutable(n)&&(n.routingPoints=i,n.removeAll(function(t){return t instanceof s.SRoutingHandle}),f(n))}),t.root)},e.prototype.redo=function(t){return this.action.animate?new g(t.root,this.resolvedMoves,this.originalRoutingPoints,t,!1).start():this.doMove(t)},e.KIND="moveHandle",e=o([a.injectable(),r("design:paramtypes",[v])],e),e}(c.Command);e.MoveRoutingHandleCommand=y;var g=function(t){function e(e,n,i,o,r){void 0===r&&(r=!1);var a=t.call(this,o)||this;return a.model=e,a.handleMoves=n,a.originalRoutingPoints=i,a.reverse=r,a}return i(e,t),e.prototype.tween=function(t){var e=this;return this.handleMoves.forEach(function(n){var i=n.parent;if(s.isRoutable(i)&&void 0!==n.fromPosition){if(e.reverse&&1===t){var o=e.originalRoutingPoints.get(i.id);if(void 0!==o)return i.routingPoints=o,i.removeAll(function(t){return t instanceof s.SRoutingHandle}),void f(i)}var r=i.routingPoints,a=n.element.pointIndex;a>=0&&a<r.length&&(e.reverse?r[a]={x:(1-t)*n.toPosition.x+t*n.fromPosition.x,y:(1-t)*n.toPosition.y+t*n.fromPosition.y}:r[a]={x:(1-t)*n.fromPosition.x+t*n.toPosition.x,y:(1-t)*n.fromPosition.y+t*n.toPosition.y})}}),this.model},e}(l.Animation);e.MoveHandlesAnimation=g},a8af:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("30e3");function o(t){return t instanceof RangeError||t.message===i.STACK_OVERFLOW}e.isStackOverflowExeption=o},ab69:function(t,e,n){"use strict";var i=n("f0c5"),o=n.n(i);o.a},ac29:function(t,e,n){"use strict";var i=n("01d4"),o=n("4cdf"),r=n("0b2d"),a=n("de46"),s=n("e269"),c=n("a568"),u=n("1e8d"),l=n("cef7"),d=n("06f8"),f=(n("0af5"),n("57cb")),h=n("f822"),p=n("f623"),v=n("7a09"),y=n("47e4"),g=n("9a44"),m=n("88da"),b=n("5dca"),_=n("f403"),w=n("5bc3"),S=n("4105"),x=n("bf62"),O=n("3e6b"),E=n("5831"),P=n("6c77"),C={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},I={DRAWSTART:"drawstart",DRAWEND:"drawend"},T=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l["a"]),M=function(t){function e(e){var n=e;n.stopDown||(n.stopDown=f["a"]),t.call(this,n),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=A(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===C.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:f["b"];var i=e.geometryFunction;if(!i)if(this.type_===p["a"].CIRCLE)i=function(t,e){var n=e||new h["a"]([NaN,NaN]),i=Object(c["g"])(t[0],t[1]);return n.setCenterAndRadius(t[0],Math.sqrt(i)),n};else{var o,r=this.mode_;r===C.POINT?o=_["a"]:r===C.LINE_STRING?o=v["a"]:r===C.POLYGON&&(o=w["a"]),i=function(t,e){var n=e;return n?r===C.POLYGON?t[0].length?n.setCoordinates([t[0].concat([t[0][0]])]):n.setCoordinates([]):n.setCoordinates(t):n=new o(t),n}}this.geometryFunction_=i,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new O["a"]({source:new E["a"]({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:R(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:d["g"],this.freehandCondition_,e.freehand?this.freehandCondition_=d["c"]:this.freehandCondition_=e.freehandCondition?e.freehandCondition:d["i"],Object(u["a"])(this,Object(s["b"])(x["a"].ACTIVE),this.updateState_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===i["a"].CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==C.POINT&&this.freehandCondition_(e);var n=e.type===r["a"].POINTERMOVE,o=!0;if(!this.freehand_&&this.lastDragTime_&&e.type===r["a"].POINTERDRAG){var a=Date.now();a-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&e.type===r["a"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),o=!1):this.freehand_&&e.type===r["a"].POINTERDOWN?o=!1:n?(o=e.type===r["a"].POINTERMOVE,o&&this.freehand_?o=this.handlePointerMove_(e):(e.pointerEvent.pointerType==b["b"]||e.type===r["a"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e)):e.type===r["a"].DBLCLICK&&(o=!1),t.prototype.handleEvent.call(this,e)&&o},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new a["a"](r["a"].POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var n=this.mode_===C.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||n?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===C.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,i=e[0]-n[0],o=e[1]-n[1],r=i*i+o*o;if(this.shouldHandle_=this.freehand_?r>this.squaredClickTolerance_:r<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,i=[this.finishCoordinate_];if(this.mode_===C.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===C.POLYGON){var o=this.sketchCoords_;n=o[0].length>this.minPoints_,i=[o[0][0],o[0][o[0].length-2]]}if(n)for(var r=t.map,a=0,s=i.length;a<s;a++){var c=i[a],u=r.getPixelFromCoordinate(c),l=t.pixel,d=l[0]-u[0],f=l[1]-u[1],h=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(d*d+f*f)<=h,e){this.finishCoordinate_=c;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();if(this.sketchPoint_){var n=this.sketchPoint_.getGeometry();n.setCoordinates(e)}else this.sketchPoint_=new o["a"](new _["a"](e)),this.updateSketchFeatures_()},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===C.POINT?this.sketchCoords_=e.slice():this.mode_===C.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new o["a"](new v["a"](this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new o["a"],this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new T(I.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,n,i,r=t.coordinate,a=this.sketchFeature_.getGeometry();if(this.mode_===C.POINT?n=this.sketchCoords_:this.mode_===C.POLYGON?(e=this.sketchCoords_[0],n=e[e.length-1],this.atFinish_(t)&&(r=this.finishCoordinate_.slice())):(e=this.sketchCoords_,n=e[e.length-1]),n[0]=r[0],n[1]=r[1],this.geometryFunction_(this.sketchCoords_,a),this.sketchPoint_){var s=this.sketchPoint_.getGeometry();s.setCoordinates(r)}if(a.getType()==p["a"].POLYGON&&this.mode_!==C.POLYGON){this.sketchLine_||(this.sketchLine_=new o["a"]);var c=a.getLinearRing(0);i=this.sketchLine_.getGeometry(),i?(i.setFlatCoordinates(c.getLayout(),c.getFlatCoordinates()),i.changed()):(i=new v["a"](c.getFlatCoordinates(),c.getLayout()),this.sketchLine_.setGeometry(i))}else this.sketchLineCoords_&&(i=this.sketchLine_.getGeometry(),i.setCoordinates(this.sketchLineCoords_));this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,n,i=t.coordinate,o=this.sketchFeature_.getGeometry();this.mode_===C.LINE_STRING?(this.finishCoordinate_=i.slice(),n=this.sketchCoords_,n.length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(i.slice()),this.geometryFunction_(n,o)):this.mode_===C.POLYGON&&(n=this.sketchCoords_[0],n.length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(i.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,o)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e,n=this.sketchFeature_.getGeometry();this.mode_===C.LINE_STRING?(t=this.sketchCoords_,t.splice(-2,1),this.geometryFunction_(t,n),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===C.POLYGON&&(t=this.sketchCoords_[0],t.splice(-2,1),e=this.sketchLine_.getGeometry(),e.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,n)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,n=t.getGeometry();this.mode_===C.LINE_STRING?(e.pop(),this.geometryFunction_(e,n)):this.mode_===C.POLYGON&&(e[0].pop(),this.geometryFunction_(e,n),e=n.getCoordinates()),this.type_===p["a"].MULTI_POINT?t.setGeometry(new g["a"]([e])):this.type_===p["a"].MULTI_LINE_STRING?t.setGeometry(new y["a"]([e])):this.type_===p["a"].MULTI_POLYGON&&t.setGeometry(new m["a"]([e])),this.dispatchEvent(new T(I.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry(),n=e;this.sketchFeature_=t,this.sketchCoords_=n.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new T(I.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(S["b"]);function R(){var t=Object(P["b"])();return function(e,n){return t[e.getGeometry().getType()]}}function A(t){var e;return t===p["a"].POINT||t===p["a"].MULTI_POINT?e=C.POINT:t===p["a"].LINE_STRING||t===p["a"].MULTI_LINE_STRING?e=C.LINE_STRING:t===p["a"].POLYGON||t===p["a"].MULTI_POLYGON?e=C.POLYGON:t===p["a"].CIRCLE&&(e=C.CIRCLE),e}e["a"]=M},ac2a:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var r=n("dd02"),a=n("a2e1"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getChildrenSize=function(t,e,n){var i=-1,o=-1;return t.children.forEach(function(t){var e=n.getBoundsData(t).bounds;void 0!==e&&r.isValidDimension(e)&&(i=Math.max(i,e.width),o=Math.max(o,e.height))}),{width:i,height:o}},e.prototype.layoutChild=function(t,e,n,i,o,r,a,s){var c=this.getDx(i.hAlign,n,a),u=this.getDy(i.vAlign,n,s);return e.bounds={x:o.paddingLeft+t.bounds.x-n.x+c,y:o.paddingTop+t.bounds.y-n.y+u,width:n.width,height:n.height},e.boundsChanged=!0,r},e.prototype.getDefaultLayoutOptions=function(){return{resizeContainer:!0,paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,paddingFactor:1,hAlign:"center",vAlign:"center"}},e.prototype.spread=function(t,e){return o({},t,e)},e.KIND="stack",e}(a.AbstractLayout);e.StackLayouter=s},b2da:function(t,e,n){(function(e,i){t.exports=i(n("3900"),n("35a7"))})(0,function(t,e){"use strict";t="default"in t?t["default"]:t,e="default"in e?e["default"]:e;var n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},s="layer-switcher-",c=function(t){function c(t){n(this,c);var e=t||{},i=e.tipLabel?e.tipLabel:"Legend",o=document.createElement("div"),r=a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,{element:o,target:e.target}));r.mapListeners=[],r.hiddenClassName="ol-unselectable ol-control layer-switcher",c.isTouchDevice_()&&(r.hiddenClassName+=" touch"),r.shownClassName="shown",o.className=r.hiddenClassName;var s=document.createElement("button");s.setAttribute("title",i),o.appendChild(s),r.panel=document.createElement("div"),r.panel.className="panel",o.appendChild(r.panel),c.enableTouchScroll_(r.panel);var u=r;return s.onmouseover=function(t){u.showPanel()},s.onclick=function(t){t=t||window.event,u.showPanel(),t.preventDefault()},u.panel.onmouseout=function(t){t=t||window.event,u.panel.contains(t.toElement||t.relatedTarget)||u.hidePanel()},r}return r(c,t),i(c,[{key:"setMap",value:function(t){for(var n=0;n<this.mapListeners.length;n++)e.unByKey(this.mapListeners[n]);if(this.mapListeners.length=0,o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"setMap",this).call(this,t),t){var i=this;this.mapListeners.push(t.on("pointerdown",function(){i.hidePanel()})),this.renderPanel()}}},{key:"showPanel",value:function(){this.element.classList.contains(this.shownClassName)||(this.element.classList.add(this.shownClassName),this.renderPanel())}},{key:"hidePanel",value:function(){this.element.classList.contains(this.shownClassName)&&this.element.classList.remove(this.shownClassName)}},{key:"renderPanel",value:function(){c.renderPanel(this.getMap(),this.panel)}}],[{key:"renderPanel",value:function(t,e){c.ensureTopVisibleBaseLayerShown_(t);while(e.firstChild)e.removeChild(e.firstChild);var n=document.createElement("ul");e.appendChild(n),c.renderLayers_(t,t,n)}},{key:"ensureTopVisibleBaseLayerShown_",value:function(t){var e;c.forEachRecursive(t,function(t,n,i){"base"===t.get("type")&&t.getVisible()&&(e=t)}),e&&c.setVisible_(t,e,!0)}},{key:"setVisible_",value:function(t,e,n){e.setVisible(n),n&&"base"===e.get("type")&&c.forEachRecursive(t,function(t,n,i){t!=e&&"base"===t.get("type")&&t.setVisible(!1)})}},{key:"renderLayer_",value:function(t,e,n){var i=document.createElement("li"),o=e.get("title"),r=c.uuid(),a=document.createElement("label");if(e.getLayers&&!e.get("combine")){i.className="group",e.get("fold")&&(i.classList.add(s+"fold"),i.classList.add(s+e.get("fold")),a.onclick=function(t){c.toggleFold_(e,i)}),a.innerHTML=o,i.appendChild(a);var u=document.createElement("ul");i.appendChild(u),c.renderLayers_(t,e,u)}else{i.className="layer";var l=document.createElement("input");"base"===e.get("type")?(l.type="radio",l.name="base"):l.type="checkbox",l.id=r,l.checked=e.get("visible"),l.onchange=function(n){c.setVisible_(t,e,n.target.checked)},i.appendChild(l),a.htmlFor=r,a.innerHTML=o;var d=t.getView().getResolution();(d>e.getMaxResolution()||d<e.getMinResolution())&&(a.className+=" disabled"),i.appendChild(a)}return i}},{key:"renderLayers_",value:function(t,e,n){for(var i,o=e.getLayers().getArray().slice().reverse(),r=0;r<o.length;r++)i=o[r],i.get("title")&&n.appendChild(c.renderLayer_(t,i,r))}},{key:"forEachRecursive",value:function(t,e){t.getLayers().forEach(function(t,n,i){e(t,n,i),t.getLayers&&c.forEachRecursive(t,e)})}},{key:"uuid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})}},{key:"enableTouchScroll_",value:function(t){if(c.isTouchDevice_()){var e=0;t.addEventListener("touchstart",function(t){e=this.scrollTop+t.touches[0].pageY},!1),t.addEventListener("touchmove",function(t){this.scrollTop=e-t.touches[0].pageY},!1)}}},{key:"isTouchDevice_",value:function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}},{key:"toggleFold_",value:function(t,e){e.classList.remove(s+t.get("fold")),t.set("fold","open"===t.get("fold")?"close":"open"),e.classList.add(s+t.get("fold"))}}]),c}(t);return window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=c),c})},b485:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("3b4c"),r=n("3623"),a=n("1f89"),s=function(){function t(e){this.elementId=e,this.kind=t.KIND}return t.KIND="open",t}();e.OpenAction=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.doubleClick=function(t,e){var n=r.findParentByFeature(t,a.isOpenable);return void 0!==n?[new s(n.id)]:[]},e}(o.MouseListener);e.OpenMouseListener=c},b669:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("fba3");function o(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(r(t)!==e)return!1;if(i.isMac()){if(t.ctrlKey!==n.findIndex(function(t){return"ctrl"===t})>=0)return!1;if(t.metaKey!==n.findIndex(function(t){return"meta"===t||"ctrlCmd"===t})>=0)return!1}else{if(t.ctrlKey!==n.findIndex(function(t){return"ctrl"===t||"ctrlCmd"===t})>=0)return!1;if(t.metaKey!==n.findIndex(function(t){return"meta"===t})>=0)return!1}return t.altKey===n.findIndex(function(t){return"alt"===t})>=0&&t.shiftKey===n.findIndex(function(t){return"shift"===t})>=0}function r(t){if(t.keyCode){var e=a[t.keyCode];if(void 0!==e)return e}return t.code}e.matchesKeystroke=o,e.getActualCode=r;var a=new Array(256);(function(){function t(t,e){void 0===a[e]&&(a[e]=t)}t("Pause",3),t("Backspace",8),t("Tab",9),t("Enter",13),t("ShiftLeft",16),t("ShiftRight",16),t("ControlLeft",17),t("ControlRight",17),t("AltLeft",18),t("AltRight",18),t("CapsLock",20),t("Escape",27),t("Space",32),t("PageUp",33),t("PageDown",34),t("End",35),t("Home",36),t("ArrowLeft",37),t("ArrowUp",38),t("ArrowRight",39),t("ArrowDown",40),t("Insert",45),t("Delete",46),t("Digit1",49),t("Digit2",50),t("Digit3",51),t("Digit4",52),t("Digit5",53),t("Digit6",54),t("Digit7",55),t("Digit8",56),t("Digit9",57),t("Digit0",48),t("KeyA",65),t("KeyB",66),t("KeyC",67),t("KeyD",68),t("KeyE",69),t("KeyF",70),t("KeyG",71),t("KeyH",72),t("KeyI",73),t("KeyJ",74),t("KeyK",75),t("KeyL",76),t("KeyM",77),t("KeyN",78),t("KeyO",79),t("KeyP",80),t("KeyQ",81),t("KeyR",82),t("KeyS",83),t("KeyT",84),t("KeyU",85),t("KeyV",86),t("KeyW",87),t("KeyX",88),t("KeyY",89),t("KeyZ",90),t("OSLeft",91),t("MetaLeft",91),t("OSRight",92),t("MetaRight",92),t("ContextMenu",93),t("Numpad0",96),t("Numpad1",97),t("Numpad2",98),t("Numpad3",99),t("Numpad4",100),t("Numpad5",101),t("Numpad6",102),t("Numpad7",103),t("Numpad8",104),t("Numpad9",105),t("NumpadMultiply",106),t("NumpadAdd",107),t("NumpadSeparator",108),t("NumpadSubtract",109),t("NumpadDecimal",110),t("NumpadDivide",111),t("F1",112),t("F2",113),t("F3",114),t("F4",115),t("F5",116),t("F6",117),t("F7",118),t("F8",119),t("F9",120),t("F10",121),t("F11",122),t("F12",123),t("F13",124),t("F14",125),t("F15",126),t("F16",127),t("F17",128),t("F18",129),t("F19",130),t("F20",131),t("F21",132),t("F22",133),t("F23",134),t("F24",135),t("NumLock",144),t("ScrollLock",145),t("Semicolon",186),t("Equal",187),t("Comma",188),t("Minus",189),t("Period",190),t("Slash",191),t("Backquote",192),t("IntlRo",193),t("BracketLeft",219),t("Backslash",220),t("BracketRight",221),t("Quote",222),t("IntlYen",255)})()},ba30:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("dd02");function o(t,e,n,i){void 0===i&&(i=0);var o=t.x+e,r=t.y+e,a=o-n.x,s=r-n.y,c=Math.sqrt(a*a+s*s),u=a/c||0,l=s/c||0;return{x:o-u*(e+i),y:r-l*(e+i)}}function r(t,e,n){var i=(t-e.y)/(n.y-e.y);return(n.x-e.x)*i+e.x}function a(t,e,n){var i=(t-e.x)/(n.x-e.x);return(n.y-e.y)*i+e.y}e.computeCircleAnchor=o;var s=function(){function t(t,e){this.centerPoint=t,this.refPoint=e,this.currentDist=-1}return t.prototype.addCandidate=function(t,e){var n=this.refPoint.x-t,i=this.refPoint.y-e,o=n*n+i*i;(this.currentDist<0||o<this.currentDist)&&(this.currentBest={x:t,y:e},this.currentDist=o)},Object.defineProperty(t.prototype,"best",{get:function(){return void 0===this.currentBest?this.centerPoint:this.currentBest},enumerable:!0,configurable:!0}),t}();function c(t,e,n){var o=i.center(t),c=new s(o,e);if(!i.almostEquals(o.y,e.y)){var u=r(t.y,o,e);u>=t.x&&u<=t.x+t.width&&c.addCandidate(u,t.y-n);var l=r(t.y+t.height,o,e);l>=t.x&&l<=t.x+t.width&&c.addCandidate(l,t.y+t.height+n)}if(!i.almostEquals(o.x,e.x)){var d=a(t.x,o,e);d>=t.y&&d<=t.y+t.height&&c.addCandidate(t.x-n,d);var f=a(t.x+t.width,o,e);f>=t.y&&f<=t.y+t.height&&c.addCandidate(t.x+t.width+n,f)}return c.best}e.computeRectangleAnchor=c},ba33:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("30e3");function o(t){if("function"===typeof t){var e=t;return e.name}if("symbol"===typeof t)return t.toString();e=t;return e}function r(t,e,n){var i="",o=n(t,e);return 0!==o.length&&(i="\nRegistered bindings:",o.forEach(function(t){var e="Object";null!==t.implementationType&&(e=l(t.implementationType)),i=i+"\n "+e,t.constraint.metaData&&(i=i+" - "+t.constraint.metaData)})),i}function a(t,e){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===e||a(t.parentRequest,e))}function s(t){function e(t,n){void 0===n&&(n=[]);var i=o(t.serviceIdentifier);return n.push(i),null!==t.parentRequest?e(t.parentRequest,n):n}var n=e(t);return n.reverse().join(" --\x3e ")}function c(t){t.childRequests.forEach(function(t){if(a(t,t.serviceIdentifier)){var e=s(t);throw new Error(i.CIRCULAR_DEPENDENCY+" "+e)}c(t)})}function u(t,e){if(e.isTagged()||e.isNamed()){var n="",i=e.getNamedTag(),o=e.getCustomTags();return null!==i&&(n+=i.toString()+"\n"),null!==o&&o.forEach(function(t){n+=t.toString()+"\n"})," "+t+"\n "+t+" - "+n}return" "+t}function l(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}e.getServiceIdentifierAsString=o,e.listRegisteredBindingsForServiceIdentifier=r,e.circularDependencyToException=c,e.listMetadataForTarget=u,e.getFunctionName=l},bab1:function(t,e,n){},bafd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.context||document;if(!t)return null;var i=[],r=l((0,o.default)(t),i,n),a=void 0;return a=r?1===r.length?r[0]:r:d({type:"text",content:t},i,n),e.hooks&&e.hooks.create&&i.forEach(function(t){e.hooks.create(t)}),a};var i=n("861d"),o=c(i),r=n("2eed"),a=c(r),s=n("6592");function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e,n){return t instanceof Array&&t.length>0?t.map(function(t){return d(t,e,n)}):void 0}function d(t,e,n){var i=void 0;return i="text"===t.type?(0,s.createTextVNode)(t.content,n):(0,a.default)(t.name,f(t,n),l(t.children,e,n)),e.push(i),i}function f(t,e){var n={};if(!t.attrs)return n;var i=Object.keys(t.attrs).reduce(function(n,i){if("style"!==i&&"class"!==i){var o=(0,s.unescapeEntities)(t.attrs[i],e);n?n[i]=o:n=u({},i,o)}return n},null);i&&(n.attrs=i);var o=h(t);o&&(n.style=o);var r=p(t);return r&&(n.class=r),n}function h(t){try{return t.attrs.style.split(";").reduce(function(t,e){var n=e.split(":"),i=(0,s.transformName)(n[0].trim());if(i){var o=n[1].replace("!important","").trim();t?t[i]=o:t=u({},i,o)}return t},null)}catch(t){return null}}function p(t){try{return t.attrs.class.split(" ").reduce(function(t,e){return e=e.trim(),e&&(t?t[e]=!0:t=u({},e,!0)),t},null)}catch(t){return null}}},bb33:function(t,e,n){"use strict";var i=n("bee8"),o=n.n(i);o.a},bcbd:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("e1c6"),c=n("fba3"),u=n("b669"),l=n("e629"),d=n("3a92"),f=n("3623"),h=n("9757"),p=n("3b4c"),v=n("1417"),y=n("e45b"),g=n("70d9"),m=n("38e8"),b=n("cc26"),_=n("a5f4"),w=n("4c18"),S=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this.selectedElementsIDs=t,this.deselectedElementsIDs=e,this.kind=O.KIND}return t}();e.SelectAction=S;var x=function(){function t(t){void 0===t&&(t=!0),this.select=t,this.kind=E.KIND}return t}();e.SelectAllAction=x;var O=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n.selected=[],n.deselected=[],n}return i(e,t),e.prototype.execute=function(t){var e=this,n=t.root;return this.action.selectedElementsIDs.forEach(function(t){var i=n.index.getById(t);i instanceof d.SChildElement&&w.isSelectable(i)&&e.selected.push({element:i,parent:i.parent,index:i.parent.children.indexOf(i)})}),this.action.deselectedElementsIDs.forEach(function(t){var i=n.index.getById(t);i instanceof d.SChildElement&&w.isSelectable(i)&&e.deselected.push({element:i,parent:i.parent,index:i.parent.children.indexOf(i)})}),this.redo(t)},e.prototype.undo=function(t){for(var e=this.selected.length-1;e>=0;--e){var n=this.selected[e],i=n.element;w.isSelectable(i)&&(i.selected=!1),n.parent.move(i,n.index)}return this.deselected.reverse().forEach(function(t){w.isSelectable(t.element)&&(t.element.selected=!0)}),t.root},e.prototype.redo=function(t){for(var e=0;e<this.selected.length;++e){var n=this.selected[e],i=n.element,o=n.parent.children.length;n.parent.move(i,o-1)}return this.deselected.forEach(function(t){w.isSelectable(t.element)&&(t.element.selected=!1)}),this.selected.forEach(function(t){w.isSelectable(t.element)&&(t.element.selected=!0)}),t.root},e.KIND="elementSelected",e}(h.Command);e.SelectCommand=O;var E=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n.previousSelection={},n}return i(e,t),e.prototype.execute=function(t){return this.selectAll(t.root,this.action.select),t.root},e.prototype.selectAll=function(t,e){w.isSelectable(t)&&(this.previousSelection[t.id]=t.selected,t.selected=e);for(var n=0,i=t.children;n<i.length;n++){var o=i[n];this.selectAll(o,e)}},e.prototype.undo=function(t){var e=t.root.index;for(var n in this.previousSelection)if(this.previousSelection.hasOwnProperty(n)){var i=e.getById(n);void 0!==i&&w.isSelectable(i)&&(i.selected=this.previousSelection[n])}return t.root},e.prototype.redo=function(t){return this.selectAll(t.root,this.action.select),t.root},e.KIND="allSelected",e}(h.Command);e.SelectAllCommand=E;var P=function(t){function e(e){var n=t.call(this)||this;return n.buttonHandlerRegistry=e,n.wasSelected=!1,n.hasDragged=!1,n}return i(e,t),e.prototype.mouseDown=function(t,e){var n=[];if(0===e.button){if(void 0!==this.buttonHandlerRegistry&&t instanceof m.SButton&&t.enabled){var i=this.buttonHandlerRegistry.get(t.type);if(void 0!==i)return i.buttonPressed(t)}var o=f.findParentByFeature(t,w.isSelectable);if(void 0!==o||t instanceof d.SModelRoot){this.hasDragged=!1;var r=[];if(c.isCtrlOrCmd(e)||(r=l.toArray(t.root.index.all().filter(function(t){return w.isSelectable(t)&&t.selected&&!(o instanceof b.SRoutingHandle&&t===o.parent)}))),void 0!==o)if(o.selected)c.isCtrlOrCmd(e)?(this.wasSelected=!1,n.push(new S([],[o.id])),b.isRoutable(o)&&n.push(new _.SwitchEditModeAction([],[o.id]))):this.wasSelected=!0;else{this.wasSelected=!1,n.push(new S([o.id],r.map(function(t){return t.id})));var a=r.filter(function(t){return b.isRoutable(t)}).map(function(t){return t.id});b.isRoutable(o)?n.push(new _.SwitchEditModeAction([o.id],a)):a.length>0&&n.push(new _.SwitchEditModeAction([],a))}else{n.push(new S([],r.map(function(t){return t.id})));a=r.filter(function(t){return b.isRoutable(t)}).map(function(t){return t.id});a.length>0&&n.push(new _.SwitchEditModeAction([],a))}}}return n},e.prototype.mouseMove=function(t,e){return this.hasDragged=!0,[]},e.prototype.mouseUp=function(t,e){if(0===e.button&&!this.hasDragged){var n=f.findParentByFeature(t,w.isSelectable);if(void 0!==n&&this.wasSelected)return[new S([n.id],[])]}return this.hasDragged=!1,[]},e.prototype.decorate=function(t,e){var n=f.findParentByFeature(e,w.isSelectable);return void 0!==n&&y.setClass(t,"selected",n.selected),t},e=o([a(0,s.inject(g.ButtonHandlerRegistry)),a(0,s.optional()),r("design:paramtypes",[g.ButtonHandlerRegistry])],e),e}(p.MouseListener);e.SelectMouseListener=P;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.keyDown=function(t,e){if(u.matchesKeystroke(e,"KeyA","ctrlCmd")){var n=l.toArray(t.root.index.all().filter(function(t){return w.isSelectable(t)}).map(function(t){return t.id}));return[new S(n,[])]}return[]},e}(v.KeyListener);e.SelectKeyboardListener=C},bcc9:function(t,e,n){"use strict";var i,o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function r(t){return t&&t.$el||t}function a(t,e,n,i,o){void 0===o&&(o={});var r={left:n,top:i},a=t.height,s=t.width,c=i,u=i+a,l=n,d=n+s,f=o.top||0,h=o.bottom||0,p=o.left||0,v=o.right||0,y=e.top+f,g=e.bottom-h,m=e.left+p,b=e.right-v;return c<y?r.top=y:u>g&&(r.top=g-a),l<m?r.left=m:d>b&&(r.left=b-s),r}Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t["Start"]=1]="Start",t[t["End"]=2]="End",t[t["Move"]=3]="Move"}(i||(i={})),e.Draggable={bind:function(t,n,i,o){e.Draggable.update(t,n,i,o)},update:function(t,e,n,s){if(!e.value||!e.value.stopDragging){var c=e.value&&e.value.handle&&r(e.value.handle)||t;e&&e.value&&e.value.resetInitialPos&&(y(),m()),c.getAttribute("draggable")||(t.removeEventListener("mousedown",t["listener"]),c.addEventListener("mousedown",h),c.setAttribute("draggable","true"),t["listener"]=h,y(),m())}function u(n){n.preventDefault();var i=e.value&&e.value.stopDragging;if(!i){var o=b();o.startDragPosition&&o.initialMousePos||(y(n),o=b());var r=n.clientX-o.initialMousePos.left,s=n.clientY-o.initialMousePos.top,c={left:o.startDragPosition.left+r,top:o.startDragPosition.top+s},u=l(),f=t.getBoundingClientRect();u&&f&&(c=a(f,u,c.left,c.top,e.value.boundingRectMargin)),g({currentDragPosition:c}),d(),m(n)}}function l(){if(e.value)return e.value.boundingRect||e.value.boundingElement&&e.value.boundingElement.getBoundingClientRect()}function d(){var e=b();e.currentDragPosition&&(t.style.position="fixed",t.style.left=e.currentDragPosition.left+"px",t.style.top=e.currentDragPosition.top+"px")}function f(t){t.preventDefault();var e=v();g({initialMousePos:void 0,startDragPosition:e,currentDragPosition:e}),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",f),m(t,i.End)}function h(t){g({initialMousePos:p(t)}),m(t,i.Start),document.addEventListener("mousemove",u),document.addEventListener("mouseup",f)}function p(t){return t&&{left:t.clientX,top:t.clientY}}function v(){var e=t.getBoundingClientRect();if(e.height&&e.width)return{left:e.left,top:e.top}}function y(t){var n=b(),i=e&&e.value&&e.value.initialPosition,o=n.initialPosition,r=v(),a=i||o||r;g({initialPosition:a,startDragPosition:a,currentDragPosition:a,initialMousePos:p(t)}),d()}function g(t){var e=b(),n=o({},e,t);c.setAttribute("draggable-state",JSON.stringify(n))}function m(t,n){var r=b(),a={x:0,y:0};r.currentDragPosition&&r.startDragPosition&&(a.x=r.currentDragPosition.left-r.startDragPosition.left,a.y=r.currentDragPosition.top-r.startDragPosition.top);var s=r.currentDragPosition&&o({},r.currentDragPosition);n===i.End?e.value&&e.value.onDragEnd&&r&&e.value.onDragEnd(a,s,t):n===i.Start?e.value&&e.value.onDragStart&&r&&e.value.onDragStart(a,s,t):e.value&&e.value.onPositionChange&&r&&e.value.onPositionChange(a,s,t)}function b(){return JSON.parse(c.getAttribute("draggable-state"))||{}}}}},be02:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("e1c6"),c=n("6923"),u=n("3864"),l=n("9757"),d=function(t){function e(e){var n=t.call(this)||this;return e.forEach(function(t){return n.initializeActionHandler(t)}),n}return i(e,t),e.prototype.registerCommand=function(t){this.register(t.KIND,new l.CommandActionHandler(t))},e.prototype.initializeActionHandler=function(t){t.initialize(this)},e=o([s.injectable(),a(0,s.multiInject(c.TYPES.IActionHandlerInitializer)),a(0,s.optional()),r("design:paramtypes",[Array])],e),e}(u.MultiInstanceRegistry);e.ActionHandlerRegistry=d},bee8:function(t,e,n){},c146:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("987d"),r=function(){function t(t,e){void 0===e&&(e=o.easeInOut),this.context=t,this.ease=e}return t.prototype.start=function(){var t=this;return new Promise(function(e,n){var i=void 0,o=0,r=function(n){var a;o++,void 0===i?(i=n,a=0):a=n-i;var s=Math.min(1,a/t.context.duration),c=t.tween(t.ease(s),t.context);t.context.modelChanged.update(c),1===s?(t.context.logger.log(t,1e3*o/t.context.duration+" fps"),e(c)):t.context.syncer.onNextFrame(r)};if(t.context.syncer.isAvailable())t.context.syncer.onNextFrame(r);else{var a=t.tween(1,t.context);e(a)}})},t}();e.Animation=r;var a=function(t){function e(e,n,i,r){void 0===i&&(i=[]),void 0===r&&(r=o.easeInOut);var a=t.call(this,n,r)||this;return a.model=e,a.context=n,a.components=i,a.ease=r,a}return i(e,t),e.prototype.include=function(t){return this.components.push(t),this},e.prototype.tween=function(t,e){for(var n=0,i=this.components;n<i.length;n++){var o=i[n];o.tween(t,e)}return this.model},e}(r);e.CompoundAnimation=a},c20e:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("b669"),r=n("1417"),a=function(){function t(){this.kind=t.KIND}return t.KIND="undo",t}();e.UndoAction=a;var s=function(){function t(){this.kind=t.KIND}return t.KIND="redo",t}();e.RedoAction=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.keyDown=function(t,e){return o.matchesKeystroke(e,"KeyZ","ctrlCmd")?[new a]:o.matchesKeystroke(e,"KeyZ","ctrlCmd","shift")?[new s]:[]},e}(r.KeyListener);e.UndoRedoKeyListener=c},c278:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("c5f4"),o=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){var e=Reflect.getMetadata(i.PARAM_TYPES,t),n=Reflect.getMetadata(i.TAGGED,t);return{compilerGeneratedMetadata:e,userGeneratedMetadata:n||{}}},t.prototype.getPropertiesMetadata=function(t){var e=Reflect.getMetadata(i.TAGGED_PROP,t)||[];return e},t}();e.MetadataReader=o},c444:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("9757"),r=n("c146"),a=n("5eb6"),s=function(){function t(t,e,n){this.elementId=t,this.newViewport=e,this.animate=n,this.kind=c.KIND}return t}();e.ViewportAction=s;var c=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n.newViewport=e.newViewport,n}return i(e,t),e.prototype.execute=function(t){var e=t.root,n=e.index.getById(this.action.elementId);if(n&&a.isViewport(n)){if(this.element=n,this.oldViewport={scroll:this.element.scroll,zoom:this.element.zoom},this.action.animate)return new u(this.element,this.oldViewport,this.newViewport,t).start();this.element.scroll=this.newViewport.scroll,this.element.zoom=this.newViewport.zoom}return e},e.prototype.undo=function(t){return new u(this.element,this.newViewport,this.oldViewport,t).start()},e.prototype.redo=function(t){return new u(this.element,this.oldViewport,this.newViewport,t).start()},e.prototype.merge=function(t,n){return!this.action.animate&&t instanceof e&&this.element===t.element&&(this.newViewport=t.newViewport,!0)},e.KIND="viewport",e}(o.MergeableCommand);e.ViewportCommand=c;var u=function(t){function e(e,n,i,o){var r=t.call(this,o)||this;return r.element=e,r.oldViewport=n,r.newViewport=i,r.context=o,r.zoomFactor=Math.log(i.zoom/n.zoom),r}return i(e,t),e.prototype.tween=function(t,e){return this.element.scroll={x:(1-t)*this.oldViewport.scroll.x+t*this.newViewport.scroll.x,y:(1-t)*this.oldViewport.scroll.y+t*this.newViewport.scroll.y},this.element.zoom=this.oldViewport.zoom*Math.exp(t*this.zoomFactor),e.root},e}(r.Animation);e.ViewportAnimation=u},c4e6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("6923"),r=n("bcbd"),a=new i.ContainerModule(function(t){t(o.TYPES.ICommand).toConstructor(r.SelectCommand),t(o.TYPES.ICommand).toConstructor(r.SelectAllCommand),t(o.TYPES.KeyListener).to(r.SelectKeyboardListener),t(o.TYPES.MouseListener).to(r.SelectMouseListener)});e.default=a},c4ec:function(t,e,n){var i=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,o=n("4047");t.exports=function(t){var e,n=0,r=!0,a={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return t.replace(i,function(i){if("="===i)return r=!0,void n++;r?0===n?((o[i]||"/"===t.charAt(t.length-2))&&(a.voidElement=!0),a.name=i):(a.attrs[e]=i.replace(/^['"]|['"]$/g,""),e=void 0):(e&&(a.attrs[e]=e),e=i),n++,r=!1}),a}},c58e:function(t,e,n){},c5f4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct"},c612:function(t,e,n){"use strict";var i=n("8b1b"),o=n.n(i);o.a},c622:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("77d3"),o=function(){function t(t,e,n,o,r){this.id=i.id(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=r,this.childRequests=[],this.bindings=Array.isArray(o)?o:[o],this.requestScope=null===n?new Map:null}return t.prototype.addChildRequest=function(e,n,i){var o=new t(e,this.parentContext,this,n,i);return this.childRequests.push(o),o},t}();e.Request=o},c807:function(t,e,n){"use strict";var i=n("1300"),o=n("e300"),r=n("183a"),a=n("4cdf"),s=n("0b2d"),c=n("9f5e"),u=n("a568"),l=n("1e8d"),d=n("cef7"),f=n("01d4"),h=n("06f8"),p=n("0af5"),v=n("f623"),y=n("f403"),g=n("4105"),m=n("3e6b"),b=n("5831"),_=n("a43f"),w=n("4a7d"),S=n("6c77"),x=0,O=1,E={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},P=function(t){function e(e,n,i){t.call(this,e),this.features=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(d["a"]),C=function(t){function e(e){var n;if(t.call(this,e),this.condition_=e.condition?e.condition:h["h"],this.defaultDeleteCondition_=function(t){return Object(h["a"])(t)&&Object(h["j"])(t)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:h["c"],this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new w["a"],this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new m["a"]({source:new b["a"]({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:R(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,n=new o["a"](this.source_.getFeatures()),Object(l["a"])(this.source_,_["a"].ADDFEATURE,this.handleSourceAdd_,this),Object(l["a"])(this.source_,_["a"].REMOVEFEATURE,this.handleSourceRemove_,this)):n=e.features,!n)throw new Error("The modify interaction requires features or a source");this.features_=n,this.features_.forEach(this.addFeature_.bind(this)),Object(l["a"])(this.features_,r["a"].ADD,this.handleFeatureAdd_,this),Object(l["a"])(this.features_,r["a"].REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature_=function(t){var e=t.getGeometry();e&&e.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[e.getType()].call(this,t,e);var n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),Object(l["a"])(t,f["a"].CHANGE,this.handleFeatureChange_,this)},e.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new P(E.MODIFYSTART,this.features_,t)))},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),Object(l["c"])(t,f["a"].CHANGE,this.handleFeatureChange_,this)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,n=[];e.forEach(function(e){t===e.feature&&n.push(e)});for(var i=n.length-1;i>=0;--i)e.remove(n[i])},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),i={feature:t,geometry:e,segment:[n,n]};this.rBush_.insert(e.getExtent(),i)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,o=n.length;i<o;++i){var r=n[i],a={feature:t,geometry:e,depth:[i],index:i,segment:[r,r]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,o=n.length-1;i<o;++i){var r=n.slice(i,i+2),a={feature:t,geometry:e,index:i,segment:r};this.rBush_.insert(Object(p["b"])(r),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,o=n.length;i<o;++i)for(var r=n[i],a=0,s=r.length-1;a<s;++a){var c=r.slice(a,a+2),u={feature:t,geometry:e,depth:[i],index:a,segment:c};this.rBush_.insert(Object(p["b"])(c),u)}},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,o=n.length;i<o;++i)for(var r=n[i],a=0,s=r.length-1;a<s;++a){var c=r.slice(a,a+2),u={feature:t,geometry:e,depth:[i],index:a,segment:c};this.rBush_.insert(Object(p["b"])(c),u)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,o=n.length;i<o;++i)for(var r=n[i],a=0,s=r.length;a<s;++a)for(var c=r[a],u=0,l=c.length-1;u<l;++u){var d=c.slice(u,u+2),f={feature:t,geometry:e,depth:[a,i],index:u,segment:d};this.rBush_.insert(Object(p["b"])(d),f)}},e.prototype.writeCircleGeometry_=function(t,e){var n=e.getCenter(),i={feature:t,geometry:e,index:x,segment:[n,n]},o={feature:t,geometry:e,index:O,segment:[n,n]},r=[i,o];i.featureSegments=o.featureSegments=r,this.rBush_.insert(Object(p["m"])(n),i),this.rBush_.insert(e.getExtent(),o)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),i=0;i<n.length;++i)this.SEGMENT_WRITERS_[n[i].getType()].call(this,t,n[i])},e.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;if(e){var n=e.getGeometry();n.setCoordinates(t)}else e=new a["a"](new y["a"](t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e);return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=s["a"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(n=!(e.type!=s["a"].SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==s["a"].SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!n);var n},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,n=0,i=this.dragSegments_.length;n<i;++n){var o=this.dragSegments_[n],r=o[0],a=r.depth,s=r.geometry,c=void 0,l=r.segment,d=o[1];while(e.length<s.getStride())e.push(l[d][e.length]);switch(s.getType()){case v["a"].POINT:c=e,l[0]=l[1]=e;break;case v["a"].MULTI_POINT:c=s.getCoordinates(),c[r.index]=e,l[0]=l[1]=e;break;case v["a"].LINE_STRING:c=s.getCoordinates(),c[r.index+d]=e,l[d]=e;break;case v["a"].MULTI_LINE_STRING:c=s.getCoordinates(),c[a[0]][r.index+d]=e,l[d]=e;break;case v["a"].POLYGON:c=s.getCoordinates(),c[a[0]][r.index+d]=e,l[d]=e;break;case v["a"].MULTI_POLYGON:c=s.getCoordinates(),c[a[1]][a[0]][r.index+d]=e,l[d]=e;break;case v["a"].CIRCLE:l[0]=l[1]=e,r.index===x?(this.changingFeature_=!0,s.setCenter(e),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius(Object(u["c"])(s.getCenter(),e)),this.changingFeature_=!1);break;default:}c&&this.setGeometryCoordinates_(s,c)}this.createOrUpdateVertexFeature_(e)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var e=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0,this.modified_=!1;var n=this.vertexFeature_;if(n){var o=[],r=n.getGeometry(),a=r.getCoordinates(),s=Object(p["b"])([a]),c=this.rBush_.getInExtent(s),l={};c.sort(I);for(var d=0,f=c.length;d<f;++d){var h=c[d],y=h.segment,g=Object(i["c"])(h.feature),m=h.depth;if(m&&(g+="-"+m.join("-")),l[g]||(l[g]=new Array(2)),h.geometry.getType()===v["a"].CIRCLE&&h.index===O){var b=M(e,h);Object(u["d"])(b,a)&&!l[g][0]&&(this.dragSegments_.push([h,0]),l[g][0]=h)}else if(Object(u["d"])(y[0],a)&&!l[g][0])this.dragSegments_.push([h,0]),l[g][0]=h;else if(Object(u["d"])(y[1],a)&&!l[g][1]){if((h.geometry.getType()===v["a"].LINE_STRING||h.geometry.getType()===v["a"].MULTI_LINE_STRING)&&l[g][0]&&0===l[g][0].index)continue;this.dragSegments_.push([h,1]),l[g][1]=h}else this.insertVertexCondition_(t)&&Object(i["c"])(y)in this.vertexSegments_&&!l[g][0]&&!l[g][1]&&o.push([h,a])}o.length&&this.willModifyFeatures_(t);for(var _=o.length-1;_>=0;--_)this.insertVertex_.apply(this,o[_])}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var n=this.dragSegments_[e][0],i=n.geometry;if(i.getType()===v["a"].CIRCLE){var o=i.getCenter(),r=n.featureSegments[0],a=n.featureSegments[1];r.segment[0]=r.segment[1]=o,a.segment[0]=a.segment[1]=o,this.rBush_.update(Object(p["m"])(o),r),this.rBush_.update(i.getExtent(),a)}else this.rBush_.update(Object(p["b"])(n.segment),n)}return this.modified_&&(this.dispatchEvent(new P(E.MODIFYEND,this.features_,t)),this.modified_=!1),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map)},e.prototype.handlePointerAtPixel_=function(t,e){var n=e.getCoordinateFromPixel(t),o=function(t,e){return T(n,t)-T(n,e)},r=Object(p["c"])(Object(p["m"])(n),e.getView().getResolution()*this.pixelTolerance_),a=this.rBush_,s=a.getInExtent(r);if(s.length>0){s.sort(o);var c=s[0],l=c.segment,d=M(n,c),f=e.getPixelFromCoordinate(d),h=Object(u["c"])(t,f);if(h<=this.pixelTolerance_){var y={};if(c.geometry.getType()===v["a"].CIRCLE&&c.index===O)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(d);else{var g=e.getPixelFromCoordinate(l[0]),m=e.getPixelFromCoordinate(l[1]),b=Object(u["g"])(f,g),_=Object(u["g"])(f,m);h=Math.sqrt(Math.min(b,_)),this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(d=b>_?l[1]:l[0]),this.createOrUpdateVertexFeature_(d);for(var w=1,S=s.length;w<S;++w){var x=s[w].segment;if(!(Object(u["d"])(l[0],x[0])&&Object(u["d"])(l[1],x[1])||Object(u["d"])(l[0],x[1])&&Object(u["d"])(l[1],x[0])))break;y[Object(i["c"])(x)]=!0}}return y[Object(i["c"])(l)]=!0,void(this.vertexSegments_=y)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){var n,i=t.segment,o=t.feature,r=t.geometry,a=t.depth,s=t.index;while(e.length<r.getStride())e.push(0);switch(r.getType()){case v["a"].MULTI_LINE_STRING:n=r.getCoordinates(),n[a[0]].splice(s+1,0,e);break;case v["a"].POLYGON:n=r.getCoordinates(),n[a[0]].splice(s+1,0,e);break;case v["a"].MULTI_POLYGON:n=r.getCoordinates(),n[a[1]][a[0]].splice(s+1,0,e);break;case v["a"].LINE_STRING:n=r.getCoordinates(),n.splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(r,n);var c=this.rBush_;c.remove(t),this.updateSegmentIndices_(r,s,a,1);var u={segment:[i[0],e],feature:o,geometry:r,depth:a,index:s};c.insert(Object(p["b"])(u.segment),u),this.dragSegments_.push([u,1]);var l={segment:[e,i[1]],feature:o,geometry:r,depth:a,index:s+1};c.insert(Object(p["b"])(l.segment),l),this.dragSegments_.push([l,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=s["a"].POINTERDRAG){var t=this.lastPointerEvent_;return this.willModifyFeatures_(t),this.removeVertex_(),this.dispatchEvent(new P(E.MODIFYEND,this.features_,t)),this.modified_=!1,!0}return!1},e.prototype.removeVertex_=function(){var t,e,n,o,r,a,s,c,u,l,d,f=this.dragSegments_,h={},y=!1;for(r=f.length-1;r>=0;--r)n=f[r],l=n[0],d=Object(i["c"])(l.feature),l.depth&&(d+="-"+l.depth.join("-")),d in h||(h[d]={}),0===n[1]?(h[d].right=l,h[d].index=l.index):1==n[1]&&(h[d].left=l,h[d].index=l.index+1);for(d in h){switch(u=h[d].right,s=h[d].left,a=h[d].index,c=a-1,l=void 0!==s?s:u,c<0&&(c=0),o=l.geometry,e=o.getCoordinates(),t=e,y=!1,o.getType()){case v["a"].MULTI_LINE_STRING:e[l.depth[0]].length>2&&(e[l.depth[0]].splice(a,1),y=!0);break;case v["a"].LINE_STRING:e.length>2&&(e.splice(a,1),y=!0);break;case v["a"].MULTI_POLYGON:t=t[l.depth[1]];case v["a"].POLYGON:t=t[l.depth[0]],t.length>4&&(a==t.length-1&&(a=0),t.splice(a,1),y=!0,0===a&&(t.pop(),t.push(t[0]),c=t.length-1));break;default:}if(y){this.setGeometryCoordinates_(o,e);var g=[];if(void 0!==s&&(this.rBush_.remove(s),g.push(s.segment[0])),void 0!==u&&(this.rBush_.remove(u),g.push(u.segment[1])),void 0!==s&&void 0!==u){var m={depth:l.depth,feature:l.feature,geometry:l.geometry,index:c,segment:g};this.rBush_.insert(Object(p["b"])(m.segment),m)}this.updateSegmentIndices_(o,a,l.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),f.length=0}}return y},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,n,i){this.rBush_.forEachInExtent(t.getExtent(),function(o){o.geometry===t&&(void 0===n||void 0===o.depth||Object(c["b"])(o.depth,n))&&o.index>e&&(o.index+=i)})},e}(g["b"]);function I(t,e){return t.index-e.index}function T(t,e){var n=e.geometry;if(n.getType()===v["a"].CIRCLE){var i=n;if(e.index===O){var o=Object(u["g"])(i.getCenter(),t),r=Math.sqrt(o)-i.getRadius();return r*r}}return Object(u["h"])(t,e.segment)}function M(t,e){var n=e.geometry;return n.getType()===v["a"].CIRCLE&&e.index===O?n.getClosestPoint(t):Object(u["b"])(t,e.segment)}function R(){var t=Object(S["b"])();return function(e,n){return t[v["a"].POINT]}}e["a"]=C},c8c0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.parentContext=t,this.rootRequest=e}return t}();e.Plan=i},c95e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1c6"),o=n("6923"),r=n("f4cb"),a=n("0bd8"),s=n("8025"),c=new i.ContainerModule(function(t){t(o.TYPES.PopupVNodeDecorator).to(a.PopupPositionUpdater).inSingletonScope(),t(o.TYPES.IActionHandlerInitializer).to(s.PopupActionHandlerInitializer),t(o.TYPES.ICommand).toConstructor(r.HoverFeedbackCommand),t(o.TYPES.ICommand).toConstructor(r.SetPopupModelCommand),t(o.TYPES.MouseListener).to(r.HoverMouseListener),t(o.TYPES.PopupMouseListener).to(r.PopupHoverMouseListener),t(o.TYPES.KeyListener).to(r.HoverKeyListener),t(o.TYPES.HoverState).toConstantValue({mouseOverTimer:void 0,mouseOutTimer:void 0,popupOpen:!1,previousPopupElement:void 0})});e.default=c},ca5ac:function(t,e,n){},cb6e:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i["throw"](t))}catch(t){r(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var u=n("e1c6"),l=n("9175"),d=n("6923"),f=n("be02"),h=n("3623"),p=n("3f0a"),v=n("3a92"),y=n("42f7"),g=n("d084"),m=n("cf61"),b=n("f4cb"),_=n("26ad"),w=n("5d19"),S=n("2440"),x=n("4741"),O=n("df60"),E=function(t){function e(e,n,i,o,r,a,s){var c=t.call(this,e,n,i)||this;return c.logger=o,c.modelProvider=r,c.popupModelProvider=a,c.layoutEngine=s,c.currentRoot={type:"NONE",id:"ROOT"},c.diagramState={expansionState:new O.ExpansionState(c.currentRoot)},c.pendingUpdates=[],c}return i(e,t),Object.defineProperty(e.prototype,"model",{get:function(){return this.currentRoot},set:function(t){this.setModel(t)},enumerable:!0,configurable:!0}),e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),e.registerCommand(m.UpdateModelCommand),e.register(y.ComputedBoundsAction.KIND,this),e.register(b.RequestPopupModelAction.KIND,this),e.register(x.CollapseExpandAction.KIND,this),e.register(x.CollapseExpandAllAction.KIND,this)},e.prototype.setModel=function(t){return this.currentRoot=t,this.diagramState={expansionState:new O.ExpansionState(t)},this.submitModel(t,!1)},e.prototype.updateModel=function(t){return void 0===t?this.submitModel(this.currentRoot,!0):(this.currentRoot=t,this.submitModel(t,!0))},e.prototype.submitModel=function(t,e){if(this.viewerOptions.needsClientLayout){var n=new l.Deferred;return this.pendingUpdates.push(n),this.actionDispatcher.dispatch(new y.RequestBoundsAction(t)),n.promise}return this.doSubmitModel(t,e)},e.prototype.doSubmitModel=function(t,e,n){return s(this,void 0,void 0,function(){var i,o,r,a,s;return c(this,function(c){switch(c.label){case 0:if(void 0===this.layoutEngine)return[3,6];c.label=1;case 1:return c.trys.push([1,5,,6]),i=this.layoutEngine.layout(t,n),i instanceof Promise?[4,i]:[3,3];case 2:return t=c.sent(),[3,4];case 3:void 0!==i&&(t=i),c.label=4;case 4:return[3,6];case 5:return o=c.sent(),this.logger.error(this,o.toString(),o.stack),[3,6];case 6:return r=this.lastSubmittedModelType,this.lastSubmittedModelType=t.type,a=this.pendingUpdates,this.pendingUpdates=[],e&&t.type===r?(s=Array.isArray(e)?e:t,[4,this.actionDispatcher.dispatch(new m.UpdateModelAction(s))]):[3,8];case 7:return c.sent(),[3,10];case 8:return[4,this.actionDispatcher.dispatch(new p.SetModelAction(t))];case 9:c.sent(),c.label=10;case 10:return a.forEach(function(t){return t.resolve()}),[2]}})})},e.prototype.applyMatches=function(t){var e=this.currentRoot;return g.applyMatches(e,t),this.submitModel(e,t)},e.prototype.addElements=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n],r=o;void 0!==r.element&&void 0!==r.parentId?e.push({right:r.element,rightParentId:r.parentId}):void 0!==r.id&&e.push({right:r,rightParentId:this.currentRoot.id})}return this.applyMatches(e)},e.prototype.removeElements=function(t){var e=[],n=new v.SModelIndex;n.add(this.currentRoot);for(var i=0,o=t;i<o.length;i++){var r=o[i],a=r;if(void 0!==a.elementId&&void 0!==a.parentId){var s=n.getById(a.elementId);void 0!==s&&e.push({left:s,leftParentId:a.parentId})}else{s=n.getById(a);void 0!==s&&e.push({left:s,leftParentId:this.currentRoot.id})}}return this.applyMatches(e)},e.prototype.handle=function(t){switch(t.kind){case p.RequestModelAction.KIND:this.handleRequestModel(t);break;case y.ComputedBoundsAction.KIND:this.handleComputedBounds(t);break;case b.RequestPopupModelAction.KIND:this.handleRequestPopupModel(t);break;case w.ExportSvgAction.KIND:this.handleExportSvgAction(t);break;case x.CollapseExpandAction.KIND:this.handleCollapseExpandAction(t);break;case x.CollapseExpandAllAction.KIND:this.handleCollapseExpandAllAction(t);break}},e.prototype.handleRequestModel=function(t){this.modelProvider&&(this.currentRoot=this.modelProvider.getModel(this.diagramState,this.currentRoot)),this.submitModel(this.currentRoot,!1)},e.prototype.handleComputedBounds=function(t){var e=this.currentRoot,n=new v.SModelIndex;n.add(e);for(var i=0,o=t.bounds;i<o.length;i++){var r=o[i],a=n.getById(r.elementId);void 0!==a&&this.applyBounds(a,r.newBounds)}if(void 0!==t.alignments)for(var s=0,c=t.alignments;s<c.length;s++){var u=c[s];a=n.getById(u.elementId);void 0!==a&&this.applyAlignment(a,u.newAlignment)}this.doSubmitModel(e,!0,n)},e.prototype.applyBounds=function(t,e){var n=t;n.position={x:e.x,y:e.y},n.size={width:e.width,height:e.height}},e.prototype.applyAlignment=function(t,e){var n=t;n.alignment={x:e.x,y:e.y}},e.prototype.handleRequestPopupModel=function(t){if(void 0!==this.popupModelProvider){var e=h.findElement(this.currentRoot,t.elementId),n=this.popupModelProvider.getPopupModel(t,e);void 0!==n&&(n.canvasBounds=t.bounds,this.actionDispatcher.dispatch(new b.SetPopupModelAction(n)))}},e.prototype.handleExportSvgAction=function(t){var e=new Blob([t.svg],{type:"text/plain;charset=utf-8"});S.saveAs(e,"diagram.svg")},e.prototype.handleCollapseExpandAction=function(t){if(void 0!==this.modelProvider){this.diagramState.expansionState.apply(t);var e=this.modelProvider.getModel(this.diagramState,this.currentRoot);this.updateModel(e)}},e.prototype.handleCollapseExpandAllAction=function(t){if(void 0!==this.modelProvider){t.expand||this.diagramState.expansionState.collapseAll();var e=this.modelProvider.getModel(this.diagramState,this.currentRoot);this.updateModel(e)}},e=o([u.injectable(),a(0,u.inject(d.TYPES.IActionDispatcher)),a(1,u.inject(d.TYPES.ActionHandlerRegistry)),a(2,u.inject(d.TYPES.ViewerOptions)),a(3,u.inject(d.TYPES.ILogger)),a(4,u.inject(d.TYPES.StateAwareModelProvider)),a(4,u.optional()),a(5,u.inject(d.TYPES.IPopupModelProvider)),a(5,u.optional()),a(6,u.inject(d.TYPES.IModelLayoutEngine)),a(6,u.optional()),r("design:paramtypes",[Object,f.ActionHandlerRegistry,Object,Object,Object,Object,Object])],e),e}(_.ModelSource);e.LocalModelSource=E},cc26:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("dd02"),r=n("3a92"),a=n("4c18"),s=n("a0af"),c=n("e4f0");function u(t){return void 0!==t.routingPoints&&"function"===typeof t.route}function l(t){return u(t)&&t.hasFeature(e.editFeature)}e.editFeature=Symbol("editFeature"),e.isRoutable=u,e.canEditRouting=l;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.editMode=!1,e.hoverFeedback=!1,e.selected=!1,e}return i(e,t),e.prototype.hasFeature=function(t){return t===a.selectFeature||t===s.moveFeature||t===c.hoverFeedbackFeature},e}(r.SChildElement);e.SRoutingHandle=d;var f=.1;function h(t,e){if(0===e.children.length)return t;var n=0,i=function(){var i=t[n];if(void 0!==i.pointIndex){var r=e.children.find(function(t){return t instanceof d&&"junction"===t.kind&&t.pointIndex===i.pointIndex});if(void 0!==r&&r.editMode&&n>0&&n<t.length-1){var a=t[n-1],s=t[n+1],c={x:a.x-i.x,y:a.y-i.y},u={x:s.x-i.x,y:s.y-i.y},l=o.angleBetweenPoints(c,u);if(Math.abs(Math.PI-l)<f)return t.splice(n,1),"continue"}}n++};while(n<t.length)i();return t}e.filterEditModeHandles=h},cf13:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e="",n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();e.QueryableString=i},cf61:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("e1c6"),s=n("dd02"),c=n("c146"),u=n("9757"),l=n("e7fa"),d=n("3a92"),f=n("559d"),h=n("7d36"),p=n("a0af"),v=n("66f9"),y=n("3b62"),g=n("4c18"),m=n("d084"),b=n("0f4c"),_=function(){function t(t,e){void 0===e&&(e=!0),this.animate=e,this.kind=w.KIND,void 0!==t.id?this.newRoot=t:this.matches=t}return t}();e.UpdateModelAction=_;var w=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n}return i(e,t),e.prototype.execute=function(t){var e;return void 0!==this.action.newRoot?e=t.modelFactory.createRoot(this.action.newRoot):(e=t.modelFactory.createRoot(t.root),void 0!==this.action.matches&&this.applyMatches(e,this.action.matches,t)),this.oldRoot=t.root,this.newRoot=e,this.performUpdate(this.oldRoot,this.newRoot,t)},e.prototype.performUpdate=function(t,e,n){if(void 0!==this.action.animate&&!this.action.animate||t.id!==e.id)return t.type===e.type&&s.isValidDimension(t.canvasBounds)&&(e.canvasBounds=t.canvasBounds),e;var i=void 0;if(void 0===this.action.matches){var o=new m.ModelMatcher;i=o.match(t,e)}else i=this.convertToMatchResult(this.action.matches,t,e);var r=this.computeAnimation(e,i,n);return r instanceof c.Animation?r.start():r},e.prototype.applyMatches=function(t,e,n){for(var i=t.index,o=0,r=e;o<r.length;o++){var a=r[o];if(void 0!==a.left){var s=i.getById(a.left.id);s instanceof d.SChildElement&&s.parent.remove(s)}if(void 0!==a.right){s=n.modelFactory.createElement(a.right);var c=void 0;void 0!==a.rightParentId&&(c=i.getById(a.rightParentId)),c instanceof d.SParentElement?c.add(s):t.add(s)}}},e.prototype.convertToMatchResult=function(t,e,n){for(var i={},o=0,r=t;o<r.length;o++){var a=r[o],s={},c=void 0;void 0!==a.left&&(c=a.left.id,s.left=e.index.getById(c),s.leftParentId=a.leftParentId),void 0!==a.right&&(c=a.right.id,s.right=n.index.getById(c),s.rightParentId=a.rightParentId),void 0!==c&&(i[c]=s)}return i},e.prototype.computeAnimation=function(t,e,n){var i=this,o={fades:[]};m.forEachMatch(e,function(e,r){if(void 0!==r.left&&void 0!==r.right)i.updateElement(r.left,r.right,o);else if(void 0!==r.right){var a=r.right;h.isFadeable(a)&&(a.opacity=0,o.fades.push({element:a,type:"in"}))}else if(r.left instanceof d.SChildElement){var s=r.left;if(h.isFadeable(s)&&void 0!==r.leftParentId&&void 0===t.index.getById(s.id)){var c=t.index.getById(r.leftParentId);if(c instanceof d.SParentElement){var u=n.modelFactory.createElement(s);c.add(u),o.fades.push({element:u,type:"out"})}}}});var r=this.createAnimations(o,t,n);return r.length>=2?new c.CompoundAnimation(t,n,r):1===r.length?r[0]:t},e.prototype.updateElement=function(t,e,n){if(p.isLocateable(t)&&p.isLocateable(e)){var i=t.position,o=e.position;s.almostEquals(i.x,o.x)&&s.almostEquals(i.y,o.y)||(void 0===n.moves&&(n.moves=[]),n.moves.push({element:e,elementId:e.id,fromPosition:i,toPosition:o}),e.position=i)}v.isBoundsAware(t)&&v.isBoundsAware(e)&&(s.isValidDimension(e.bounds)?s.almostEquals(t.bounds.width,e.bounds.width)&&s.almostEquals(t.bounds.height,e.bounds.height)||(void 0===n.resizes&&(n.resizes=[]),n.resizes.push({element:e,fromDimension:{width:t.bounds.width,height:t.bounds.height},toDimension:{width:e.bounds.width,height:e.bounds.height}})):e.bounds={x:e.bounds.x,y:e.bounds.y,width:t.bounds.width,height:t.bounds.height}),g.isSelectable(t)&&g.isSelectable(e)&&(e.selected=t.selected),t instanceof d.SModelRoot&&e instanceof d.SModelRoot&&(e.canvasBounds=t.canvasBounds),t instanceof y.ViewportRootElement&&e instanceof y.ViewportRootElement&&(e.scroll=t.scroll,e.zoom=t.zoom)},e.prototype.createAnimations=function(t,e,n){var i=[];if(t.fades.length>0&&i.push(new l.FadeAnimation(e,t.fades,n,!0)),void 0!==t.moves&&t.moves.length>0){for(var o=new Map,r=0,a=t.moves;r<a.length;r++){var s=a[r];o.set(s.elementId,s)}i.push(new f.MoveAnimation(e,o,new Map,n,!1))}if(void 0!==t.resizes&&t.resizes.length>0){for(var c=new Map,u=0,d=t.resizes;u<d.length;u++){var h=d[u];c.set(h.element.id,h)}i.push(new b.ResizeAnimation(e,c,n,!1))}return i},e.prototype.undo=function(t){return this.performUpdate(this.newRoot,this.oldRoot,t)},e.prototype.redo=function(t){return this.performUpdate(this.oldRoot,this.newRoot,t)},e.KIND="updateModel",e=o([a.injectable(),r("design:paramtypes",[_])],e),e}(u.Command);e.UpdateModelCommand=w},cf81:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e34e"),o=n("451f"),r=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=o.namedConstraint(t),new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){var e=null!==t.target&&!t.target.isNamed()&&!t.target.isTagged();return e},new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=o.taggedConstraint(t)(e),new i.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return o.typeConstraint(t)(e.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return o.namedConstraint(t)(e.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(n){return o.taggedConstraint(t)(e)(n.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return o.traverseAncerstors(e,o.typeConstraint(t))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!o.traverseAncerstors(e,o.typeConstraint(t))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return o.traverseAncerstors(e,o.namedConstraint(t))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!o.traverseAncerstors(e,o.namedConstraint(t))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(n){return o.traverseAncerstors(n,o.taggedConstraint(t)(e))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(n){return!o.traverseAncerstors(n,o.taggedConstraint(t)(e))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return o.traverseAncerstors(e,t)},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!o.traverseAncerstors(e,t)},new i.BindingOnSyntax(this._binding)},t}();e.BindingWhenSyntax=r},cf98:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("3a92"),r=n("3b4c"),a=n("3623"),s=n("c444"),c=n("5eb6"),u=n("a0af"),l=n("cc26");function d(t){return"scroll"in t}e.isScrollable=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.mouseDown=function(t,e){var n=a.findParentByFeature(t,u.isMoveable);if(void 0===n&&!(t instanceof l.SRoutingHandle)){var i=a.findParentByFeature(t,c.isViewport);this.lastScrollPosition=i?{x:e.pageX,y:e.pageY}:void 0}return[]},e.prototype.mouseMove=function(t,e){if(0===e.buttons)this.mouseUp(t,e);else if(this.lastScrollPosition){var n=a.findParentByFeature(t,c.isViewport);if(n){var i=(e.pageX-this.lastScrollPosition.x)/n.zoom,o=(e.pageY-this.lastScrollPosition.y)/n.zoom,r={scroll:{x:n.scroll.x-i,y:n.scroll.y-o},zoom:n.zoom};return this.lastScrollPosition={x:e.pageX,y:e.pageY},[new s.ViewportAction(n.id,r,!1)]}}return[]},e.prototype.mouseEnter=function(t,e){return t instanceof o.SModelRoot&&0===e.buttons&&this.mouseUp(t,e),[]},e.prototype.mouseUp=function(t,e){return this.lastScrollPosition=void 0,[]},e}(r.MouseListener);e.ScrollMouseListener=f},d084:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("3a92");function o(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}e.forEachMatch=o;var r=function(){function t(){}return t.prototype.match=function(t,e){var n={};return this.matchLeft(t,n),this.matchRight(e,n),n},t.prototype.matchLeft=function(t,e,n){var o=e[t.id];if(void 0!==o?(o.left=t,o.leftParentId=n):(o={left:t,leftParentId:n},e[t.id]=o),i.isParent(t))for(var r=0,a=t.children;r<a.length;r++){var s=a[r];this.matchLeft(s,e,t.id)}},t.prototype.matchRight=function(t,e,n){var o=e[t.id];if(void 0!==o?(o.right=t,o.rightParentId=n):(o={right:t,rightParentId:n},e[t.id]=o),i.isParent(t))for(var r=0,a=t.children;r<a.length;r++){var s=a[r];this.matchRight(s,e,t.id)}},t}();function a(t,e){var n;t instanceof i.SModelRoot?n=t.index:(n=new i.SModelIndex,n.add(t));for(var o=0,r=e;o<r.length;o++){var a=r[o],s=!1;if(void 0!==a.left&&void 0!==a.leftParentId){var c=n.getById(a.leftParentId);if(void 0!==c&&void 0!==c.children){var u=c.children.indexOf(a.left);u>=0&&(void 0!==a.right&&a.leftParentId===a.rightParentId?(c.children.splice(u,1,a.right),s=!0):c.children.splice(u,1)),n.remove(a.left)}}if(!s&&void 0!==a.right&&void 0!==a.rightParentId){var l=n.getById(a.rightParentId);void 0!==l&&(void 0===l.children&&(l.children=[]),l.children.push(a.right))}}}e.ModelMatcher=r,e.applyMatches=a},d204:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("1979"),o=n("66d7");function r(t,e){return function(n,r,a){var s=new i.Metadata(t,e);"number"===typeof a?o.tagParameter(n,r,a,s):o.tagProperty(n,r,s)}}e.tagged=r},d4ec:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n("e1c6"),r=n("e45b"),a=function(){function t(){}var e;return e=t,t.prototype.decorate=function(t,n){return t.sel&&t.sel.startsWith("svg")&&r.setAttr(t,"tabindex",++e.tabIndex),t},t.prototype.postUpdate=function(){},t.tabIndex=1e3,t=e=i([o.injectable()],t),t}();e.FocusFixDecorator=a},d5b4:function(t,e,n){"use strict";var i=n("0332"),o=n.n(i);o.a},d6e2:function(t,e,n){"use strict";var i=n("bab1"),o=n.n(i);o.a},d741:function(t,e,n){},da84:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var r=n("dd02"),a=n("a2e1"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getChildrenSize=function(t,e,n){var i=-1,o=0,a=!0;return t.children.forEach(function(t){var s=n.getBoundsData(t).bounds;void 0!==s&&r.isValidDimension(s)&&(o+=s.height,a?a=!1:o+=e.vGap,i=Math.max(i,s.width))}),{width:i,height:o}},e.prototype.layoutChild=function(t,e,n,i,o,r,a,s){var c=this.getDx(i.hAlign,n,a);return e.bounds={x:o.paddingLeft+t.bounds.x-n.x+c,y:r.y+t.bounds.y-n.y,width:n.width,height:n.height},e.boundsChanged=!0,{x:r.x,y:r.y+n.height+o.vGap}},e.prototype.getDefaultLayoutOptions=function(){return{resizeContainer:!0,paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,paddingFactor:1,vGap:1,hAlign:"center"}},e.prototype.spread=function(t,e){return o({},t,e)},e.KIND="vbox",e}(a.AbstractLayout);e.VBoxLayouter=s},dd02:function(t,e,n){"use strict";function i(t,e){return{x:t.x+e.x,y:t.y+e.y}}function o(t,e){return{x:t.x-e.x,y:t.y-e.y}}function r(t){return t.width>=0&&t.height>=0}function a(t){return"x"in t&&"y"in t&&"width"in t&&"height"in t}function s(t,e){var n=Math.min(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.x+(t.width>=0?t.width:0),e.x+(e.width>=0?e.width:0)),r=Math.max(t.y+(t.height>=0?t.height:0),e.y+(e.height>=0?e.height:0));return{x:n,y:i,width:o-n,height:r-i}}function c(t,e){return{x:t.x+e.x,y:t.y+e.y,width:t.width,height:t.height}}function u(t){return{x:t.x+(t.width>=0?.5*t.width:0),y:t.y+(t.height>=0?.5*t.height:0)}}function l(t,e){var n={x:t.x>e.x?e.x:t.x,y:t.y>e.y?e.y:t.y,width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)};return u(n)}function d(t,e){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}function f(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function h(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function p(t,e){return Math.max(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}function v(t){return Math.atan2(t.y,t.x)}function y(t,e){var n=Math.sqrt((t.x*t.x+t.y*t.y)*(e.x*e.x+e.y*e.y));if(isNaN(n)||0===n)return NaN;var i=t.x*e.x+t.y*e.y;return Math.acos(i/n)}function g(t){return 180*t/Math.PI}function m(t){return t*Math.PI/180}function b(t,e){return Math.abs(t-e)<.001}Object.defineProperty(e,"__esModule",{value:!0}),e.ORIGIN_POINT=Object.freeze({x:0,y:0}),e.add=i,e.subtract=o,e.EMPTY_DIMENSION=Object.freeze({width:-1,height:-1}),e.isValidDimension=r,e.EMPTY_BOUNDS=Object.freeze({x:0,y:0,width:-1,height:-1}),e.isBounds=a,e.combine=s,e.translate=c,e.center=u,e.centerOfLine=l,e.includes=d,function(t){t[t["left"]=0]="left",t[t["right"]=1]="right",t[t["up"]=2]="up",t[t["down"]=3]="down"}(e.Direction||(e.Direction={})),e.euclideanDistance=f,e.manhattanDistance=h,e.maxDistance=p,e.angleOfPoint=v,e.angleBetweenPoints=y,e.toDegrees=g,e.toRadians=m,e.almostEquals=b},dd7b:function(t,e,n){"use strict";function i(t,e,n,i,o){var r=void 0===e?void 0:e.key;return{sel:t,data:e,children:n,text:i,elm:o,key:r}}n.r(e);var o=i,r=Array.isArray;function a(t){return"string"===typeof t||"number"===typeof t}function s(t){return document.createElement(t)}function c(t,e){return document.createElementNS(t,e)}function u(t){return document.createTextNode(t)}function l(t){return document.createComment(t)}function d(t,e,n){t.insertBefore(e,n)}function f(t,e){t.removeChild(e)}function h(t,e){t.appendChild(e)}function p(t){return t.parentNode}function v(t){return t.nextSibling}function y(t){return t.tagName}function g(t,e){t.textContent=e}function m(t){return t.textContent}function b(t){return 1===t.nodeType}function _(t){return 3===t.nodeType}function w(t){return 8===t.nodeType}var S={createElement:s,createElementNS:c,createTextNode:u,createComment:l,insertBefore:d,removeChild:f,appendChild:h,parentNode:p,nextSibling:v,tagName:y,setTextContent:g,getTextContent:m,isElement:b,isText:_,isComment:w},x=S;function O(t,e,n){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==e)for(var i=0;i<e.length;++i){var o=e[i].data;void 0!==o&&O(o,e[i].children,e[i].sel)}}function E(t,e,n){var o,s,c,u={};if(void 0!==n?(u=e,r(n)?o=n:a(n)?s=n:n&&n.sel&&(o=[n])):void 0!==e&&(r(e)?o=e:a(e)?s=e:e&&e.sel?o=[e]:u=e),void 0!==o)for(c=0;c<o.length;++c)a(o[c])&&(o[c]=i(void 0,void 0,void 0,o[c],void 0));return"s"!==t[0]||"v"!==t[1]||"g"!==t[2]||3!==t.length&&"."!==t[3]&&"#"!==t[3]||O(u,o,t),i(t,u,o,s,void 0)}function P(t,e){e.elm=t.elm,t.data.fn=e.data.fn,t.data.args=e.data.args,e.data=t.data,e.children=t.children,e.text=t.text,e.elm=t.elm}function C(t){var e=t.data,n=e.fn.apply(void 0,e.args);P(n,t)}function I(t,e){var n,i=t.data,o=e.data,r=i.args,a=o.args;if(i.fn===o.fn&&r.length===a.length){for(n=0;n<a.length;++n)if(r[n]!==a[n])return void P(o.fn.apply(void 0,a),e);P(t,e)}else P(o.fn.apply(void 0,a),e)}var T=function(t,e,n,i){return void 0===i&&(i=n,n=e,e=void 0),E(t,{key:e,hook:{init:C,prepatch:I},fn:n,args:i})};function M(t){return void 0===t}function R(t){return void 0!==t}n.d(e,"init",function(){return L}),n.d(e,"h",function(){return E}),n.d(e,"thunk",function(){return T});var A=o("",{},[],void 0,void 0);function N(t,e){return t.key===e.key&&t.sel===e.sel}function j(t){return void 0!==t.sel}function k(t,e,n){var i,o,r,a={};for(i=e;i<=n;++i)r=t[i],null!=r&&(o=r.key,void 0!==o&&(a[o]=i));return a}var D=["create","update","remove","destroy","pre","post"];function L(t,e){var n,i,s={},c=void 0!==e?e:x;for(n=0;n<D.length;++n)for(s[D[n]]=[],i=0;i<t.length;++i){var u=t[i][D[n]];void 0!==u&&s[D[n]].push(u)}function l(t){var e=t.id?"#"+t.id:"",n=t.className?"."+t.className.split(" ").join("."):"";return o(c.tagName(t).toLowerCase()+e+n,{},[],void 0,t)}function d(t,e){return function(){if(0===--e){var n=c.parentNode(t);c.removeChild(n,t)}}}function f(t,e){var n,i=t.data;void 0!==i&&R(n=i.hook)&&R(n=n.init)&&(n(t),i=t.data);var o=t.children,u=t.sel;if("!"===u)M(t.text)&&(t.text=""),t.elm=c.createComment(t.text);else if(void 0!==u){var l=u.indexOf("#"),d=u.indexOf(".",l),h=l>0?l:u.length,p=d>0?d:u.length,v=-1!==l||-1!==d?u.slice(0,Math.min(h,p)):u,y=t.elm=R(i)&&R(n=i.ns)?c.createElementNS(n,v):c.createElement(v);for(h<p&&y.setAttribute("id",u.slice(h+1,p)),d>0&&y.setAttribute("class",u.slice(p+1).replace(/\./g," ")),n=0;n<s.create.length;++n)s.create[n](A,t);if(r(o))for(n=0;n<o.length;++n){var g=o[n];null!=g&&c.appendChild(y,f(g,e))}else a(t.text)&&c.appendChild(y,c.createTextNode(t.text));n=t.data.hook,R(n)&&(n.create&&n.create(A,t),n.insert&&e.push(t))}else t.elm=c.createTextNode(t.text);return t.elm}function h(t,e,n,i,o,r){for(;i<=o;++i){var a=n[i];null!=a&&c.insertBefore(t,f(a,r),e)}}function p(t){var e,n,i=t.data;if(void 0!==i){for(R(e=i.hook)&&R(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(void 0!==t.children)for(n=0;n<t.children.length;++n)e=t.children[n],null!=e&&"string"!==typeof e&&p(e)}}function v(t,e,n,i){for(;n<=i;++n){var o=void 0,r=void 0,a=void 0,u=e[n];if(null!=u)if(R(u.sel)){for(p(u),r=s.remove.length+1,a=d(u.elm,r),o=0;o<s.remove.length;++o)s.remove[o](u,a);R(o=u.data)&&R(o=o.hook)&&R(o=o.remove)?o(u,a):a()}else c.removeChild(t,u.elm)}}function y(t,e,n,i){var o,r,a,s,u=0,l=0,d=e.length-1,p=e[0],y=e[d],m=n.length-1,b=n[0],_=n[m];while(u<=d&&l<=m)null==p?p=e[++u]:null==y?y=e[--d]:null==b?b=n[++l]:null==_?_=n[--m]:N(p,b)?(g(p,b,i),p=e[++u],b=n[++l]):N(y,_)?(g(y,_,i),y=e[--d],_=n[--m]):N(p,_)?(g(p,_,i),c.insertBefore(t,p.elm,c.nextSibling(y.elm)),p=e[++u],_=n[--m]):N(y,b)?(g(y,b,i),c.insertBefore(t,y.elm,p.elm),y=e[--d],b=n[++l]):(void 0===o&&(o=k(e,u,d)),r=o[b.key],M(r)?(c.insertBefore(t,f(b,i),p.elm),b=n[++l]):(a=e[r],a.sel!==b.sel?c.insertBefore(t,f(b,i),p.elm):(g(a,b,i),e[r]=void 0,c.insertBefore(t,a.elm,p.elm)),b=n[++l]));(u<=d||l<=m)&&(u>d?(s=null==n[m+1]?null:n[m+1].elm,h(t,s,n,l,m,i)):v(t,e,u,d))}function g(t,e,n){var i,o;R(i=e.data)&&R(o=i.hook)&&R(i=o.prepatch)&&i(t,e);var r=e.elm=t.elm,a=t.children,u=e.children;if(t!==e){if(void 0!==e.data){for(i=0;i<s.update.length;++i)s.update[i](t,e);i=e.data.hook,R(i)&&R(i=i.update)&&i(t,e)}M(e.text)?R(a)&&R(u)?a!==u&&y(r,a,u,n):R(u)?(R(t.text)&&c.setTextContent(r,""),h(r,null,u,0,u.length-1,n)):R(a)?v(r,a,0,a.length-1):R(t.text)&&c.setTextContent(r,""):t.text!==e.text&&(R(a)&&v(r,a,0,a.length-1),c.setTextContent(r,e.text)),R(o)&&R(i=o.postpatch)&&i(t,e)}}return function(t,e){var n,i,o,r=[];for(n=0;n<s.pre.length;++n)s.pre[n]();for(j(t)||(t=l(t)),N(t,e)?g(t,e,r):(i=t.elm,o=c.parentNode(i),f(e,r),null!==o&&(c.insertBefore(o,e.elm,c.nextSibling(i)),v(o,[t],0,0))),n=0;n<r.length;++n)r[n].data.hook.insert(r[n]);for(n=0;n<s.post.length;++n)s.post[n]();return e}}},ddfc:function(t,e,n){},df60:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.expandedElementIds=[],this.initialize(t)}return t.prototype.initialize=function(t){var e=this;t.expanded&&this.expandedElementIds.push(t.id),void 0!==t.children&&t.children.forEach(function(t){return e.initialize(t)})},t.prototype.apply=function(t){for(var e=0,n=t.collapseIds;e<n.length;e++){var i=n[e],o=this.expandedElementIds.indexOf(i);-1!==o&&this.expandedElementIds.splice(o,1)}for(var r=0,a=t.expandIds;r<a.length;r++){var s=a[r];this.expandedElementIds.push(s)}},t.prototype.collapseAll=function(){this.expandedElementIds=[]},t}();e.ExpansionState=i},dfc0:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var r=n("e1c6"),a=n("302f"),s=n("3a92"),c=n("3623"),u=n("47b7"),l=n("38e8"),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.createElement=function(t,e){var n;if(this.registry.hasKey(t.type)){var i=this.registry.get(t.type,void 0);if(!(i instanceof s.SChildElement))throw new Error("Element with type "+t.type+" was expected to be an SChildElement.");n=i}else n=this.isNodeSchema(t)?new u.SNode:this.isPortSchema(t)?new u.SPort:this.isEdgeSchema(t)?new u.SEdge:this.isLabelSchema(t)?new u.SLabel:this.isCompartmentSchema(t)?new u.SCompartment:this.isButtonSchema(t)?new l.SButton:new s.SChildElement;return this.initializeChild(n,t,e)},e.prototype.createRoot=function(t){var e;if(this.registry.hasKey(t.type)){var n=this.registry.get(t.type,void 0);if(!(n instanceof s.SModelRoot))throw new Error("Element with type "+t.type+" was expected to be an SModelRoot.");e=n}else e=this.isGraphSchema(t)?new u.SGraph:new s.SModelRoot;return this.initializeRoot(e,t)},e.prototype.isGraphSchema=function(t){return"graph"===c.getBasicType(t)},e.prototype.isNodeSchema=function(t){return"node"===c.getBasicType(t)},e.prototype.isPortSchema=function(t){return"port"===c.getBasicType(t)},e.prototype.isEdgeSchema=function(t){return"edge"===c.getBasicType(t)},e.prototype.isLabelSchema=function(t){return"label"===c.getBasicType(t)},e.prototype.isCompartmentSchema=function(t){return"comp"===c.getBasicType(t)},e.prototype.isButtonSchema=function(t){return"button"===c.getBasicType(t)},e=o([r.injectable()],e),e}(a.SModelFactory);e.SGraphFactory=d},e1c6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("c5f4");e.METADATA_KEY=i;var o=n("f457");e.Container=o.Container;var r=n("155f");e.BindingScopeEnum=r.BindingScopeEnum,e.BindingTypeEnum=r.BindingTypeEnum,e.TargetTypeEnum=r.TargetTypeEnum;var a=n("771c");e.AsyncContainerModule=a.AsyncContainerModule,e.ContainerModule=a.ContainerModule;var s=n("719e");e.injectable=s.injectable;var c=n("d204");e.tagged=c.tagged;var u=n("6730");e.named=u.named;var l=n("624f");e.inject=l.inject,e.LazyServiceIdentifer=l.LazyServiceIdentifer;var d=n("8d8c");e.optional=d.optional;var f=n("9f62");e.unmanaged=f.unmanaged;var h=n("8c88");e.multiInject=h.multiInject;var p=n("a1a5");e.targetName=p.targetName;var v=n("4a4f");e.postConstruct=v.postConstruct;var y=n("c278");e.MetadataReader=y.MetadataReader;var g=n("77d3");e.id=g.id;var m=n("66d7");e.decorate=m.decorate;var b=n("451f");e.traverseAncerstors=b.traverseAncerstors,e.taggedConstraint=b.taggedConstraint,e.namedConstraint=b.namedConstraint,e.typeConstraint=b.typeConstraint;var _=n("ba33");e.getServiceIdentifierAsString=_.getServiceIdentifierAsString;var w=n("efc5");e.multiBindToService=w.multiBindToService},e34e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("cf81"),o=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new i.BindingWhenSyntax(this._binding)},t}();e.BindingOnSyntax=o},e45b:function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function o(t,e,n){l(t)[e]=n}function r(t,e,n){f(t)[e]=n}function a(t,e){var n=f(t);for(var i in n)n.hasOwnProperty(i)&&r(e,i,!0)}function s(t,e){for(var n=t.classList,i=0;i<n.length;i++){var o=n.item(i);o&&r(e,o,!0)}}function c(t,e){d(t).style=i({},d(t).style||{},e)}function u(t,e,n,i){var o=h(t);if(o[e])throw new Error("EventListener for "+e+" already registered on VNode");o[e]=[n,i]}function l(t){var e=d(t);return e.attrs||(e.attrs={}),e.attrs}function d(t){return t.data||(t.data={}),t.data}function f(t){var e=d(t);return e.class||(e.class={}),e.class}function h(t){var e=d(t);return e.on||(e.on={}),e.on}Object.defineProperty(e,"__esModule",{value:!0}),e.setAttr=o,e.setClass=r,e.copyClassesFromVNode=a,e.copyClassesFromElement=s,e.mergeStyle=c,e.on=u,e.getAttrs=l},e4f0:function(t,e,n){"use strict";function i(t){return t.hasFeature(e.hoverFeedbackFeature)}function o(t){return t.hasFeature(e.popupFeature)}Object.defineProperty(e,"__esModule",{value:!0}),e.hoverFeedbackFeature=Symbol("hoverFeedbackFeature"),e.isHoverable=i,e.popupFeature=Symbol("popupFeature"),e.hasPopupFeature=o},e524:function(t,e,n){},e629:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.startFn=t,this.nextFn=e}return t.prototype[Symbol.iterator]=function(){var t,e=this,n=(t={state:this.startFn(),next:function(){return e.nextFn(n.state)}},t[Symbol.iterator]=function(){return n},t);return n},t.prototype.filter=function(t){return r(this,t)},t.prototype.map=function(t){return a(this,t)},t.prototype.forEach=function(t){var e,n=this[Symbol.iterator](),i=0;do{e=n.next(),void 0!==e.value&&t(e.value,i),i++}while(!e.done)},t}();function o(t){if(t.constructor===Array)return t;var e=[];return t.forEach(function(t){return e.push(t)}),e}function r(t,e){return new i(function(){return s(t)},function(t){var n;do{n=t.next()}while(!n.done&&!e(n.value));return n})}function a(t,n){return new i(function(){return s(t)},function(t){var i=t.next(),o=i.done,r=i.value;return o?e.DONE_RESULT:{done:!1,value:n(r)}})}function s(t){var n=t[Symbol.iterator];if("function"===typeof n)return n.call(t);var i=t.length;return"number"===typeof i&&i>=0?new c(t):{next:function(){return e.DONE_RESULT}}}e.FluentIterableImpl=i,e.toArray=o,e.DONE_RESULT=Object.freeze({done:!0,value:void 0}),e.filterIterable=r,e.mapIterable=a;var c=function(){function t(t){this.array=t,this.index=0}return t.prototype.next=function(){return this.index<this.array.length?{done:!1,value:this.array[this.index++]}:e.DONE_RESULT},t.prototype[Symbol.iterator]=function(){return this},t}()},e7ed:function(t,e,n){},e7fa:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var r=n("e1c6"),a=n("c146"),s=n("3a92"),c=n("e45b"),u=n("7d36"),l=function(t){function e(e,n,i,o){void 0===o&&(o=!1);var r=t.call(this,i)||this;return r.model=e,r.elementFades=n,r.removeAfterFadeOut=o,r}return i(e,t),e.prototype.tween=function(t,e){for(var n=0,i=this.elementFades;n<i.length;n++){var o=i[n],r=o.element;"in"===o.type?r.opacity=t:"out"===o.type&&(r.opacity=1-t,1===t&&this.removeAfterFadeOut&&r instanceof s.SChildElement&&r.parent.remove(r))}return this.model},e}(a.Animation);e.FadeAnimation=l;var d=function(){function t(){}return t.prototype.decorate=function(t,e){return u.isFadeable(e)&&c.setAttr(t,"opacity",e.opacity),t},t.prototype.postUpdate=function(){},t=o([r.injectable()],t),t}();e.ElementFader=d},e801:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("155f"),o=n("2cac"),r=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=i.BindingScopeEnum.Request,new o.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=i.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=i.BindingScopeEnum.Transient,new o.BindingWhenOnSyntax(this._binding)},t}();e.BindingInSyntax=r},eb61:function(t,e,n){},ed4f:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("dd02"),r=n("b669"),a=n("3a92"),s=n("9757"),c=n("1417"),u=n("66f9"),l=n("4c18"),d=n("c444"),f=n("5eb6"),h=function(){function t(t,e){void 0===e&&(e=!0),this.elementIds=t,this.animate=e,this.kind=y.KIND}return t}();e.CenterAction=h;var p=function(){function t(t,e,n,i){void 0===i&&(i=!0),this.elementIds=t,this.padding=e,this.maxZoom=n,this.animate=i,this.kind=g.KIND}return t}();e.FitToScreenAction=p;var v=function(t){function e(e){var n=t.call(this)||this;return n.animate=e,n}return i(e,t),e.prototype.initialize=function(t){var e=this;if(f.isViewport(t)){this.oldViewport={scroll:t.scroll,zoom:t.zoom};var n=[];if(this.getElementIds().forEach(function(i){var o=t.index.getById(i);o&&u.isBoundsAware(o)&&n.push(e.boundsInViewport(o,o.bounds,t))}),0===n.length&&t.index.all().forEach(function(i){l.isSelectable(i)&&i.selected&&u.isBoundsAware(i)&&n.push(e.boundsInViewport(i,i.bounds,t))}),0===n.length&&t.index.all().forEach(function(i){u.isBoundsAware(i)&&n.push(e.boundsInViewport(i,i.bounds,t))}),0!==n.length){var i=n.reduce(function(t,e){return o.combine(t,e)});o.isValidDimension(i)&&(this.newViewport=this.getNewViewport(i,t))}}},e.prototype.boundsInViewport=function(t,e,n){return t instanceof a.SChildElement&&t.parent!==n?this.boundsInViewport(t.parent,t.parent.localToParent(e),n):e},e.prototype.execute=function(t){return this.initialize(t.root),this.redo(t)},e.prototype.undo=function(t){var e=t.root;if(f.isViewport(e)&&void 0!==this.newViewport&&!this.equal(this.newViewport,this.oldViewport)){if(this.animate)return new d.ViewportAnimation(e,this.newViewport,this.oldViewport,t).start();e.scroll=this.oldViewport.scroll,e.zoom=this.oldViewport.zoom}return e},e.prototype.redo=function(t){var e=t.root;if(f.isViewport(e)&&void 0!==this.newViewport&&!this.equal(this.newViewport,this.oldViewport)){if(this.animate)return new d.ViewportAnimation(e,this.oldViewport,this.newViewport,t).start();e.scroll=this.newViewport.scroll,e.zoom=this.newViewport.zoom}return e},e.prototype.equal=function(t,e){return t.zoom===e.zoom&&t.scroll.x===e.scroll.x&&t.scroll.y===e.scroll.y},e}(s.Command);e.BoundsAwareViewportCommand=v;var y=function(t){function e(e){var n=t.call(this,e.animate)||this;return n.action=e,n}return i(e,t),e.prototype.getElementIds=function(){return this.action.elementIds},e.prototype.getNewViewport=function(t,e){if(o.isValidDimension(e.canvasBounds)){var n=o.center(t);return{scroll:{x:n.x-.5*e.canvasBounds.width,y:n.y-.5*e.canvasBounds.height},zoom:1}}},e.KIND="center",e}(v);e.CenterCommand=y;var g=function(t){function e(e){var n=t.call(this,e.animate)||this;return n.action=e,n}return i(e,t),e.prototype.getElementIds=function(){return this.action.elementIds},e.prototype.getNewViewport=function(t,e){if(o.isValidDimension(e.canvasBounds)){var n=o.center(t),i=void 0===this.action.padding?0:2*this.action.padding,r=Math.min(e.canvasBounds.width/(t.width+i),e.canvasBounds.height/t.height+i);return void 0!==this.action.maxZoom&&(r=Math.min(r,this.action.maxZoom)),{scroll:{x:n.x-.5*e.canvasBounds.width/r,y:n.y-.5*e.canvasBounds.height/r},zoom:r}}},e.KIND="fit",e}(v);e.FitToScreenCommand=g;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.keyDown=function(t,e){return r.matchesKeystroke(e,"KeyC","ctrlCmd","shift")?[new h([])]:r.matchesKeystroke(e,"KeyF","ctrlCmd","shift")?[new p([])]:[]},e}(c.KeyListener);e.CenterKeyboardListener=m},ed79:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a=n("e1c6"),s=n("6923"),c=n("0d7a"),u=n("e45b"),l=function(){function t(t,e){this.logger=t,this.domHelper=e}return t.prototype.decorate=function(t,e){var n=u.getAttrs(t);return void 0!==n.id&&this.logger.warn(t,"Overriding id of vnode ("+n.id+"). Make sure not to set it manually in view."),n.id=this.domHelper.createUniqueDOMElementId(e),t.key||(t.key=e.id),t},t.prototype.postUpdate=function(){},t=i([a.injectable(),r(0,a.inject(s.TYPES.ILogger)),r(1,a.inject(s.TYPES.DOMHelper)),o("design:paramtypes",[Object,c.DOMHelper])],t),t}();e.IdDecorator=l},ee16:function(t,e,n){t.exports=n("bafd")},efc5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=function(t){return function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.forEach(function(n){return t.bind(n).toService(e)})}}}},f0c5:function(t,e,n){},f457:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i["throw"](t))}catch(t){r(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var r=n("2e0b"),a=n("30e3"),s=n("155f"),c=n("c5f4"),u=n("c278"),l=n("87b3"),d=n("68f1"),f=n("8336"),h=n("77d3"),p=n("ba33"),v=n("1e94"),y=n("0300"),g=function(){function t(t){var e=t||{};if("object"!==typeof e)throw new Error(""+a.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===e.defaultScope)e.defaultScope=s.BindingScopeEnum.Transient;else if(e.defaultScope!==s.BindingScopeEnum.Singleton&&e.defaultScope!==s.BindingScopeEnum.Transient&&e.defaultScope!==s.BindingScopeEnum.Request)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!==typeof e.autoBindInjectable)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!==typeof e.skipBaseClassChecks)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=h.id(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new u.MetadataReader}return t.merge=function(e,n){var i=new t,o=l.getBindingDictionary(i),r=l.getBindingDictionary(e),a=l.getBindingDictionary(n);function s(t,e){t.traverse(function(t,n){n.forEach(function(t){e.add(t.serviceIdentifier,t.clone())})})}return s(r,o),s(a,o),i},t.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),i=0,o=t;i<o.length;i++){var r=o[i],a=n(r.id);r.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(this,void 0,void 0,function(){var e,n,i,r,a;return o(this,function(o){switch(o.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,i=t,o.label=1;case 1:return n<i.length?(r=i[n],a=e(r.id),[4,r.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(t){return function(e){return e.moduleId===t}};e.forEach(function(e){var n=i(e.id);t._bindingDictionary.removeByCondition(n)})},t.prototype.bind=function(t){var e=this.options.defaultScope||s.BindingScopeEnum.Transient,n=new r.Binding(t,e);return this._bindingDictionary.add(t,n),new f.BindingToSyntax(n)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error(a.CANNOT_UNBIND+" "+p.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},t.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},t.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,c.NAMED_TAG,e)},t.prototype.isBoundTagged=function(t,e,n){var i=!1;if(this._bindingDictionary.hasKey(t)){var o=this._bindingDictionary.get(t),r=l.createMockRequest(this,t,e,n);i=o.some(function(t){return t.constraint(r)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(t,e,n)),i},t.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(a.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(function(t,e){return e(t)},n)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,s.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,e,n){return this._get(!1,!1,s.TargetTypeEnum.Variable,t,e,n)},t.prototype.getNamed=function(t,e){return this.getTagged(t,c.NAMED_TAG,e)},t.prototype.getAll=function(t){return this._get(!0,!0,s.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,s.TargetTypeEnum.Variable,t,e,n)},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,c.NAMED_TAG,e)},t.prototype.resolve=function(t){var e=this.createChild();return e.bind(t).toSelf(),e.get(t)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(t,e){t._binding.moduleId=e},n=function(n){return function(i){var o=t.bind.bind(t),r=o(i);return e(r,n),r}},i=function(e){return function(e){var n=t.unbind.bind(t);n(e)}},o=function(e){return function(e){var n=t.isBound.bind(t);return n(e)}},r=function(n){return function(i){var o=t.rebind.bind(t),r=o(i);return e(r,n),r}};return function(t){return{bindFunction:n(t),isboundFunction:o(t),rebindFunction:r(t),unbindFunction:i(t)}}},t.prototype._get=function(t,e,n,i,o,r){var s=null,c={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:o,serviceIdentifier:i,targetType:n,value:r};if(this._middleware){if(s=this._middleware(c),void 0===s||null===s)throw new Error(a.INVALID_MIDDLEWARE_RETURN)}else s=this._planAndResolve()(c);return s},t.prototype._planAndResolve=function(){var t=this;return function(e){var n=l.plan(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);n=e.contextInterceptor(n);var i=d.resolve(n);return i}},t}();e.Container=g},f4cb:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("e1c6"),c=n("b669"),u=n("dd02"),l=n("6923"),d=n("3a92"),f=n("3b4c"),h=n("9757"),p=n("302f"),v=n("1417"),y=n("3623"),g=n("66f9"),m=n("e4f0"),b=function(){function t(t,e){this.mouseoverElement=t,this.mouseIsOver=e,this.kind=_.KIND}return t}();e.HoverFeedbackAction=b;var _=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n}return i(e,t),e.prototype.execute=function(t){var e=t.root,n=e.index.getById(this.action.mouseoverElement);return n&&m.isHoverable(n)&&(n.hoverFeedback=this.action.mouseIsOver),this.redo(t)},e.prototype.undo=function(t){return t.root},e.prototype.redo=function(t){return t.root},e.KIND="hoverFeedback",e}(h.Command);e.HoverFeedbackCommand=_;var w=function(){function t(e,n){this.elementId=e,this.bounds=n,this.kind=t.KIND}return t.KIND="requestPopupModel",t}();e.RequestPopupModelAction=w;var S=function(){function t(t){this.newRoot=t,this.kind=x.KIND}return t}();e.SetPopupModelAction=S;var x=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n}return i(e,t),e.prototype.execute=function(t){return this.oldRoot=t.root,this.newRoot=t.modelFactory.createRoot(this.action.newRoot),this.newRoot},e.prototype.undo=function(t){return this.oldRoot},e.prototype.redo=function(t){return this.newRoot},e.KIND="setPopupModel",e}(h.PopupCommand);e.SetPopupModelCommand=x;var O=function(t){function e(e,n){var i=t.call(this)||this;return i.options=e,i.state=n,i}return i(e,t),e.prototype.stopMouseOutTimer=function(){void 0!==this.state.mouseOutTimer&&(window.clearTimeout(this.state.mouseOutTimer),this.state.mouseOutTimer=void 0)},e.prototype.startMouseOutTimer=function(){var t=this;return this.stopMouseOutTimer(),new Promise(function(e){t.state.mouseOutTimer=window.setTimeout(function(){t.state.popupOpen=!1,t.state.previousPopupElement=void 0,e(new S({type:p.EMPTY_ROOT.type,id:p.EMPTY_ROOT.id}))},t.options.popupCloseDelay)})},e.prototype.stopMouseOverTimer=function(){void 0!==this.state.mouseOverTimer&&(window.clearTimeout(this.state.mouseOverTimer),this.state.mouseOverTimer=void 0)},e=o([a(0,s.inject(l.TYPES.ViewerOptions)),a(1,s.inject(l.TYPES.HoverState)),r("design:paramtypes",[Object,Object])],e),e}(f.MouseListener);e.AbstractHoverMouseListener=O;var E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.computePopupBounds=function(t,e){var n={x:-5,y:20},i=g.getAbsoluteBounds(t),o=t.root.canvasBounds,r=u.translate(i,o),a=r.x+r.width-e.x,s=r.y+r.height-e.y;s<=a&&this.allowSidePosition(t,"below",s)?n={x:-5,y:Math.round(s+5)}:a<=s&&this.allowSidePosition(t,"right",a)&&(n={x:Math.round(a+5),y:-5});var c=e.x+n.x,l=o.x+o.width;c>l&&(c=l);var d=e.y+n.y,f=o.y+o.height;return d>f&&(d=f),{x:c,y:d,width:-1,height:-1}},e.prototype.allowSidePosition=function(t,e,n){return!(t instanceof d.SModelRoot)&&n<=150},e.prototype.startMouseOverTimer=function(t,e){var n=this;return this.stopMouseOverTimer(),new Promise(function(i){n.state.mouseOverTimer=window.setTimeout(function(){var o=n.computePopupBounds(t,{x:e.pageX,y:e.pageY});i(new w(t.id,o)),n.state.popupOpen=!0,n.state.previousPopupElement=t},n.options.popupOpenDelay)})},e.prototype.mouseOver=function(t,e){var n=[],i=y.findParent(t,m.hasPopupFeature);this.state.popupOpen&&(void 0===i||void 0!==this.state.previousPopupElement&&this.state.previousPopupElement.id!==i.id)?n.push(this.startMouseOutTimer()):(this.stopMouseOverTimer(),this.stopMouseOutTimer()),void 0===i||void 0!==this.state.previousPopupElement&&this.state.previousPopupElement.id===i.id||n.push(this.startMouseOverTimer(i,e));var o=y.findParentByFeature(t,m.isHoverable);return void 0!==o&&n.push(new b(o.id,!0)),n},e.prototype.mouseOut=function(t,e){var n=[];if(this.state.popupOpen){var i=y.findParent(t,m.hasPopupFeature);void 0!==this.state.previousPopupElement&&void 0!==i&&this.state.previousPopupElement.id===i.id&&n.push(this.startMouseOutTimer())}this.stopMouseOverTimer();var o=y.findParentByFeature(t,m.isHoverable);return void 0!==o&&n.push(new b(o.id,!1)),n},e.prototype.mouseMove=function(t,e){var n=[];void 0!==this.state.previousPopupElement&&this.closeOnMouseMove(this.state.previousPopupElement,e)&&n.push(this.startMouseOutTimer());var i=y.findParent(t,m.hasPopupFeature);return void 0===i||void 0!==this.state.previousPopupElement&&this.state.previousPopupElement.id===i.id||n.push(this.startMouseOverTimer(i,e)),n},e.prototype.closeOnMouseMove=function(t,e){return t instanceof d.SModelRoot},e=o([s.injectable()],e),e}(O);e.HoverMouseListener=E;var P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.mouseOut=function(t,e){return[this.startMouseOutTimer()]},e.prototype.mouseOver=function(t,e){return this.stopMouseOutTimer(),this.stopMouseOverTimer(),[]},e=o([s.injectable()],e),e}(O);e.PopupHoverMouseListener=P;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.keyDown=function(t,e){return c.matchesKeystroke(e,"Escape")?[new S({type:p.EMPTY_ROOT.type,id:p.EMPTY_ROOT.id})]:[]},e}(v.KeyListener);e.HoverKeyListener=C},f923:function(t,e,n){"use strict";function i(t,e){var n,i,o=e.elm,r=t.data.class,a=e.data.class;if((r||a)&&r!==a){for(i in r=r||{},a=a||{},r)a[i]||o.classList.remove(i);for(i in a)n=a[i],n!==r[i]&&o.classList[n?"add":"remove"](i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.classModule={create:i,update:i},e.default=e.classModule},fba3:function(t,e,n){"use strict";function i(t){return o()?t.metaKey:t.ctrlKey}function o(){return-1!==window.navigator.userAgent.indexOf("Mac")}function r(t){if(t&&"undefined"!==typeof window&&window.location){var e="";return window.location.protocol&&(e+=window.location.protocol+"//"),window.location.host&&(e+=window.location.host),e.length>0&&!t.startsWith(e)}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.isCtrlOrCmd=i,e.isMac=o,e.isCrossSite=r},fd0f:function(t,e,n){},fe37:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n("3b4c"),r=n("3623"),a=n("c444"),s=n("5eb6");function c(t){return"zoom"in t}e.isZoomable=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.wheel=function(t,e){var n=r.findParentByFeature(t,s.isViewport);if(n){var i=Math.exp(.005*-e.deltaY),o=1/(i*n.zoom)-1/n.zoom,c={scroll:{x:-(o*e.offsetX-n.scroll.x),y:-(o*e.offsetY-n.scroll.y)},zoom:n.zoom*i};return[new a.ViewportAction(n.id,c,!1)]}return[]},e}(o.MouseListener);e.ZoomMouseListener=u},ff70:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="http://www.w3.org/1999/xlink",o="http://www.w3.org/XML/1998/namespace",r=58,a=120;function s(t,e){var n,s=e.elm,c=t.data.attrs,u=e.data.attrs;if((c||u)&&c!==u){for(n in c=c||{},u=u||{},u){var l=u[n],d=c[n];d!==l&&(!0===l?s.setAttribute(n,""):!1===l?s.removeAttribute(n):n.charCodeAt(0)!==a?s.setAttribute(n,l):n.charCodeAt(3)===r?s.setAttributeNS(o,n,l):n.charCodeAt(5)===r?s.setAttributeNS(i,n,l):s.setAttribute(n,l))}for(n in c)n in u||s.removeAttribute(n)}}e.attributesModule={create:s,update:s},e.default=e.attributesModule}}]);