(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["c48ca8da"],{"02f4":function(e,t,i){var n=i("4588"),s=i("be13");e.exports=function(e){return function(t,i){var o,a,r=String(s(t)),l=n(i),c=r.length;return l<0||l>=c?e?"":void 0:(o=r.charCodeAt(l),o<55296||o>56319||l+1===c||(a=r.charCodeAt(l+1))<56320||a>57343?e?r.charAt(l):o:e?r.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},"0312":function(e,t){var i=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=i},"0611":function(e,t,i){},"0632":function(e,t,i){"use strict";var n=i("d848"),s=i.n(n);s.a},"0ec6":function(e,t,i){},"15f6":function(e,t,i){},1848:function(e,t,i){"use strict";var n=i("98ab"),s=i.n(n);s.a},"1c4c":function(e,t,i){"use strict";var n=i("9b43"),s=i("5ca1"),o=i("4bf8"),a=i("1fa8"),r=i("33a4"),l=i("9def"),c=i("f1ae"),d=i("27ee");s(s.S+s.F*!i("5cc5")(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,s,u,h=o(e),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,b=d(h);if(m&&(g=n(g,p>2?arguments[2]:void 0,2)),void 0==b||f==Array&&r(b))for(t=l(h.length),i=new f(t);t>v;v++)c(i,v,m?g(h[v],v):h[v]);else for(u=b.call(h),i=new f;!(s=u.next()).done;v++)c(i,v,m?a(u,g,[s.value,v],!0):s.value);return i.length=v,i}})},2573:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"klab-spinner",attrs:{width:e.size,height:e.size,viewBox:"-120 -120 250 250",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("image",{attrs:{x:"-100",y:"-100",width:"200",height:"200","xlink:href":i("4df2")}}),n("circle",{class:{moving:e.moving},style:{fill:e.ballColor},attrs:{id:"spinner-circle",cx:"0",cy:"-90",r:e.ball}})])},s=[];n._withStripped=!0;var o=i("3156"),a=i.n(o),r=(i("c5f6"),i("fb82")),l=i("2f62"),c={props:{size:{type:Number,default:200},ball:{type:Number,default:12},color:{type:String,default:r["a"].getBrand("primary")},ballColor:{type:String,default:"primary"},stroke:{type:String,default:"none"},animated:{type:Boolean,default:!0},storeControlled:{type:Boolean,default:!1},wrapperId:{type:String,required:!0}},computed:a()({},Object(l["c"])("view",["spinner"]),{moving:function(){return this.storeControlled?this.spinner.animated:this.animated},realColor:function(){return this.storeControlled?this.spinner.color:this.color},errorMessage:function(){return this.spinner.errorMessage},isVisible:function(){var e;return null!==this.wrapperId&&(e=document.getElementById(this.wrapperId),!(!e||null==e||!e.style)&&!("none"===e.style.display))}}),watch:{errorMessage:function(e){var t;this.isVisible&&null!==e&&(t=e instanceof Error?e.message:e,console.error(t),this.$q.notify({message:t,type:"negative",timeout:1e3}))}}},d=c,u=(i("f7aa"),i("2877")),h=Object(u["a"])(d,n,s,!1,null,"304e23e7",null);h.options.__file="KlabSpinner.vue";t["a"]=h.exports},4022:function(e,t,i){},4332:function(e,t,i){"use strict";var n=i("4022"),s=i.n(n);s.a},4917:function(e,t,i){i("214f")("match",1,function(e,t,i){return[function(i){"use strict";var n=e(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,n):new RegExp(i)[t](String(n))},i]})},"4df2":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzAwIgogICBoZWlnaHQ9IjMxNS45MjI1OCIKICAgdmlld0JveD0iMCAwIDc5LjM3NDk5OCA4My41ODc4NTEiCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzgiCiAgIHNvZGlwb2RpOmRvY25hbWU9ImtsYWItc3Bpbm5lci5zdmciCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTEgcjEzNzI1Ij4KICA8ZGVmcwogICAgIGlkPSJkZWZzMiIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMC45NjAxOTk4NCIKICAgICBpbmtzY2FwZTpjeD0iLTIzOS45OTE1MyIKICAgICBpbmtzY2FwZTpjeT0iNy4xMTA3MjY4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJtbSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDI4IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgdW5pdHM9InB4IgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTUiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9ImtsYWItZWxlcGhhbnQtbGF5ZXIiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00My40NjU1NzQsLTE1NS4zNjMwOSkiPgogICAgPHBhdGgKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBpZD0ia2xhYi1lbGVwaGFudCIKICAgICAgIGQ9Im0gODQuNzYxOTA2LDIzOC44OTY5MSBjIDAsLTAuMDQ3MiAwLjE3NzcxOCwtMC4zODEwNyAwLjM5NDkzLC0wLjc0MTk3IDAuNzcxODU3LC0xLjI4MjQ4IDEuMzAwNTAxLC0yLjgzNjcxIDEuNDk2NDA2LC00LjM5OTUgMC4xMTg1ODQsLTAuOTQ1OTcgMC4wNjE4NiwtMi42NjMzNiAtMC4xMTgxNTIsLTMuNTc3MjkgLTAuNDUyNjU1LC0yLjI5ODExIC0xLjcwMzk3NiwtNC41NTk0NyAtMy40MDMwMzYsLTYuMTQ5ODkgLTAuNzI0MzA1LC0wLjY3Nzk5IC0xLjk4NDEwNiwtMS41NzU0OCAtMi4yMTE0ODYsLTEuNTc1NDggLTAuMDkwNjQsMCAtMC4xOTI1NDYsMC4xNTY0OCAtMC4zMjAyNTcsMC40OTE3NiAtMC4xMDMwMjQsMC4yNzA0NyAtMC4zOTQ0NTQsMC45MDEzMSAtMC42NDc2MTksMS40MDE4NiAtMi4wNjM4MDQsNC4wODA0NyAtNS44NDI3ODUsNi45MzAyOSAtMTAuNDk0NTcsNy45MTQyIC0wLjk0MTEzNiwwLjE5OTA3IC0xLjE2NzQ4NSwwLjIxNjY3IC0yLjgzMjU3NywwLjIyMDI5IC0xLjg5ODM1LDAuMDA0IC0yLjMyNDY5OSwtMC4wNDEzIC0zLjc3Njc2NywtMC40MDI3OSAtMC43MTQxODksLTAuMTc3NzcgLTIuMDY1MDQ1LC0wLjYzOTA4IC0yLjQyNjIzMiwtMC44Mjg1NCAtMC4yNDkwNjgsLTAuMTMwNjQgLTAuMDg3MDMsLTAuMTU0OTIgMC40MjAxNzQsLTAuMDYyOSAwLjI2ODgzNCwwLjA0ODcgMC45MzAzMTYsMC4xMTcyNiAxLjQ2OTk2LDAuMTUyMjYgNC4xMjA4NzEsMC4yNjcyNyA4LjEyNDIyNywtMS4yNDEwNiAxMS4wNDQyNzIsLTQuMTYxMTEgMC45ODM5NzcsLTAuOTgzOTcgMi4xNDk3NzcsLTIuNTE4NzMgMi4wMTUzNDUsLTIuNjUzMTYgLTAuMDI1MjMsLTAuMDI1MiAtMC40ODEwNjUsMC4xMzEzNiAtMS4wMTI5NTgsMC4zNDc5OSAtMC41MzE4OTYsMC4yMTY2MyAtMS4yNTAzNCwwLjQ4NTE5IC0xLjU5NjU0MywwLjU5Njc5IC01LjY3NTgzLDEuODI5NzggLTExLjk4MjI0OCwxLjA0OTg0IC0xNy4wMTIyNSwtMi4xMDM5NiAtMS44OTYzMDgsLTEuMTg4OTggLTMuNzYwNTU4LC0yLjg1NDA1IC01LjA1ODYwOCwtNC41MTgxMyAtNi4wMDAyMiwtNy42OTIxOSAtOC40MDU2MDcsLTE3LjQ0OTMzIC02LjY4MTU0OSwtMjcuMTAyODUgMC44Nzc1ODQsLTQuOTEzODYgMy40MjIyMTcsLTEwLjkxNDQ3IDYuNDYzNzEzLC0xNS4yNDIzNiAzLjI2NTcyNywtNC42NDY5NiA3LjY5OTc0MiwtOC43NzA3IDEyLjIyMzYxOSwtMTEuMzY4MjUgMS44MTczMjYsLTEuMDQzNDkgNC4zOTk0NzMsLTIuMjgwNDIgNC42NTEwMjQsLTIuMjI3OTggMC4wNzgzMiwwLjAxNjMgLTAuMDMyNTUsMC4yMzEyNiAtMC4zNjQzMTYsMC43MDYyNyAtMC4yNjIyOTksMC4zNzU1NSAtMC40NzY5MDYsMC43MjAxIC0wLjQ3NjkwNiwwLjc2NTY2IDAsMC4wODY0IDAuMDM2NjksMC4wOTY5IDAuODU2ODA1LDAuMjQzOTcgMS4wNDM3NDIsMC4xODcxOCAxLjA0ODY5NCwwLjE3MTQ3IC0wLjI2OTgzOSwwLjg1NjEzIC0zLjYyODU2NCwxLjg4NDE4IC02LjgzMjU0NSw0LjMwNjE0IC05LjQxNzE2Miw3LjExODY3IC01LjIxNjcwOCw1LjY3NjcgLTguMjg2NzAxLDEyLjYzOTUzIC04Ljk1NTI5NywyMC4zMTA4NyAtMC4xODc5MzUsMi4xNTYzMSAtMC4wNTg2MSw1LjgwMDQ2IDAuMjc5MjIzLDcuODY4MjYgMC42NjIzNTcsNC4wNTQxMSAwLjk5MjU0LDUuMjU4NDIgMi4wMDYyMjcsNy4zMTc0OSAxLjY5MzIxLDMuNDM5MzcgNC40MzEyNyw2LjE5OTU3IDcuODI5MDI0LDcuODkyMzQgMS42OTg3MTIsMC44NDYzIDMuMTMyMzE1LDEuMzA3NTMgNC4zNDk4MTQsMS4zOTk0NCAxLjgxMzc1LDAuMTM2OTIgMy45NTU5OTIsLTAuNTY2ODEgNS4yNTc5NzYsLTEuNzI3MjUgMS4xMDE5NzksLTAuOTgyMTggMi4zNTU5NDEsLTMuNDg2MSAyLjk4MTI3NCwtNS45NTMwMiAwLjQ2NTAxMSwtMS44MzQ0NiAwLjY0MzY1OSwtMy41NTcwMiAwLjc0MjQyNSwtNy4xNTg2MyAwLjA3NjQ2LC0yLjc4ODM2IDAuMTUwNTE0LC0zLjQwNDIyIDAuNTk2MjIxLC00Ljk1ODU1IDEuNDMzNjAxLC00Ljk5OTQ0IDQuMjMyNjI4LC05LjQ5NjM5IDcuNzQ4ODI2LC0xMi40NDkzNSAyLjE4NzkzNiwtMS44Mzc0NyA1LjE3MDMwMywtMy40MDcwNiA3Ljc0NTkyOSwtNC4wNzY2MyAyLjk5Mjc1NiwtMC43NzggNS44Mzc0MDUsLTAuODk4NTcgOC45MzgyODUsLTAuMzc4ODYgbCAwLjk4NzAxOSwwLjE2NTQzIDAuNDAzNjgxLC0wLjI0ODM5IGMgMC43MTYwNjQsLTAuNDQwNiAxLjMwMDkyMiwtMC42MjA4MSAzLjMzNDU5NiwtMS4wMjc0NyA1LjM4OTMyLC0xLjA3NzY2IDguMjU1MTIsLTIuMTQyNzMgMTEuMzgzNzksLTQuMjMwNzIgMC41MzQ5NywtMC4zNTcwMyAwLjk5OTMzLC0wLjY0OTE0IDEuMDMxOTMsLTAuNjQ5MTQgMC4wNywwIDEuMjA3NDgsMS41NDc5OCAxLjg3OTEsMi41NTcxOSA1LjgxNDUzLDguNzM3MjEgNy45MjIzOSwxOS41MTcwNSA1LjgzODc0LDI5Ljg2MDA4IC0yLjIzMjI1LDExLjA4MDY0IC05LjAwMzgsMjAuNTg3NDkgLTE4LjgwMzc3LDI2LjM5OTM2IC00Ljc1ODY4LDIuODIyMTIgLTEwLjU4MTc2LDQuNzMwMTEgLTE2LjA1MTI3MSw1LjI1OTMzIC0yLjExMDc5NCwwLjIwNDI0IC0yLjQzOTE2MywwLjIyMTU1IC0yLjQzOTE2MywwLjEyODU3IHogTSA4MC44NzMwNDUsMjAyLjgwODIgYyAwLjUwMDc3NSwtMC4yNDUyMSAxLjA3OTcwNywtMC44Mjk2NyAxLjI5MjQxNiwtMS4zMDQ3OCAwLjE4NDA4MiwtMC40MTExNiAwLjEyNDI4MywtMC40OTcwOSAtMC41NTk0NTksLTAuODAzOTMgLTEuMjQyNDQ4LC0wLjU1NzU4IC0yLjk1MzE1LC0wLjIwNjYxIC0zLjk1MzI5MSwwLjgxMTA2IC0wLjI5NDAzLDAuMjk5MTkgLTAuMzY5OTcsMC40MjU4OCAtMC4zMzAyNjMsMC41NTA5OSAwLjA2MTAzLDAuMTkyMjggMC42ODcyMjMsMC42Njg1MSAxLjExNjY3OCwwLjg0OTI1IDAuNzA2NzY4LDAuMjk3NDUgMS43MDI2NjIsMC4yNTU0NyAyLjQzMzkxOSwtMC4xMDI1OSB6IgogICAgICAgc3R5bGU9ImZpbGw6IzAxMDEwMjtzdHJva2Utd2lkdGg6MC4wNzg2ODI2OSI+CiAgICAgIDx0aXRsZQogICAgICAgICBpZD0idGl0bGUzMzk1Ij5rLkxBQiBFbGVwaGFudDwvdGl0bGU+CiAgICA8L3BhdGg+CiAgPC9nPgo8L3N2Zz4K"},"50fb":function(e,t,i){var n,s,o;/*! scrollbarWidth.js v0.1.3 | felixexter | MIT | https://github.com/felixexter/scrollbarWidth */ /*! scrollbarWidth.js v0.1.3 | felixexter | MIT | https://github.com/felixexter/scrollbarWidth */
(function(i,a){s=[],n=a,o="function"===typeof n?n.apply(t,s):n,void 0===o||(e.exports=o)})(0,function(){"use strict";function e(){if("undefined"===typeof document)return 0;var e,t=document.body,i=document.createElement("div"),n=i.style;return n.position="absolute",n.top=n.left="-9999px",n.width=n.height="100px",n.overflow="scroll",t.appendChild(i),e=i.offsetWidth-i.clientWidth,t.removeChild(i),e}return e})},"5b35":function(e,t,i){"use strict";var n=i("b878"),s=i.n(n);s.a},"5bc0":function(e,t,i){},"5df3":function(e,t,i){"use strict";var n=i("02f4")(!0);i("01f9")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},"6dd8":function(e,t,i){"use strict";(function(e){var i=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var i=-1;return e.some(function(e,n){return e[0]===t&&(i=n,!0)}),i}return function(){function t(){this.__entries__=[]}var i={size:{configurable:!0}};return i.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var i=e(this.__entries__,t),n=this.__entries__[i];return n&&n[1]},t.prototype.set=function(t,i){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,n=e(i,t);~n&&i.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){var i=this;void 0===t&&(t=null);for(var n=0,s=i.__entries__;n<s.length;n+=1){var o=s[n];e.call(t,o[1],o[0])}},Object.defineProperties(t.prototype,i),t}()}(),n="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,s=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),a=2,r=function(e,t){var i=!1,n=!1,s=0;function r(){i&&(i=!1,e()),n&&c()}function l(){o(r)}function c(){var e=Date.now();if(i){if(e-s<a)return;n=!0}else i=!0,n=!1,setTimeout(l,t);s=e}return c},l=20,c=["top","right","bottom","left","width","height","size","weight"],d="undefined"!==typeof MutationObserver,u=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=r(this.refresh.bind(this),l)};u.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},u.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},u.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},u.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},u.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),d?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},u.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},u.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t="");var i=c.some(function(e){return!!~t.indexOf(e)});i&&this.refresh()},u.getInstance=function(){return this.instance_||(this.instance_=new u),this.instance_},u.instance_=null;var h=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i+=1){var s=n[i];Object.defineProperty(e,s,{value:t[s],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||s},p=E(0,0,0,0);function g(e){return parseFloat(e)||0}function m(e){var t=[],i=arguments.length-1;while(i-- >0)t[i]=arguments[i+1];return t.reduce(function(t,i){var n=e["border-"+i+"-width"];return t+g(n)},0)}function v(e){for(var t=["top","right","bottom","left"],i={},n=0,s=t;n<s.length;n+=1){var o=s[n],a=e["padding-"+o];i[o]=g(a)}return i}function b(e){var t=e.getBBox();return E(0,0,t.width,t.height)}function y(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return p;var n=f(e).getComputedStyle(e),s=v(n),o=s.left+s.right,a=s.top+s.bottom,r=g(n.width),l=g(n.height);if("border-box"===n.boxSizing&&(Math.round(r+o)!==t&&(r-=m(n,"left","right")+o),Math.round(l+a)!==i&&(l-=m(n,"top","bottom")+a)),!C(e)){var c=Math.round(r+o)-t,d=Math.round(l+a)-i;1!==Math.abs(c)&&(r-=c),1!==Math.abs(d)&&(l-=d)}return E(s.left,s.top,r,l)}var w=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox}}();function C(e){return e===f(e).document.documentElement}function M(e){return n?w(e)?b(e):y(e):p}function I(e){var t=e.x,i=e.y,n=e.width,s=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return h(a,{x:t,y:i,width:n,height:s,top:i,right:t+n,bottom:s+i,left:t}),a}function E(e,t,i,n){return{x:e,y:t,width:i,height:n}}var T=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=E(0,0,0,0),this.target=e};T.prototype.isActive=function(){var e=M(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},T.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var S=function(e,t){var i=I(t);h(this,{target:e,contentRect:i})},O=function(e,t,n){if(this.activeObservations_=[],this.observations_=new i,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n};O.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new T(e)),this.controller_.addObserver(this),this.controller_.refresh())}},O.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},O.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},O.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},O.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new S(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},O.prototype.clearActive=function(){this.activeObservations_.splice(0)},O.prototype.hasActive=function(){return this.activeObservations_.length>0};var x="undefined"!==typeof WeakMap?new WeakMap:new i,N=function(e){if(!(this instanceof N))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=u.getInstance(),i=new O(e,t,this);x.set(this,i)};["observe","unobserve","disconnect"].forEach(function(e){N.prototype[e]=function(){return(t=x.get(this))[e].apply(t,arguments);var t}});var k=function(){return"undefined"!==typeof s.ResizeObserver?s.ResizeObserver:N}();t["a"]=k}).call(this,i("c8ba"))},"7bae":function(e,t,i){},8195:function(e,t,i){},"84a2":function(e,t,i){(function(t){var i="Expected a function",n=NaN,s="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,h=d||u||Function("return this")(),f=Object.prototype,p=f.toString,g=Math.max,m=Math.min,v=function(){return h.Date.now()};function b(e,t,n){var s,o,a,r,l,c,d=0,u=!1,h=!1,f=!0;if("function"!=typeof e)throw new TypeError(i);function p(t){var i=s,n=o;return s=o=void 0,d=t,r=e.apply(n,i),r}function b(e){return d=e,l=setTimeout(M,t),u?p(e):r}function y(e){var i=e-c,n=e-d,s=t-i;return h?m(s,a-n):s}function C(e){var i=e-c,n=e-d;return void 0===c||i>=t||i<0||h&&n>=a}function M(){var e=v();if(C(e))return E(e);l=setTimeout(M,y(e))}function E(e){return l=void 0,f&&s?p(e):(s=o=void 0,r)}function T(){void 0!==l&&clearTimeout(l),d=0,s=c=o=l=void 0}function S(){return void 0===l?r:E(v())}function O(){var e=v(),i=C(e);if(s=arguments,o=this,c=e,i){if(void 0===l)return b(c);if(h)return l=setTimeout(M,t),p(c)}return void 0===l&&(l=setTimeout(M,t)),r}return t=I(t)||0,w(n)&&(u=!!n.leading,h="maxWait"in n,a=h?g(I(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),O.cancel=T,O.flush=S,O}function y(e,t,n){var s=!0,o=!0;if("function"!=typeof e)throw new TypeError(i);return w(n)&&(s="leading"in n?!!n.leading:s,o="trailing"in n?!!n.trailing:o),b(e,t,{leading:s,maxWait:t,trailing:o})}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function C(e){return!!e&&"object"==typeof e}function M(e){return"symbol"==typeof e||C(e)&&p.call(e)==s}function I(e){if("number"==typeof e)return e;if(M(e))return n;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var i=r.test(e);return i||l.test(e)?c(e.slice(2),i?2:8):a.test(e)?n:+e}e.exports=y}).call(this,i("c8ba"))},"84fd":function(e,t,i){},"8b1b":function(e,t,i){},"8bdc":function(e,t,i){"use strict";var n=i("e0e4"),s=i.n(n);s.a},"8e08":function(e,t,i){},9261:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{staticClass:"column"},[i("div",{staticClass:"col row full-height",attrs:{id:"viewer-container"}},[i("keep-alive",[i(e.mainViewer,{tag:"component"})],1)],1),i("div",{staticClass:"col-1 row"},[e.logVisible?i("klab-log"):e._e()],1),i("klab-main-control"),i("q-modal",{attrs:{id:"modal-connection-status","no-esc-dismiss":"","no-backdrop-dismiss":"","content-css":{"background-color":"rgba("+e.hexToRgbValues(e.modalColor)+", 0.5)"},"content-classes":["modal-borders","no-padding","no-margin"]},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[i("div",{staticClass:"bg-opaque-white modal-borders no-padding no-margin"},[i("div",{staticClass:"q-pa-xs text-bold modal-klab-content",style:{color:e.modalColor}},[i("klab-spinner",{attrs:{color:e.modalColor,size:40,ball:18,id:"modal-spinner",animated:e.modalAnimated,wrapperId:"modal-connection-status"}}),i("span",[e._v(e._s(e.modalText))])],1),e.connectionState===e.$constants.CONNECTION_DOWN?i("q-btn",{attrs:{color:"secondary"},on:{click:e.reconnect}},[e._v(e._s(e.$t("label.reconnect"))+"\n        ")]):e._e()],1)])],1)},s=[];n._withStripped=!0;var o=i("9523"),a=i.n(o),r=i("3156"),l=i.n(r),c=i("2f62"),d=i("7cca"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"main-control-container",staticClass:"print-hide small",attrs:{id:"mc-container"}},[i("transition",{attrs:{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isHidden,expression:"isHidden"}],staticClass:"spinner-div",style:{left:e.defaultLeft+"px",top:e.defaultTop+"px",border:"2px solid "+(e.hasTasks?e.spinnerColor.color:"white")},attrs:{id:"spinner-lonely-div"}},[i("klab-spinner",{attrs:{id:"spinner-lonely","store-controlled":!0,size:35,ball:22,wrapperId:"spinner-lonely-div"},nativeOn:{dblclick:function(t){return e.show(t)}}})],1)]),i("transition",{attrs:{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"}},[i("q-card",{directives:[{name:"draggable",rawName:"v-draggable",value:e.draggableConfMain,expression:"draggableConfMain"},{name:"show",rawName:"v-show",value:!e.isHidden,expression:"!isHidden"}],staticClass:"no-box-shadow absolute lot-of-flow",class:[e.hasContext?"":"bg-transparent",e.hasContext?"with-context":"without-context"],style:{top:e.defaultTop+"px",left:e.centeredLeft+"px"},attrs:{id:"mc-q-card",flat:!0},nativeOn:{mousedown:function(t){return e.preventDrag(t)}}},[i("q-card-title",{ref:"mc-draggable",staticClass:"q-pa-xs",style:{"background-color":"rgba("+e.spinnerColor.rgb.r+","+e.spinnerColor.rgb.g+","+e.spinnerColor.rgb.b+","+(e.hasContext?"1.0":e.searchIsFocused?".6":".2")+")"},attrs:{id:"mc-q-card-title"}},[i("div",{staticClass:"spinner-div",attrs:{id:"spinner-main"}},[i("klab-spinner",{attrs:{"store-controlled":!0,color:e.spinnerColor.hex,size:35,ball:22,wrapperId:"spinner-main"},nativeOn:{dblclick:function(t){return e.hide(t)}}})],1),e.searchIsActive?i("klab-search"):i("div",{staticClass:"text-white",attrs:{id:"mc-text-div"}},[e._v("\n        "+e._s(null===e.contextLabel?e.$t("label.noContext"):e.contextLabel)+"\n      ")]),i("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.hasContext&&!e.isHidden&&!e.searchIsActive,expression:"!hasContext && !isHidden && !searchIsActive"}],staticClass:"absolute-top-right",attrs:{id:"mc-menubutton",icon:"mdi-chevron-right",color:"black",size:"sm",round:"",flat:""}},[e.searchIsActive?e._e():i("q-popover",{attrs:{anchor:"top right",selr:"top left"}},[i("q-list",{attrs:{dense:""}},[i("q-list-header",{staticStyle:{padding:"0 16px","min-height":"0"}},[e._v(e._s(e.$t("label.mcMenuScale")))]),i("q-item-separator"),i("q-item",[i("q-item-main",[i("scale-reference",{attrs:{width:"180px",light:!0,scaleType:"space",editable:!0,full:!0}})],1)],1),i("q-item",[i("q-item-main",[i("scale-reference",{attrs:{width:"180px",light:!0,scaleType:"time",editable:!1,full:!0}})],1)],1)],1)],1)],1)],1),i("q-card-main",{directives:[{name:"show",rawName:"v-show",value:e.hasContext&&!e.isHidden,expression:"hasContext && !isHidden"}],staticClass:"no-margin relative-position"},[i("keep-alive",[i("transition",{attrs:{name:"component-fade",mode:"out-in"}},[i(e.selectedTab,{tag:"component"})],1)],1)],1),i("q-card-actions",{directives:[{name:"show",rawName:"v-show",value:e.hasContext&&!e.isHidden,expression:"hasContext && !isHidden"}],staticClass:"no-margin",attrs:{id:"context-actions"}},[i("div",{attrs:{id:"mc-tabs"}},[i("div",{staticClass:"mc-button mc-tab",class:["tab-button",{active:"klab-log-pane"===e.selectedTab}],on:{click:function(t){e.selectedTab="klab-log-pane"}}},[i("q-icon",{attrs:{name:"mdi-console"}},[i("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[e._v(e._s(e.$t("tooltips.logPane")))])],1)],1),i("div",{staticClass:"mc-button mc-tab",class:["tab-button",{active:"klab-tree-pane"===e.selectedTab}],on:{click:function(t){e.selectedTab="klab-tree-pane"}}},[i("q-icon",{attrs:{name:"mdi-file-tree"}},[i("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[e._v(e._s(e.$t("tooltips.treePane")))])],1)],1)]),i("div",{staticClass:"mc-scalereference",attrs:{id:"mc-spacereference"}},[i("scale-reference",{attrs:{width:"110px","scale-type":"space",editable:!1}})],1),i("div",{staticClass:"mc-separator",staticStyle:{right:"290px"}}),i("div",{staticClass:"mc-scalereference",attrs:{id:"mc-timereference"}},[i("scale-reference",{attrs:{width:"110px","scale-type":"time",editable:!1}})],1),i("div",{staticClass:"mc-separator",staticStyle:{right:"160px"}}),i("div",{attrs:{id:"mc-actions"}},[i("div",{staticClass:"mc-button mc-action",class:[{active:e.mainViewer===e.VIEWERS.DATA_VIEWER}],on:{click:function(t){e.mainViewer!==e.VIEWERS.DATA_VIEWER&&e.setMainViewer(e.VIEWERS.DATA_VIEWER)}}},[i("q-icon",{attrs:{name:"mdi-eye-outline"}},[i("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[e._v(e._s(e.$t("tooltips.dataViewer")))])],1)],1),i("div",{staticClass:"mc-button mc-action",class:[{active:e.mainViewer===e.VIEWERS.REPORT_VIEWER,disabled:e.mainViewer!==e.VIEWERS.REPORT_VIEWER&&null!==e.reportTooltip}],on:{click:function(t){e.mainViewer!==e.VIEWERS.REPORT_VIEWER&&null===e.reportTooltip&&e.setMainViewer(e.VIEWERS.REPORT_VIEWER)}}},[i("q-icon",{attrs:{name:"mdi-file-document-box-outline"}},[e.mainViewer!==e.VIEWERS.REPORT_VIEWER&&e.reloadReport?i("span",{staticClass:"mc-button-notification"}):e._e(),i("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[e._v(e._s(null!==e.reportTooltip?e.reportTooltip:e.$t("tooltips.reportViewer")))])],1)],1),i("div",{staticClass:"mc-button mc-action disabled"},[i("q-icon",{attrs:{name:"mdi-sitemap"}},[i("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[e._v(e._s(e.$t("tooltips.dataflowViewer")))])],1)],1)]),i("div",{staticClass:"mc-separator",staticStyle:{right:"45px"}}),e.hasTasks?e._e():i("div",{staticClass:"mc-button",attrs:{id:"mc-reset-context"},on:{click:e.resetContext}},[i("q-icon",{attrs:{name:"mdi-close-circle-outline"}},[i("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[e._v(e._s(e.$t("tooltips.resetContext")))])],1)],1),e.hasTasks?i("div",{staticClass:"mc-button",attrs:{id:"mc-interrupt-task"},on:{click:e.interruptTask}},[i("q-icon",{attrs:{name:"mdi-stop-circle-outline"}},[i("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[e._v(e._s(e.$t("tooltips.interruptTask",{taskDescription:null===e.lastActiveTask?"":e.lastActiveTask.task.description})))])],1)],1):e._e()])],1)],1),i("scale-change-dialog")],1)},h=[];u._withStripped=!0;var f=i("a27f"),p=i("b0b2"),g=i("2573"),m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"klab-tree-pane"}},[i("klab-splitter",{attrs:{margin:0,hidden:e.hasObservationInfo?"":"right"},on:{"close-info":e.onCloseInfo}},[i("div",{attrs:{slot:"left-pane"},slot:"left-pane"},[e.hasTree?i("klab-tree"):i("div",{staticClass:"q-ma-md text-center text-white"},[e._v("\n        "+e._s(e.$t("label.noObservation"))+"\n      ")])],1),i("div",{attrs:{slot:"right-pane"},slot:"right-pane"},[e.hasObservationInfo?i("observation-info"):e._e()],1)])],1)},v=[];m._withStripped=!0;var b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"relative-position",class:[e.hasObservationInfo?"with-splitter":""],attrs:{id:"kt-container"}},[i("div",{staticClass:"simplebar-vertical-only",attrs:{id:"kt-tree-container"}},[i("q-tree",{ref:"klabTree",attrs:{id:"kt-tree",nodes:e.tree,"node-key":"id",ticked:e.ticked,selected:e.selected,expanded:e.expanded,"tick-strategy":"strict","text-color":"white","control-color":"white",color:"white",dark:!0},on:{"update:ticked":function(t){e.ticked=t},"update:selected":function(t){e.selected=t},"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"header-default",fn:function(t){return i("div",{},[i("span",{directives:[{name:"ripple",rawName:"v-ripple",value:t.node.main,expression:"prop.node.main"}],class:["node-element",t.node.main?"node-emphasized":"",e.hasObservationInfo&&e.observationInfo.id===t.node.id?"node-selected":""],attrs:{id:"node-"+t.node.id}},[e._v(e._s(t.node.label)+"\n          "),i("q-tooltip",{staticClass:"tree-q-tooltip",attrs:{delay:300,offset:[0,8],self:"top left",anchor:"bottom middle"}},[e._v(e._s(e.hasObservationInfo?t.node.label+": ":"")+e._s(e.clearObservable(t.node.observable)))])],1),t.node.empty?e._e():i("q-btn",{staticClass:"kt-download",style:{right:t.node.children.length>0?"35px":"undefined"!==typeof t.node.idx?t.node.siblingCount>100?t.node.idx>100?"80px":"70px":"62px":"10px"},attrs:{round:"",flat:"",size:"sm",icon:"mdi-arrow-down"},nativeOn:{click:function(i){e.askForOutputFormat(i,t.node.id,t.node.exportFormats)}}}),t.node.children.length>0?[i("q-chip",{staticClass:"node-chip",attrs:{color:"white",small:"",dense:"","text-color":"grey-7"}},[e._v(e._s(t.node.children.length))])]:e._e(),[i("q-chip",{directives:[{name:"show",rawName:"v-show",value:"undefined"!==typeof t.node.idx,expression:"typeof prop.node.idx !== 'undefined'"}],staticClass:"node-chip transparent",attrs:{small:"",dense:"","text-color":"grey-9"}},[e._v("\n            "+e._s(e.$t("label.itemCounter",{loaded:t.node.idx+1,total:t.node.siblingCount}))+"\n          ")])]],2)}},{key:"header-folder",fn:function(t){return i("div",{},[i("span",{directives:[{name:"ripple",rawName:"v-ripple",value:t.node.main,expression:"prop.node.main"}],class:["node-element",t.node.main?"node-emphasized":""],attrs:{id:"node-"+t.node.id}},[e._v(e._s(t.node.label))]),i("q-chip",{staticClass:"node-chip",attrs:{color:"white",small:"",dense:"","text-color":"grey-7"}},[e._v(e._s(t.node.siblingCount?t.node.siblingCount:t.node.children.length))])],1)}}])})],1)])},y=[];b._withStripped=!0;i("ac6a"),i("7514");var w=i("448a"),C=i.n(w),M=(i("20d6"),i("b12a")),I=(i("a481"),i("7f7f"),i("4917"),i("5df3"),i("1c4c"),i("f751"),i("50fb")),E=i.n(I),T=i("84a2"),S=i.n(T),O=i("6dd8"),x=i("0312"),N=i.n(x);function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t,i){return t&&L(e.prototype,t),i&&L(e,i),e}var A=function(){function e(t,i){var n=this;k(this,e),this.onScrollX=function(){n.scrollXTicking||(window.requestAnimationFrame(n.scrollX),n.scrollXTicking=!0)},this.onScrollY=function(){n.scrollYTicking||(window.requestAnimationFrame(n.scrollY),n.scrollYTicking=!0)},this.scrollX=function(){n.showScrollbar("x"),n.positionScrollbar("x"),n.scrollXTicking=!1},this.scrollY=function(){n.showScrollbar("y"),n.positionScrollbar("y"),n.scrollYTicking=!1},this.onMouseEnter=function(){n.showScrollbar("x"),n.showScrollbar("y")},this.onMouseMove=function(e){var t=n.trackY.getBoundingClientRect(),i=n.trackX.getBoundingClientRect();n.mouseX=e.clientX,n.mouseY=e.clientY,n.isWithinBounds(t)&&n.showScrollbar("y"),n.isWithinBounds(i)&&n.showScrollbar("x")},this.onWindowResize=function(){n.hideNativeScrollbar()},this.hideScrollbars=function(){var e=n.trackY.getBoundingClientRect(),t=n.trackX.getBoundingClientRect();n.isWithinBounds(e)||(n.scrollbarY.classList.remove("visible"),n.isVisible.y=!1),n.isWithinBounds(t)||(n.scrollbarX.classList.remove("visible"),n.isVisible.x=!1)},this.onMouseDown=function(e){var t=n.scrollbarY.getBoundingClientRect(),i=n.scrollbarX.getBoundingClientRect();n.isWithinBounds(t)&&(e.preventDefault(),n.onDrag(e,"y")),n.isWithinBounds(i)&&(e.preventDefault(),n.onDrag(e,"x"))},this.drag=function(e){var t,i,s;e.preventDefault(),"y"===n.currentAxis?(t=e.pageY,i=n.trackY,s=n.scrollContentEl):(t=e.pageX,i=n.trackX,s=n.contentEl);var o=t-i.getBoundingClientRect()[n.offsetAttr[n.currentAxis]]-n.dragOffset[n.currentAxis],a=o/i[n.sizeAttr[n.currentAxis]],r=a*n.contentEl[n.scrollSizeAttr[n.currentAxis]];s[n.scrollOffsetAttr[n.currentAxis]]=r},this.onEndDrag=function(){document.removeEventListener("mousemove",n.drag),document.removeEventListener("mouseup",n.onEndDrag)},this.el=t,this.flashTimeout,this.contentEl,this.scrollContentEl,this.dragOffset={x:0,y:0},this.isEnabled={x:!0,y:!0},this.isVisible={x:!1,y:!1},this.scrollOffsetAttr={x:"scrollLeft",y:"scrollTop"},this.sizeAttr={x:"offsetWidth",y:"offsetHeight"},this.scrollSizeAttr={x:"scrollWidth",y:"scrollHeight"},this.offsetAttr={x:"left",y:"top"},this.handleSize={x:0,y:0},this.globalObserver,this.mutationObserver,this.resizeObserver,this.currentAxis,this.scrollbarWidth,this.options=Object.assign({},e.defaultOptions,i),this.isRtl="rtl"===this.options.direction,this.classNames=this.options.classNames,this.offsetSize=20,this.recalculate=S()(this.recalculate.bind(this),1e3),this.onMouseMove=S()(this.onMouseMove.bind(this),100),this.init()}return _(e,[{key:"init",value:function(){this.el.SimpleBar=this,this.initDOM(),N.a&&(this.hideNativeScrollbar(),this.render(),this.initListeners())}},{key:"initDOM",value:function(){var e=this;if(Array.from(this.el.children).filter(function(t){return t.classList.contains(e.classNames.scrollContent)}).length)this.trackX=this.el.querySelector(".".concat(this.classNames.track,".horizontal")),this.trackY=this.el.querySelector(".".concat(this.classNames.track,".vertical")),this.scrollContentEl=this.el.querySelector(".".concat(this.classNames.scrollContent)),this.contentEl=this.el.querySelector(".".concat(this.classNames.content));else{this.scrollContentEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.scrollContentEl.classList.add(this.classNames.scrollContent),this.contentEl.classList.add(this.classNames.content);while(this.el.firstChild)this.contentEl.appendChild(this.el.firstChild);this.scrollContentEl.appendChild(this.contentEl),this.el.appendChild(this.scrollContentEl)}if(!this.trackX||!this.trackY){var t=document.createElement("div"),i=document.createElement("div");t.classList.add(this.classNames.track),i.classList.add(this.classNames.scrollbar),this.options.autoHide||i.classList.add("visible"),t.appendChild(i),this.trackX=t.cloneNode(!0),this.trackX.classList.add("horizontal"),this.trackY=t.cloneNode(!0),this.trackY.classList.add("vertical"),this.el.insertBefore(this.trackX,this.el.firstChild),this.el.insertBefore(this.trackY,this.el.firstChild)}this.scrollbarX=this.trackX.querySelector(".".concat(this.classNames.scrollbar)),this.scrollbarY=this.trackY.querySelector(".".concat(this.classNames.scrollbar)),this.el.setAttribute("data-simplebar","init")}},{key:"initListeners",value:function(){var e=this;this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mousedown",this.onMouseDown),this.el.addEventListener("mousemove",this.onMouseMove),this.contentEl.addEventListener("scroll",this.onScrollX),this.scrollContentEl.addEventListener("scroll",this.onScrollY),window.addEventListener("resize",this.onWindowResize),"undefined"!==typeof MutationObserver&&(this.mutationObserver=new MutationObserver(function(t){t.forEach(function(t){(e.isChildNode(t.target)||t.addedNodes.length)&&e.recalculate()})}),this.mutationObserver.observe(this.el,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this.resizeObserver=new O["a"](this.recalculate),this.resizeObserver.observe(this.el)}},{key:"recalculate",value:function(){this.render()}},{key:"render",value:function(){this.contentSizeX=this.contentEl[this.scrollSizeAttr["x"]],this.contentSizeY=this.contentEl[this.scrollSizeAttr["y"]]-(this.scrollbarWidth||this.offsetSize),this.trackXSize=this.trackX[this.sizeAttr["x"]],this.trackYSize=this.trackY[this.sizeAttr["y"]],this.isEnabled["x"]=this.trackXSize<this.contentSizeX,this.isEnabled["y"]=this.trackYSize<this.contentSizeY,this.resizeScrollbar("x"),this.resizeScrollbar("y"),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},{key:"resizeScrollbar",value:function(){var e,t,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";if(this.isEnabled[n]||this.options.forceVisible){"x"===n?(e=this.scrollbarX,t=this.contentSizeX,i=this.trackXSize):(e=this.scrollbarY,t=this.contentSizeY,i=this.trackYSize);var s=i/t;this.handleSize[n]=Math.max(~~(s*i),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(this.handleSize[n]=Math.min(this.handleSize[n],this.options.scrollbarMaxSize)),"x"===n?e.style.width="".concat(this.handleSize[n],"px"):e.style.height="".concat(this.handleSize[n],"px")}}},{key:"positionScrollbar",value:function(){var e,t,i,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";"x"===s?(e=this.scrollbarX,t=this.contentEl[this.scrollOffsetAttr[s]],i=this.contentSizeX,n=this.trackXSize):(e=this.scrollbarY,t=this.scrollContentEl[this.scrollOffsetAttr[s]],i=this.contentSizeY,n=this.trackYSize);var o=t/(i-n),a=~~((n-this.handleSize[s])*o);(this.isEnabled[s]||this.options.forceVisible)&&(e.style.transform="x"===s?"translate3d(".concat(a,"px, 0, 0)"):"translate3d(0, ".concat(a,"px, 0)"))}},{key:"toggleTrackVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y",t="y"===e?this.trackY:this.trackX,i="y"===e?this.scrollbarY:this.scrollbarX;this.isEnabled[e]||this.options.forceVisible?t.style.visibility="visible":t.style.visibility="hidden",this.options.forceVisible&&(this.isEnabled[e]?i.style.visibility="visible":i.style.visibility="hidden")}},{key:"hideNativeScrollbar",value:function(){this.scrollbarWidth=E()(),this.scrollContentEl.style[this.isRtl?"paddingLeft":"paddingRight"]="".concat(this.scrollbarWidth||this.offsetSize,"px"),this.scrollContentEl.style.marginBottom="-".concat(2*this.scrollbarWidth||this.offsetSize,"px"),this.contentEl.style.paddingBottom="".concat(this.scrollbarWidth||this.offsetSize,"px"),0!==this.scrollbarWidth&&(this.contentEl.style[this.isRtl?"marginLeft":"marginRight"]="-".concat(this.scrollbarWidth,"px"))}},{key:"showScrollbar",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";this.isVisible[t]||(e="x"===t?this.scrollbarX:this.scrollbarY,this.isEnabled[t]&&(e.classList.add("visible"),this.isVisible[t]=!0),this.options.autoHide&&(window.clearInterval(this.flashTimeout),this.flashTimeout=window.setInterval(this.hideScrollbars,this.options.timeout)))}},{key:"onDrag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";e.preventDefault();var i="y"===t?this.scrollbarY:this.scrollbarX,n="y"===t?e.pageY:e.pageX;this.dragOffset[t]=n-i.getBoundingClientRect()[this.offsetAttr[t]],this.currentAxis=t,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.onEndDrag)}},{key:"getScrollElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return"y"===e?this.scrollContentEl:this.contentEl}},{key:"getContentElement",value:function(){return this.contentEl}},{key:"removeListeners",value:function(){this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),this.scrollContentEl.removeEventListener("scroll",this.onScrollY),this.contentEl.removeEventListener("scroll",this.onScrollX),this.mutationObserver.disconnect(),this.resizeObserver.disconnect()}},{key:"unMount",value:function(){this.removeListeners(),this.el.SimpleBar=null}},{key:"isChildNode",value:function(e){return null!==e&&(e===this.el||this.isChildNode(e.parentNode))}},{key:"isWithinBounds",value:function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height}}],[{key:"initHtmlApi",value:function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!==typeof MutationObserver&&(this.globalObserver=new MutationObserver(function(t){t.forEach(function(t){Array.from(t.addedNodes).forEach(function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")?!t.SimpleBar&&new e(t,e.getElOptions(t)):Array.from(t.querySelectorAll("[data-simplebar]")).forEach(function(t){!t.SimpleBar&&new e(t,e.getElOptions(t))}))}),Array.from(t.removedNodes).forEach(function(e){1===e.nodeType&&(e.hasAttribute("data-simplebar")?e.SimpleBar&&e.SimpleBar.unMount():Array.from(e.querySelectorAll("[data-simplebar]")).forEach(function(e){e.SimpleBar&&e.SimpleBar.unMount()}))})})}),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))}},{key:"getElOptions",value:function(e){var t=Array.from(e.attributes).reduce(function(e,t){var i=t.name.match(/data-simplebar-(.+)/);if(i){var n=i[1].replace(/\W+(.)/g,function(e,t){return t.toUpperCase()});switch(t.value){case"true":e[n]=!0;break;case"false":e[n]=!1;break;case void 0:e[n]=!0;break;default:e[n]=t.value}}return e},{});return t}},{key:"removeObserver",value:function(){this.globalObserver.disconnect()}},{key:"initDOMLoadedElements",value:function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.from(document.querySelectorAll("[data-simplebar]")).forEach(function(t){t.SimpleBar||new e(t,e.getElOptions(t))})}},{key:"defaultOptions",get:function(){return{autoHide:!0,forceVisible:!1,classNames:{content:"simplebar-content",scrollContent:"simplebar-scroll-content",scrollbar:"simplebar-scrollbar",track:"simplebar-track"},scrollbarMinSize:25,scrollbarMaxSize:0,direction:"ltr",timeout:1e3}}}]),e}();N.a&&A.initHtmlApi();var j=A,D={name:"klabTree",data:function(){return{ticked:[],selected:null,expanded:[],enableContextMenu:!1,itemActions:[],itemObservationId:null,askingForSiblings:!1,scrollElement:null,showPopover:null}},computed:l()({},Object(c["c"])("data",["tree","treeNode","lasts"]),Object(c["c"])("view",["observationInfo","hasObservationInfo"]),Object(c["d"])("view",["treeSelected","treeTicked","treeExpanded"])),methods:l()({},Object(c["b"])("data",["hideNode","showNode","selectNode","askForSiblings","setFolderVisibility"]),Object(c["b"])("view",["setSpinner"]),{clearObservable:function(e){return 0===e.indexOf("(")&&e.lastIndexOf(")")===e.length-1?e.substring(1,e.length-1):e},askForOutputFormat:function(e,t,i){var n=this;null!==i&&i.length>0?(e.stopPropagation(),this.$q.dialog({title:this.$t("label.titleOutputFormat"),message:this.$t("label.askForOuputFormat"),options:{type:"radio",model:i[0].value,items:i},cancel:!0,preventClose:!1,color:"info"}).then(function(e){n.askDownload(t,e)})):this.$q.notify({message:"No available formats",type:"warn",timeout:200})},askDownload:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;M["b"].getAxiosContent("dw_".concat(e),"".concat("").concat("/modeler/engine/session/view/","data/").concat(e),{params:{format:"RAW",outputFormat:t},responseType:"blob"},function(e,n){var s=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=s,o.setAttribute("download","".concat(i,".").concat(t)),document.body.appendChild(o),o.click(),n()})}}),watch:{treeSelected:function(e){e!==this.selected&&(this.selected=e)},expanded:function(e){this.$store.state.view.treeExpanded=e},selected:function(e){null!==e?0===e.indexOf("ff_")?this.selected=null:this.selectNode(e):this.selectNode(null)},ticked:function(e,t){var i=this;if(this.$store.state.view.treeTicked=e,t.length!==e.length)if(t.length>e.length){var n=t.filter(function(t){return e.indexOf(t)<0})[0],s=M["b"].findNodeById(this.tree,n);s&&(s.type===M["a"].GEOMTYP_FOLDER?(this.setFolderVisibility({folderId:s.id,visible:!1}),this.ticked=this.ticked.filter(function(e){return-1===s.children.findIndex(function(t){return t.id===e})})):this.hideNode(n))}else{var o=e[e.length-1];this.selectNode(o);var a=M["b"].findNodeById(this.tree,o);if(a.type===M["a"].GEOMTYP_FOLDER){var r=function(){var e;i.setFolderVisibility({folderId:a.id,visible:!0}),(e=i.ticked).push.apply(e,C()(a.children.map(function(e){return e.id})))};if(a.siblingsLoaded<a.siblingCount&&!this.askingForSiblings){this.askingForSiblings=!0;var l=this.lasts.find(function(e){return e.folderId===a.id});this.askForSiblings({nodeId:l.observationId,folderId:l.folderId,offset:a.siblingsLoaded-1,count:-1,toTree:!1,visible:!0}).then(function(){i.askingForSiblings=!1,r()})}else r()}else this.showNode({nodeId:o,selectMainViewer:!0})}}},mounted:function(){var e=this;this.scrollElement=new j(document.getElementById("kt-tree-container")).getScrollElement(),this.scrollElement.addEventListener("scroll",function(t){if(e.askingForSiblings)return t.preventDefault(),void console.debug("KlabTree -> We are asking for tree now, this call is not need so exit");if(0===e.lasts.length)return t.preventDefault(),void console.debug("KlabTree -> There aren't incompleted folders, exit");var i=e.scrollElement.getBoundingClientRect(),n=i.bottom;e.lasts.forEach(function(t){var i=document.getElementById("node-".concat(t.observationId));if(null!==i){var s=i.getBoundingClientRect();if(console.debug("KlabTree -> Last element is over bottom? Element bottom: ".concat(s.bottom," / Scroll container bottom: ").concat(n)),0!==s.bottom&&s.bottom<n){console.log("KlabTree -> Ask for more siblings"),e.askingForSiblings=!0;var o=M["b"].findNodeById(e.tree,t.folderId);e.askForSiblings({nodeId:t.observationId,folderId:t.folderId,offset:t.offset,count:M["a"].SIBLINGS_TO_ASK_FOR,visible:"undefined"!==typeof o.ticked&&o.ticked}).then(function(){e.askingForSiblings=!1,console.debug("KlabTree -> Asked for them"),e.$eventBus.$emit("updateFolder",{folderId:t.folderId,visible:"undefined"!==typeof o.ticked&&o.ticked})})}}})}),this.$eventBus.$on("updateFolder",function(t){if(t&&t.folderId){var i,n=M["b"].findNodeById(e.tree,t.folderId);if(n&&null!==n)if(t.visible)(i=e.ticked).push.apply(i,C()(n.children.map(function(e){return e.id})));else e.ticked=e.ticked.filter(function(e){return-1===n.children.findIndex(function(t){return t.id===e})})}}),this.selected=this.treeSelected,this.ticked=this.treeTicked,this.expanded=this.treeExpanded}},z=D,R=(i("5b35"),i("2877")),P=Object(R["a"])(z,b,y,!1,null,null,null);P.options.__file="KlabTree.vue";var Y=P.exports,B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"splitter-container"}},[!e.hidden&&e.controllers?i("div",{staticClass:"splitter-controllers"},[i("q-btn",{staticClass:"no-padding splitter-actions",style:{color:e.controlsColor},attrs:{flat:"",round:"",size:"sm",id:"splitter-to-left",icon:"mdi-arrow-left"},nativeOn:{click:function(t){e.percent=0}}}),i("q-btn",{staticClass:"no-padding splitter-actions rotate-90",style:{color:e.controlsColor},attrs:{flat:"",round:"",size:"sm",id:"splitter-to-middle",icon:"mdi-format-align-middle"},nativeOn:{click:function(t){e.percent=50}}}),i("q-btn",{staticClass:"no-padding splitter-actions",style:{color:e.controlsColor},attrs:{flat:"",round:"",size:"sm",id:"splitter-to-right",icon:"mdi-arrow-right"},nativeOn:{click:function(t){e.percent=100}}}),i("q-btn",{staticClass:"no-padding splitter-actions",style:{color:e.controlsColor},attrs:{flat:"",round:"",size:"sm",id:"splitter-close",icon:"mdi-close"},nativeOn:{click:function(t){e.$emit("close-info")}}})],1):e._e(),i("div",{staticClass:"vue-splitter",style:{cursor:e.cursor,flexDirection:e.flexDirection},on:{mouseup:e.onUp,mousemove:e.onMouseMove,touchmove:e.onMove,touchend:e.onUp}},[i("div",{staticClass:"left-pane splitter-pane",style:e.leftPaneStyle},[e._t("left-pane")],2),e.hidden?e._e():[i("div",{staticClass:"splitter",class:{active:e.active},style:e.splitterStyle,on:{mousedown:e.onDown,touchstart:e.onDown}}),i("div",{staticClass:"right-pane splitter-pane",style:e.rightPaneStyle},[e._t("right-pane")],2)]],2)])},V=[];B._withStripped=!0;i("c5f6");var W={props:{margin:{type:Number,default:10},horizontal:{type:Boolean,default:!1},hidden:{type:String,default:""},splitterColor:{type:String,default:"rgba(0, 0, 0, 0.2)"},controlsColor:{type:String,default:"rgba(192, 192, 192)"},splitterSize:{type:Number,default:3},controllers:{type:Boolean,default:!0}},data:function(){return{active:!1,percent:"left"===this.hidden?0:"right"===this.hidden?100:50,hasMoved:!1}},computed:{flexDirection:function(){return this.horizontal?"column":"row"},splitterStyle:function(){return this.horizontal?{height:"".concat(this.splitterSize,"px"),cursor:"ns-resize","background-color":this.splitterColor}:{width:"".concat(this.splitterSize,"px"),cursor:"ew-resize","background-color":this.splitterColor}},leftPaneStyle:function(){return this.horizontal?{height:"".concat(this.percent,"%")}:{width:"".concat(this.percent,"%")}},rightPaneStyle:function(){return this.horizontal?{height:"".concat(100-this.percent,"%")}:{width:"".concat(100-this.percent,"%")}},cursor:function(){return this.active?this.horizontal?"ns-resize":"ew-resize":""}},methods:{onClick:function(){this.hasMoved||(this.percent=50,this.$emit("splitterresize"))},onDown:function(){this.active=!0,this.hasMoved=!1},onUp:function(){this.active=!1},onMove:function(e){var t=0,i=e.currentTarget,n=0;if(this.active){if(this.horizontal){while(i)t+=i.offsetTop,i=i.offsetParent;n=Math.floor((e.pageY-t)/e.currentTarget.offsetHeight*1e4)/100}else{while(i)t+=i.offsetLeft,i=i.offsetParent;n=Math.floor((e.pageX-t)/e.currentTarget.offsetWidth*1e4)/100}n>this.margin&&n<100-this.margin&&(this.percent=n),this.$emit("splitterresize"),this.hasMoved=!0}},onMouseMove:function(e){0!==e.buttons&&0!==e.which||(this.active=!1),this.onMove(e)}},watch:{hidden:function(){this.percent="left"===this.hidden?0:"right"===this.hidden?100:50}}},$=W,q=(i("1848"),Object(R["a"])($,B,V,!1,null,null,null));q.options.__file="KlabSplitter.vue";var F=q.exports,H=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"relative-position",attrs:{id:"oi-container"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.observationInfo.visible,expression:"observationInfo.visible"}],attrs:{id:"oi-slider"}},[i("q-slider",{attrs:{min:0,max:1,step:.1,decimals:1,color:"mc-yellow",label:!1},model:{value:e.observationInfo.layerOpacity,callback:function(t){e.$set(e.observationInfo,"layerOpacity",t)},expression:"observationInfo.layerOpacity"}})],1),i("div",{class:e.getContainerClasses(),attrs:{id:"oi-metadata-map-wrapper"}},[i("div",{class:[this.exploreMode?"with-mapinfo":""],attrs:{id:"oi-scroll-container"}},[i("div",{attrs:{id:"oi-scroll-metadata-container"}},e._l(e.observationInfo.metadata,function(t,n){return i("div",{key:n,attrs:{id:"oi-metadata"}},[i("div",{staticClass:"oi-metadata-name"},[e._v(e._s(n))]),i("div",{staticClass:"oi-metadata-value",on:{dblclick:function(i){e.copyToClipboard(t)}}},[e._v(e._s(t))])])}))]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasMapInfo,expression:"hasMapInfo"}],attrs:{id:"oi-mapinfo-container"},on:{mouseenter:function(t){e.infoShowed={index:0,categories:[],values:[e.mapSelection.value]}},mouseleave:e.resetInfoShowed}},[i("div",{attrs:{id:"oi-mapinfo-map"}}),i("div",{staticClass:"oi-pixel-indicator",attrs:{id:"oi-pixel-h"}}),i("div",{staticClass:"oi-pixel-indicator",attrs:{id:"oi-pixel-v"}})])]),null!==e.observationInfo.dataSummary?i("div",{style:{"min-width":Math.max(4*e.observationInfo.dataSummary.histogram.length,256)+"px"},attrs:{id:"oi-histogram-container"},on:{mouseleave:function(t){e.resetInfoShowed()}}},[e.hasHistogram?i("div",{class:[null!==this.observationInfo.colormap?"with-colormap":""],attrs:{id:"oi-histogram"}},e._l(e.observationInfo.dataSummary.histogram,function(t,n){return i("div",{key:n,staticClass:"oi-histogram-col",style:{width:e.histogramWidth+"%"},on:{mouseover:function(t){e.infoShowed={index:n,categories:e.observationInfo.dataSummary.categories,values:e.observationInfo.dataSummary.histogram}}}},[i("div",{staticClass:"oi-histogram-val",style:{height:e.getHistogramDataHeight(t)+"%"}})])})):i("div",{attrs:{id:"oi-histogram-nodata"}},[e._v(e._s(e.$t("label.noHistogramData")))]),null!==e.observationInfo.colormap?i("div",{style:{"min-width":Math.min(e.observationInfo.colormap.colors.length,256)+"px"},attrs:{id:"oi-colormap"}},e._l(e.observationInfo.colormap.colors,function(t,n){return i("div",{key:n,staticClass:"oi-colormap-col",style:{width:e.colormapWidth+"%","background-color":t},on:{mouseover:function(t){e.infoShowed={index:n,categories:[],values:e.observationInfo.colormap.labels}}}})})):e._e(),i("div",{attrs:{id:"oi-data-details"}},[i("div",{staticClass:"oi-data-details",attrs:{id:"oi-histogram-min"},on:{mouseover:function(t){e.tooltipIt(t,"q-hmin")}}},[e._v(e._s(e.histogramMin)),i("q-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.ellipsed.includes("q-hmin"),expression:"ellipsed.includes('q-hmin')"}],staticClass:"oi-tooltip"},[e._v(e._s(e.histogramMin))])],1),-1===e.infoShowed.index?[i("div",{staticClass:"oi-data-details",attrs:{id:"oi-data-nodetail"}},[e._v(e._s(e.$t("label.noInfoValues")))])]:[i("div",{staticClass:"oi-data-details",attrs:{id:"oi-data-detail"},on:{mouseover:function(t){e.tooltipIt(t,"q-hdata")}}},[e._v("\n          "+e._s(e.infoShowed.categories.length>0?e.infoShowed.categories[e.infoShowed.index]+": ":"")),i("em",[e._v(e._s(e.infoShowed.values[e.infoShowed.index]))]),i("q-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.ellipsed.includes("q-hdata"),expression:"ellipsed.includes('q-hdata')"}],staticClass:"oi-tooltip"},[e._v("\n            "+e._s(e.infoShowed.categories.length>0?e.infoShowed.categories[e.infoShowed.index]+": ":"")),i("em",[e._v(e._s(e.infoShowed.values[e.infoShowed.index]))])])],1)],i("div",{staticClass:"oi-data-details",attrs:{id:"oi-histogram-max"},on:{mouseover:function(t){e.tooltipIt(t,"q-hmax")}}},[e._v(e._s(e.histogramMax)),i("q-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.ellipsed.includes("q-hmax"),expression:"ellipsed.includes('q-hmax')"}],staticClass:"oi-tooltip"},[e._v(e._s(e.histogramMax))])],1)],2)]):e._e()])},G=[];H._withStripped=!0;var U=i("5eee"),X=i("a2c7"),Z=i("1442"),Q={name:"ObservationInfo",data:function(){return{scrollBar:void 0,infoShowed:{index:-1,categories:[],values:[]},ellipsed:[],infoMap:null}},computed:l()({},Object(c["c"])("view",["observationInfo","mapSelection","exploreMode"]),{hasHistogram:function(){return this.observationInfo.dataSummary.histogram.length>0},maxHistogramValue:function(){return Math.max.apply(null,this.observationInfo.dataSummary.histogram)},histogramWidth:function(){return 100/this.observationInfo.dataSummary.histogram.length},histogramMin:function(){return"NaN"===this.observationInfo.dataSummary.minValue?"":Math.round(100*this.observationInfo.dataSummary.minValue)/100},histogramMax:function(){return"NaN"===this.observationInfo.dataSummary.maxValue?"":Math.round(100*this.observationInfo.dataSummary.maxValue)/100},colormapWidth:function(){return 100/this.observationInfo.colormap.colors.length},hasMapInfo:function(){return this.exploreMode&&null!==this.mapSelection.pixelSelected&&"cl_".concat(this.observationInfo.id)===this.mapSelection.layerSelected.get("id")}}),methods:{getHistogramDataHeight:function(e){return 100*e/this.maxHistogramValue},copyToClipboard:function(e){p["a"].copyToClipboard(e),this.$q.notify({message:this.$t("messages.copiedToClipboard"),type:"info",timeout:500})},tooltipIt:function(e,t){e.target.offsetWidth<e.target.scrollWidth?this.ellipsed.push(t):this.ellipsed.splice(this.ellipsed.indexOf(t),1)},getContainerClasses:function(){var e=[];return this.observationInfo.visible&&e.push("with-slider"),null!==this.observationInfo.dataSummary&&e.push("with-histogram"),e},resetInfoShowed:function(){this.infoShowed={index:-1,categories:[],values:[]}}},watch:{mapSelection:function(){var e=this,t=this.infoMap.getLayers().getArray();null!==this.mapSelection.pixelSelected?(t.length>1&&this.infoMap.removeLayer(t[1]),this.infoMap.addLayer(this.mapSelection.layerSelected),this.infoMap.getView().setCenter(this.mapSelection.pixelSelected),this.infoMap.getView().setZoom(14),this.$nextTick(function(){e.infoMap.updateSize()}),this.infoShowed={index:0,categories:[],values:[this.mapSelection.value]}):t.length>1&&this.infoMap.removeLayer(t[1])}},mounted:function(){this.scrollBar=new j(document.getElementById("oi-scroll-container")),this.infoMap=new U["a"]({view:new X["a"]({center:[0,0],zoom:12}),target:"oi-mapinfo-map",layers:[Z["c"].EMPTY_LAYER],controls:[],interactions:[]})}},K=Q,J=(i("db0a"),Object(R["a"])(K,H,G,!1,null,null,null));J.options.__file="ObservationInfo.vue";var ee=J.exports,te={name:"klabTreeContainer",computed:l()({},Object(c["c"])("data",["hasTree"]),Object(c["c"])("view",["hasObservationInfo"])),methods:l()({},Object(c["b"])("view",["setObservationInfo"]),{onCloseInfo:function(){this.setObservationInfo(null)}}),mounted:function(){},watch:{},components:{KlabTree:Y,KlabSplitter:F,ObservationInfo:ee}},ie=te,ne=(i("a663"),Object(R["a"])(ie,m,v,!1,null,null,null));ne.options.__file="KlabTreePane.vue";var se=ne.exports,oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"klab-log-pane"}},[i("q-list",{staticClass:"no-padding no-margin no-border",attrs:{striped:"",dense:"",dark:"",id:"log-container"}},e._l(e.klabLogReversedAndFiltered(),function(t){return i("q-item",{key:t.id,staticClass:"log-item q-pa-xs"},[i("q-item-side",[i("q-item-tile",{staticStyle:{"font-size":"18px"},attrs:{icon:e.logColorAndIcon(t).icon,color:e.logColorAndIcon(t).color}})],1),i("q-item-main",[i("q-item-tile",[e._v(e._s(e.logText(t)))])],1)],1)}))],1)},ae=[];oe._withStripped=!0;var re,le=i("d247"),ce=(re={},a()(re,le["a"].TYPE_DEBUG,{icon:"mdi-console-line",color:"black"}),a()(re,le["a"].TYPE_INFO,{icon:"mdi-information",color:"info"}),a()(re,le["a"].TYPE_WARNING,{icon:"mdi-alert",color:"warning"}),a()(re,le["a"].TYPE_ERROR,{icon:"mdi-close-circle",color:"negative"}),re),de={name:"KLabLogPane",data:function(){return{scrollBar:null,log:null}},computed:l()({},Object(c["c"])("view",["klabLogReversedAndFiltered"])),methods:{logText:function(e){return e&&e.payload?"".concat(e.time?e.time.format("HH:mm:ss"):this.$t("messages.noTime"),": ").concat(e.payload):this.$t("label.klabNoMessage")},logColorAndIcon:function(e){return ce[e.type]}},watch:{klabLog:function(){}},mounted:function(){this.scrollBar=new j(document.getElementById("klab-log-pane"))}},ue=de,he=(i("f58f"),Object(R["a"])(ue,oe,ae,!1,null,null,null));he.options.__file="KlabLogPane.vue";var fe=he.exports,pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"mc-search-div",attrs:{id:"mc-search-div"}},[e._l(e.acceptedTokens,function(t,n){return i("div",{key:t.index,ref:"token-"+t.index,refInFor:!0,class:["tokens-accepted","tokens","bg-semantic-elements",t.selected?"selected":"","text-"+t.leftColor],style:{"border-color":t.selected?t.rgb:"transparent"},attrs:{tabindex:n},on:{focus:function(i){e.onTokenFocus(t,i)},blur:function(i){e.onTokenFocus(t,i)},keydown:e.onKeyPressedOnToken}},[e._v(e._s(t.value)+"\n    "),i("q-tooltip",{attrs:{delay:500,offset:[0,15],self:"top left",anchor:"bottom left"}},[t.sublabel.length>0?i("span",[e._v(e._s(t.sublabel))]):i("span",[e._v(e._s(e.$t("label.noTokenDescription")))])])],1)}),i("div",{staticClass:"tokens"},[i("q-input",{ref:"mc-search-input",attrs:{autofocus:!0,placeholder:e.$t("label.searchPlaceholder"),size:"20",id:"mc-search-input",tabindex:e.acceptedTokens.length,"hide-underline":!0},on:{focus:function(t){e.onInputFocus(!0)},blur:function(t){e.onInputFocus(!1)},keydown:e.onKeyPressedOnSearchInput,keyup:function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.searchEnd(t):null}},model:{value:e.actualToken,callback:function(t){e.actualToken=t},expression:"actualToken"}},[i("q-autocomplete",{ref:"mc-autocomplete",attrs:{debounce:200,"min-characters":2,"max-results":50,id:"mc-autocomplete"},on:{search:e.search,selected:e.selected,show:e.onAutocompleteShow,hide:e.onAutocompleteHide}})],1)],1)],2)},ge=[];pe._withStripped=!0;i("386d");var me=i("278c"),ve=i.n(me),be=i("17dc"),ye=i("2b0e"),we={name:"KlabSearch",props:{maxResults:{type:Number,default:-1}},data:function(){return{searchContextId:null,searchRequestId:0,doneFunc:null,result:null,acceptedTokens:[],actualToken:"",actualSearchString:"",noSearch:!1,searchDiv:null,searchInput:null,autocompleteEl:null,scrolled:0,suggestionShowed:!1,searchTimeout:null,searchHistoryIndex:-1,autocompleteSB:null}},computed:l()({},Object(c["c"])("data",["searchResult","contextId"]),Object(c["c"])("view",["spinner","searchIsFocused","searchLostChar","searchHistory"]),{inputSearchColor:{get:function(){return this.searchInput?this.searchInput.$refs.input.style.color:"black"},set:function(e){this.searchInput.$refs.input.style.color=e}}}),methods:l()({},Object(c["b"])("view",["searchStop","setSpinner","searchFocus","resetSearchLostChar","storePreviousSearch"]),{onTokenFocus:function(e,t){e.selected="focus"===t.type},onInputFocus:function(e){this.searchFocus({focused:e}),this.actualToken=this.actualSearchString},onAutocompleteShow:function(){this.suggestionShowed=!0},onAutocompleteHide:function(){this.suggestionShowed=!1,this.actualToken!==this.actualSearchString&&(this.noSearch=!0,this.resetSearchInput())},onKeyPressedOnToken:function(e){var t=this;if(37===e.keyCode||39===e.keyCode){e.preventDefault();var i=this.acceptedTokens.findIndex(function(e){return e.selected}),n=null,s=!1;if(37===e.keyCode&&i>0?n="token-".concat(this.acceptedTokens[i-1].index):39===e.keyCode&&i<this.acceptedTokens.length&&(i===this.acceptedTokens.length-1?(n="mc-search-input",s=!0):n="token-".concat(this.acceptedTokens[i+1].index)),null!==n){var o=this.$refs[n];if(Array.isArray(o)){var a=o,r=ve()(a,1);o=r[0]}ye["a"].nextTick(function(){o.focus();var i=null,n=t.searchDiv.offsetLeft;if(37===e.keyCode){var a=o.offsetLeft+n-t.searchDiv.offsetLeft;t.searchDiv.scrollLeft>=a&&(i=a)}else{var r=s?o.$el:o,l=(s?r.offsetLeft:o.offsetLeft)+n+r.offsetWidth,c=t.searchDiv.offsetWidth+t.searchDiv.scrollLeft;c<=l&&(i=t.searchDiv.scrollLeft+(l-c)-n)}null!==i&&ye["a"].nextTick(function(){t.searchDiv.scrollLeft=i})})}}},onKeyPressedOnSearchInput:function(e){var t=this;switch(this.noSearch=!1,e.keyCode){case 8:""===this.actualToken&&0!==this.acceptedTokens.length?(this.acceptedTokens.pop(),this.searchHistoryIndex=-1,e.preventDefault()):""!==this.actualSearchString&&(e.preventDefault(),this.actualSearchString=this.actualSearchString.slice(0,-1));break;case 9:this.suggestionShowed&&-1!==this.autocompleteEl.keyboardIndex&&(this.autocompleteEl.setValue(this.autocompleteEl.results[this.autocompleteEl.keyboardIndex]),this.searchHistoryIndex=-1),e.preventDefault();break;case 13:this.suggestionShowed||this.searchInKLab(e);break;case 27:this.suggestionShowed?this.autocompleteEl.hide():this.searchEnd(!0),e.preventDefault();break;case 32:e.preventDefault(),this.askForSuggestion()||this.$q.notify({message:this.$t("messages.noSpaceAllowedInSearch"),type:"warning",timeout:1500});break;case 37:if(!this.suggestionShowed&&0===this.searchInput.$refs.input.selectionStart&&this.acceptedTokens.length>0){var i=this.acceptedTokens[this.acceptedTokens.length-1];ye["a"].nextTick(function(){t.$refs["token-".concat(i.index)][0].focus()}),e.preventDefault()}break;case 38:this.suggestionShowed||this.searchHistoryEvent(1,e);break;case 40:this.suggestionShowed||this.searchHistoryEvent(-1,e);break;default:e.keyCode<65||e.keyCode>90?39!==e.keyCode&&e.preventDefault():(e.preventDefault(),this.searchHistoryIndex=-1,this.actualSearchString+=e.key);break}},selected:function(e,t){t?this.inputSearchColor=e.rgb:(this.acceptedTokens.push(e),this.actualSearchString="")},search:function(e,t){var i=this;if(this.noSearch)return this.noSearch=!1,void t([]);this.searchRequestId+=1,this.sendStompMessage(be["a"].SEARCH_REQUEST({requestId:this.searchRequestId,contextId:this.searchContextId,maxResults:this.maxResults,session:this.$store.state.data.session,cancelSearch:!1,defaultResults:""===e,queryString:this.actualSearchString}).body),this.setSpinner(l()({},d["c"].SPINNER_LOADING,{owner:this.$options.name})),this.doneFunc=t,this.searchTimeout=setTimeout(function(){i.setSpinner(l()({},d["c"].SPINNER_ERROR,{owner:i.$options.name,errorMessage:i.$t("errors.searchTimeout"),time:2,then:l()({},d["c"].SPINNER_STOPPED)})),i.doneFunc([])},2e3)},searchInKLab:function(){if(this.acceptedTokens.length>0){var e=this.acceptedTokens.map(function(e){return e.id}).join(" ");this.sendStompMessage(be["a"].OBSERVATION_REQUEST({urn:e,contextId:this.contextId,searchContextId:null,session:this.$store.state.data.session}).body),this.$q.notify({message:this.$t("label.askForObservation",{urn:this.acceptedTokens.map(function(e){return e.label}).join(" ")}),type:"info",timeout:2e3})}else console.log("Nothing to search for");this.searchEnd()},searchEnd:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.suggestionShowed||(!e&&this.acceptedTokens.length>0&&this.storePreviousSearch({acceptedTokens:this.acceptedTokens.slice(0),searchContextId:this.searchContextId,searchRequestId:this.searchRequestId}),this.searchContextId=null,this.searchRequestId=0,this.doneFunc=null,this.result=null,this.acceptedTokens=[],this.searchHistoryIndex=-1,this.actualSearchString="",this.scrolled=0,this.noSearch=!1,this.searchStop())},resetSearchInput:function(){var e=this;this.$nextTick(function(){e.actualToken=e.actualSearchString,e.inputSearchColor="black"})},searchHistoryEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(""===this.actualToken&&this.searchHistory.length>0&&(0===this.acceptedTokens.length||this.searchHistoryIndex>=0)&&this.searchHistory.length>0&&(e>0||this.searchHistoryIndex>0)&&this.searchHistoryIndex+e<this.searchHistory.length){this.searchHistoryIndex+=e;var i=this.searchHistory[this.searchHistoryIndex];this.acceptedTokens=i.acceptedTokens.slice(0),this.searchContextId=i.searchContextId,this.searchRequestId=i.searchRequestId,null!==t&&t.preventDefault()}},askForSuggestion:function(){var e=this;return 0===this.acceptedTokens.length&&0===this.searchInput.$refs.input.selectionStart&&(this.search("",function(t){e.autocompleteEl.__clearSearch(),Array.isArray(t)&&t.length>0?(e.autocompleteEl.results=t,e.autocompleteEl.__showResults()):e.autocompleteEl.hide()}),!0)}}),watch:{actualSearchString:function(){this.resetSearchInput()},searchResult:function(e){var t=this;this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null);var i,n=e.requestId,s=e.contextId;if(null===this.searchContextId)this.searchContextId=s;else if(s!==this.searchContextId)return console.warn("Something strange was happened: differents search context ids:\n\n        actual: ".concat(this.searchContextId," / received: ").concat(s)),void this.setSpinner(l()({},d["c"].SPINNER_ERROR,{owner:this.$options.name,errorMessage:"Different search context id"}));if(this.searchRequestId!==n)return console.log("Result discarded for bad request id:\n\n        actual: ".concat(this.searchRequestId," / received: ").concat(n,"\n")),void this.setSpinner(l()({},d["c"].SPINNER_ERROR,{owner:this.$options.name,errorMessage:"Different search request id"}));null!==this.result&&this.result.requestId===n&&(i=e.matches).push.apply(i,C()(this.result.matches)),this.result=e;var o=this.result.matches,a=[];o.forEach(function(e){var i=d["c"].MATCH_TYPES[e.matchType];if("undefined"!==typeof i){var n=i;if(null!==e.mainSemanticType){var s=d["c"].SEMANTIC_TYPES[e.mainSemanticType];"undefined"!==typeof s&&(n=s)}"SEPARATOR"===e.matchType?a.push({value:e.name,label:e.name,labelLines:1,rgb:n.rgb,selected:!1,disable:!0}):a.push({value:e.name,label:e.name,labelLines:1,sublabel:e.description,sublabelLines:1,letter:n.symbol,leftInverted:!0,leftColor:n.color,rgb:n.rgb,id:e.id,index:t.acceptedTokens.length+1,selected:!1})}else console.warn("Unknown type: ".concat(e.matchType))}),0===a.length&&this.$q.notify({message:this.$t("messages.noSearchResults"),type:"info",timeout:1e3}),this.setSpinner(l()({},d["c"].SPINNER_STOPPED,{owner:this.$options.name})),ye["a"].nextTick(function(){t.doneFunc(a),t.autocompleteEl.keyboardIndex=0})},acceptedTokens:function(){var e=this;ye["a"].nextTick(function(){var t=e.searchDiv.scrollWidth;e.scrolled!==t&&(e.searchDiv.scrollLeft=t,e.scrolled=t)})},searchIsFocused:function(e){e?(this.searchInput.focus(),this.acceptedTokens.forEach(function(e){e.selected=!1})):this.searchInput.blur()},searchLostChar:function(e){null!==e&&("ArrowUp"===e?this.searchHistoryEvent(1):"ArrowDown"===e?this.searchHistoryEvent(-1):" "===e?this.askForSuggestion():this.actualSearchString=this.actualSearchString+e,this.resetSearchLostChar())}},mounted:function(){this.searchDiv=this.$refs["mc-search-div"],this.searchInput=this.$refs["mc-search-input"],this.autocompleteEl=this.$refs["mc-autocomplete"],null!==this.searchLostChar?"ArrowUp"===this.searchLostChar?this.searchHistoryEvent(1):"ArrowDown"===this.searchLostChar?this.searchHistoryEvent(-1):" "===this.searchLostChar?this.askForSuggestion():this.actualSearchString=this.searchLostChar:this.actualSearchString="",this.inputSearchColor="black"}},Ce=we,Me=(i("aff7"),Object(R["a"])(Ce,pe,ge,!1,null,null,null));Me.options.__file="KlabSearch.vue";var Ie=Me.exports,Ee=i("abcf"),Te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:[e.light?"sr-light":"sr-dark"],style:{width:e.width},attrs:{id:"sr-container"},on:{click:function(t){e.scaleEditing=e.editable}}},[e.hasScale?i("div",{class:[e.full?"sr-full":""],attrs:{id:"sr-scalereference"}},[e.full?i("div",{staticClass:"sr-item mdi sr-icon",class:[e.isScaleLocked[e.scaleType]?"mdi-lock-outline":"mdi-lock-open-outline"],style:{cursor:e.isScaleLocked[e.scaleType]?"pointer":"default"},attrs:{id:"sr-locked"},on:{click:function(t){t.preventDefault(),e.isScaleLocked&&e.unlockScale(t)}}},[i("q-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.isScaleLocked[e.scaleType],expression:"isScaleLocked[scaleType]"}],attrs:{anchor:"bottom middle",self:"top middle",offset:[0,5]}},[e._v(e._s(e.$t("label.clickToUnlock")))])],1):e._e(),i("div",{style:{cursor:e.editable?"pointer":"default"},attrs:{id:"sr-editables"}},[i("div",{staticClass:"sr-item",class:["space"===e.scaleType?"mdi "+e.type+" sr-icon":""],attrs:{id:"sr-scaletype"}},[e._v(e._s("time"===e.scaleType?e.type:""))]),i("div",{staticClass:"sr-item",attrs:{id:"sr-description"}},[e._v(e._s(e.description))]),i("div",{staticClass:"sr-item",attrs:{id:"sr-spacescale"}},[e._v(e._s(e.scale))]),e.editable?i("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,5]}},[e._v(e._s(e.$t("label.clickToEditScale")))]):e._e()],1)]):i("div",{attrs:{id:"sr-no-scalereference"}},[i("p",[e._v(e._s(e.$t("label.noScaleReference")))])])])},Se=[];Te._withStripped=!0;var Oe=i("c1df"),xe=i.n(Oe),Ne={name:"ScaleReference",props:{scaleType:{type:String,validator:function(e){return-1!==["space","time"].indexOf(e)},default:"space"},width:{type:String,default:"150px"},light:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},full:{type:Boolean,default:!1}},computed:l()({},Object(c["c"])("data",["scaleReference","isScaleLocked"]),{resolution:function(){return"space"===this.scaleType?this.scaleReference.spaceResolution:""},unit:function(){return"space"===this.scaleType?this.scaleReference.spaceUnit:xe()().year()},type:function(){return"space"===this.scaleType?"mdi-grid":"YEAR"},description:function(){return"space"===this.scaleType?"".concat(this.resolution," ").concat(this.unit):this.unit},scale:function(){return"space"===this.scaleType?this.scaleReference.spaceScale:"3"},hasScale:function(){return null!==this.scaleReference},scaleEditing:{get:function(){return this.$store.getters["view/isScaleEditing"]},set:function(e){this.setScaleEditing({active:e,type:this.scaleType})}}}),methods:l()({},Object(c["b"])("data",["setScaleLocked"]),Object(c["b"])("view",["setScaleEditing"]),{unlockScale:function(e){e.stopPropagation(),this.sendStompMessage(be["a"].SCALE_REFERENCE({scaleReference:this.scaleReference,unlockSpace:"space"===this.scaleType,unlockTime:"time"===this.scaleType,session:this.$store.state.data.session}).body),this.setScaleLocked({scaleType:this.scaleType,scaleLocked:!1})}})},ke=Ne,Le=(i("cf61"),Object(R["a"])(ke,Te,Se,!1,null,null,null));Le.options.__file="ScaleReference.vue";var _e=Le.exports,Ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return null!==e.scaleReference?i("q-dialog",{attrs:{title:e.$t("label.titleChangeScale",{type:"space"===e.scaleEditingType?e.$t("label.labelSpatial"):e.$t("label.labelTemporal")}),color:"info",cancel:!0,ok:!1},on:{show:e.initValues},scopedSlots:e._u([{key:"buttons",fn:function(t){return[i("q-btn",{attrs:{color:"info",outline:"",label:"Cancel"},on:{click:t.cancel}}),i("q-btn",{attrs:{color:"info",label:"Ok"},on:{click:function(i){e.choose(t.ok)}}})]}}]),model:{value:e.scaleEditing,callback:function(t){e.scaleEditing=t},expression:"scaleEditing"}},[i("div",{attrs:{slot:"body"},slot:"body"},[i("q-input",{attrs:{type:"number",min:"0",color:"info",autofocus:"",after:[{icon:"warning",error:!0,condition:e.resolutionError}],"stack-label":e.resolutionError?e.$t("messages.changeScaleResolutionError"):e.$t("label.resolutionLabel")},model:{value:e.resolution,callback:function(t){e.resolution=t},expression:"resolution"}}),i("q-select",{attrs:{"float-label":e.$t("label.unitLabel"),color:"info",options:e.units},model:{value:e.unit,callback:function(t){e.unit=t},expression:"unit"}})],1)]):e._e()},je=[];Ae._withStripped=!0;i("96cf");var De=i("c973"),ze=i.n(De),Re={name:"ScaleChangeDialog",data:function(){return{resolution:null,unit:null,units:[{label:this.$t("label.labelCm"),value:"cm"},{label:this.$t("label.labelM"),value:"m"},{label:this.$t("label.labelKm"),value:"km"}],resolutionError:!1}},computed:l()({},Object(c["c"])("data",["scaleReference"]),Object(c["c"])("view",["scaleEditingType"]),{scaleEditing:{get:function(){return this.$store.getters["view/isScaleEditing"]},set:function(e){this.setScaleEditing({active:e,type:this.scaleEditingType})}}}),methods:l()({},Object(c["b"])("data",["setScaleLocked","updateScaleReference"]),Object(c["b"])("view",["setScaleEditing"]),{choose:function(){var e=ze()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("resolution: ".concat(this.resolution," & unit: ").concat(this.unit)),!(""===this.resolution||this.resolution<=0)){e.next=5;break}this.resolutionError=!0,e.next=12;break;case 5:return e.next=7,t();case 7:this.resolutionError=!1,this.sendStompMessage(be["a"].SCALE_REFERENCE(l()({scaleReference:this.scaleReference},"space"===this.scaleEditingType&&{spaceResolution:this.resolution},"space"===this.scaleEditingType&&{spaceUnit:this.unit},"time"===this.scaleEditingType&&{timeResolution:this.resolution},"time"===this.scaleEditingType&&{timeUnit:this.unit},{session:this.$store.state.data.session})).body),this.setScaleLocked({scaleType:this.scaleEditingType,scaleLocked:!0}),this.updateScaleReference({type:this.scaleEditingType,resolution:this.resolution,unit:this.unit}),this.$q.notify({message:this.$t("messages.updateScale",{type:this.scaleEditingType,resolution:this.resolution,unit:this.unit}),type:"info",timeout:1e3});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),initValues:function(){null!==this.scaleReference&&(this.resolution="space"===this.scaleEditingType?this.scaleReference.spaceResolution:this.scaleReference.timeResolution,this.unit="space"===this.scaleEditingType?this.scaleReference.spaceUnit:this.scaleReference.timeUnit)}})},Pe=Re,Ye=(i("a101"),Object(R["a"])(Pe,Ae,je,!1,null,null,null));Ye.options.__file="ScaleChangeDialog.vue";var Be=Ye.exports,Ve=Ee["b"].width,We=Ee["b"].height,$e={name:"klabMainControl",data:function(){return{isHidden:!1,draggableConfMain:{handle:void 0,resetInitialPos:!1,onDragEnd:this.checkWhereWasDragged},boundingElement:void 0,selectedTab:"klab-tree-pane",draggableElement:void 0,centeredLeft:this.defaultLeft}},computed:l()({},Object(c["c"])("data",["hasContext","hasObservations","contextLabel","lasts","tree"]),Object(c["c"])("view",["spinner","searchIsActive","searchIsFocused","mainViewer","reloadReport"]),Object(c["c"])("stomp",["hasTasks","lastActiveTask"]),{spinnerColor:function(){return p["a"].getColorObject(this.spinner.color)},reportTooltip:function(){return this.hasObservations?null:this.$t("tooltips.noReportNoObservation")}}),methods:l()({},Object(c["b"])("view",["searchStop","setMainViewer"]),{resetContext:function(){this.sendStompMessage(be["a"].RESET_CONTEXT(this.$store.state.data.session).body)},interruptTask:function(){var e=this.lastActiveTask;null!==e&&this.sendStompMessage(be["a"].TASK_INTERRUPTED({session:this.$store.state.data.session,taskId:e.id}).body)},hide:function(){this.draggableConfMain.resetInitialPos=!1,this.isHidden=!0},show:function(){this.draggableConfMain.resetInitialPos=!1,this.isHidden=!1},getCenteredLeft:function(){if("undefined"!==typeof this.draggableElement&&!this.hasContext){var e=Ve(this.draggableElement),t=Ve(this.boundingElement);return(t-e)/2}return this.defaultLeft},changeDraggablePosition:function(e){this.draggableElement.style.left="".concat(e.left,"px"),this.draggableElement.style.top="".concat(e.top,"px");var t=JSON.parse(this.draggableConfMain.handle.getAttribute("draggable-state"));t.startDragPosition=e,t.currentDragPosition=e,document.getElementById("mc-q-card-title").setAttribute("draggable-state",JSON.stringify(t))},preventDrag:function(e){e.preventDefault()},checkWhereWasDragged:function(){this.draggableElement.offsetTop<0&&this.changeDraggablePosition({top:0,left:Math.max(this.draggableElement.offsetLeft,0)}),this.draggableElement.offsetLeft+this.draggableElement.offsetWidth<=0&&this.changeDraggablePosition({top:Math.max(this.draggableElement.offsetTop,0),left:0}),this.draggableElement.offsetLeft>=Ve(this.boundingElement)&&this.changeDraggablePosition({top:Math.max(this.draggableElement.offsetTop,0),left:Math.max(Ve(this.boundingElement)-this.draggableElement.offsetWidth,0)}),this.draggableElement.offsetTop>=We(this.boundingElement)&&this.changeDraggablePosition({top:Math.max(We(this.boundingElement)-this.draggableElement.offsetHeight,0),left:Math.max(this.draggableElement.offsetLeft,0)})}}),watch:{hasContext:function(){this.changeDraggablePosition({top:this.defaultTop,left:this.hasContext?this.defaultLeft:this.getCenteredLeft()})}},created:function(){this.defaultTop=25,this.defaultLeft=15,this.VIEWERS=d["b"]},mounted:function(){var e=this;this.draggableElement=document.getElementById("mc-q-card"),this.draggableConfMain.handle=document.getElementById("mc-q-card-title"),this.boundingElement=document.getElementById("viewer-container"),this.centeredLeft=this.getCenteredLeft(),this.draggableConfMain.initialPosition={left:this.centeredLeft,top:this.defaultTop},this.$eventBus.$on("map-size-changed",function(){e.draggableConfMain.initialPosition={left:e.centeredLeft,top:e.defaultTop},e.checkWhereWasDragged()})},directives:{Draggable:f["Draggable"]},components:{ScaleReference:_e,ScaleChangeDialog:Be,KlabTreePane:se,KlabLogPane:fe,KlabSpinner:g["a"],KlabSearch:Ie}},qe=$e,Fe=(i("96fa"),Object(R["a"])(qe,u,h,!1,null,null,null));Fe.options.__file="KlabMainControl.vue";var He=Fe.exports,Ge=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"no-padding relative-position full-width"},e._l(e.dataViewers,function(t){return i("div",{key:t.idx,class:["no-padding",t.main?"absolute-top full-height full-width":"absolute thumb-view"],style:e.viewerStyle(t)},[t.main?e._e():i("div",{staticClass:"thumb-viewer-title absolute-top"},[i("div",{staticClass:"relative-position"},[i("div",{staticClass:"thumb-viewer-label float-left q-ma-sm"},[e._v("\n        "+e._s(t.idx)+"\n      ")]),i("div",{staticClass:"float-right q-ma-sm"},[i("q-btn",{staticClass:"shadow-1",attrs:{round:"",color:"red-6",size:"xs",icon:"mdi-chevron-up"},on:{click:function(i){e.setMainDataViewer(t.idx)}}})],1)])]),i(t.type,{tag:"component",attrs:{idx:t.idx}})],1)}))},Ue=[];Ge._withStripped=!0;var Xe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fit no-padding map-viewer"},[i("div",{ref:"map"+e.idx,staticClass:"fit",attrs:{id:"map"+e.idx}}),i("q-icon",{attrs:{name:"mdi-crosshairs",id:"map-selection-marker"}}),i("q-resize-observable",{on:{resize:e.handleResize}})],1)},Ze=[];Xe._withStripped=!0;var Qe=i("741d"),Ke=i("e300"),Je=i("9c78"),et=i("c810"),tt=i("592d"),it=i("e269"),nt={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},st=i("cd7e"),ot=i("0999"),at=i("1e8d"),rt=i("0af5"),lt={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},ct=function(e){function t(t){e.call(this),this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container "+st["d"],this.element.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.autoPanAnimation=t.autoPanAnimation||{},this.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,Object(at["a"])(this,Object(it["b"])(lt.ELEMENT),this.handleElementChanged,this),Object(at["a"])(this,Object(it["b"])(lt.MAP),this.handleMapChanged,this),Object(at["a"])(this,Object(it["b"])(lt.OFFSET),this.handleOffsetChanged,this),Object(at["a"])(this,Object(it["b"])(lt.POSITION),this.handlePositionChanged,this),Object(at["a"])(this,Object(it["b"])(lt.POSITIONING),this.handlePositioningChanged,this),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(void 0!==t.positioning?t.positioning:nt.TOP_LEFT),void 0!==t.position&&this.setPosition(t.position)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){return this.get(lt.ELEMENT)},t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.get(lt.MAP)},t.prototype.getOffset=function(){return this.get(lt.OFFSET)},t.prototype.getPosition=function(){return this.get(lt.POSITION)},t.prototype.getPositioning=function(){return this.get(lt.POSITIONING)},t.prototype.handleElementChanged=function(){Object(ot["d"])(this.element);var e=this.getElement();e&&this.element.appendChild(e)},t.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(ot["e"])(this.element),Object(at["e"])(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=Object(at["a"])(e,tt["a"].POSTRENDER,this.render,this),this.updatePixelPosition();var t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element)}},t.prototype.render=function(){this.updatePixelPosition()},t.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},t.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(lt.POSITION)&&this.autoPan&&this.panIntoView()},t.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},t.prototype.setElement=function(e){this.set(lt.ELEMENT,e)},t.prototype.setMap=function(e){this.set(lt.MAP,e)},t.prototype.setOffset=function(e){this.set(lt.OFFSET,e)},t.prototype.setPosition=function(e){this.set(lt.POSITION,e)},t.prototype.panIntoView=function(){var e=this.getMap();if(e&&e.getTargetElement()){var t=this.getRect(e.getTargetElement(),e.getSize()),i=this.getElement(),n=this.getRect(i,[Object(ot["c"])(i),Object(ot["b"])(i)]),s=this.autoPanMargin;if(!Object(rt["g"])(t,n)){var o=n[0]-t[0],a=t[2]-n[2],r=n[1]-t[1],l=t[3]-n[3],c=[0,0];if(o<0?c[0]=o-s:a<0&&(c[0]=Math.abs(a)+s),r<0?c[1]=r-s:l<0&&(c[1]=Math.abs(l)+s),0!==c[0]||0!==c[1]){var d=e.getView().getCenter(),u=e.getPixelFromCoordinate(d),h=[u[0]+c[0],u[1]+c[1]];e.getView().animate({center:e.getCoordinateFromPixel(h),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},t.prototype.getRect=function(e,t){var i=e.getBoundingClientRect(),n=i.left+window.pageXOffset,s=i.top+window.pageYOffset;return[n,s,n+t[0],s+t[1]]},t.prototype.setPositioning=function(e){this.set(lt.POSITIONING,e)},t.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},t.prototype.updatePixelPosition=function(){var e=this.getMap(),t=this.getPosition();if(e&&e.isRendered()&&t){var i=e.getPixelFromCoordinate(t),n=e.getSize();this.updateRenderedPosition(i,n)}else this.setVisible(!1)},t.prototype.updateRenderedPosition=function(e,t){var i=this.element.style,n=this.getOffset(),s=this.getPositioning();this.setVisible(!0);var o=n[0],a=n[1];if(s==nt.BOTTOM_RIGHT||s==nt.CENTER_RIGHT||s==nt.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=i.left="");var r=Math.round(t[0]-e[0]-o)+"px";this.rendered.right_!=r&&(this.rendered.right_=i.right=r)}else{""!==this.rendered.right_&&(this.rendered.right_=i.right=""),s!=nt.BOTTOM_CENTER&&s!=nt.CENTER_CENTER&&s!=nt.TOP_CENTER||(o-=this.element.offsetWidth/2);var l=Math.round(e[0]+o)+"px";this.rendered.left_!=l&&(this.rendered.left_=i.left=l)}if(s==nt.BOTTOM_LEFT||s==nt.BOTTOM_CENTER||s==nt.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=i.top="");var c=Math.round(t[1]-e[1]-a)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=i.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=i.bottom=""),s!=nt.CENTER_LEFT&&s!=nt.CENTER_CENTER&&s!=nt.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var d=Math.round(e[1]+a)+"px";this.rendered.top_!=d&&(this.rendered.top_=i.top=d)}},t.prototype.getOptions=function(){return this.options},t}(it["a"]),dt=ct,ut=i("256f"),ht=i("b2da"),ft=i.n(ht),pt=(i("c58e"),{name:"MapViewer",props:{idx:{type:Number,required:!0}},data:function(){return{center:Z["b"].center,zoom:Z["b"].zoom,map:null,view:null,layers:new Ke["a"],zIndexCounter:0,baseLayers:null,mapSelectionMarker:void 0}},computed:l()({observations:function(){return this.$store.getters["data/observations"](this.idx)}},Object(c["c"])("data",["hasContext","session"]),Object(c["c"])("view",["contextGeometry","observationInfo","exploreMode","mapSelection"])),methods:l()({},Object(c["b"])("view",["addToKexplorerLog","setSpinner","setMapSelection"]),{handleResize:function(){null!==this.map&&(console.debug("HandleResize called!!!"),this.map.updateSize(),this.$eventBus.$emit("map-size-changed"))},onMoveEnd:function(){this.hasContext||this.sendRegionOfInterest()},sendRegionOfInterest:function(){var e=null;try{e=be["a"].REGION_OF_INTEREST(Object(ut["k"])(this.map.getView().calculateExtent(this.map.getSize()),"EPSG:3857","EPSG:4326"),this.session)}catch(e){console.error(e),this.addToKexplorerLog({type:this.$constants.TYPE_ERROR,payload:{message:e.message,attach:e}})}e&&e.body&&(this.sendStompMessage(e.body),this.addToKexplorerLog({type:this.$constants.TYPE_INFO,payload:{message:"Message ".concat(e.validated?"":"not "," validated"),attach:e}}))},findExistingLayerById:function(e){if(this.layers&&null!==this.layers){var t=this.layers.getArray();return t.find(function(t){return t.get("id")===e.id})}return null},findLayerById:function(){var e=ze()(regeneratorRuntime.mark(function e(t){var i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=this.findExistingLayerById(t),"undefined"===typeof i||null===i){e.next=3;break}return e.abrupt("return",i);case 3:return e.prev=3,console.log("Creating layer: ".concat(t.label)),e.next=7,M["b"].getLayerObject(t,{projection:this.proj});case 7:return n=e.sent,this.zIndexCounter+=1,t.zIndex=this.zIndexCounter+t.zIndexOffset,n.setZIndex(t.zIndex),this.layers.push(n),e.abrupt("return",n);case 15:return e.prev=15,e.t0=e["catch"](3),console.error(e.t0.message),this.$q.notify({message:e.t0.message,type:"negative",timeout:3e3}),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,this,[[3,15]])}));return function(t){return e.apply(this,arguments)}}(),drawContext:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==t&&(this.layers.clear(),this.baseLayers.removeMask()),null===this.contextGeometry)return console.log("No context, send region of interest"),void this.sendRegionOfInterest();this.baseLayers.setMask(this.contextGeometry),this.view.fit(this.contextGeometry,{padding:[10,10,10,10],constrainResolution:!1})},drawObservations:function(){var e=this;this.observations&&this.observations.length>0&&this.observations.forEach(function(t){e.findLayerById(t).then(function(e){null!==e&&(e.setVisible(t.visible),e.setOpacity(t.layerOpacity),t.top?e.setZIndex(t.zIndexOffset+(Z["d"].ZINDEX_OFFSET-1)):e.setZIndex(t.zIndex))})})}}),watch:{contextGeometry:function(e,t){this.drawContext(e,t)},observations:{handler:function(){this.drawObservations(!1)},deep:!0},center:function(){this.view.setCenter(this.center)},mapSelection:function(e){"undefined"!==typeof e&&null!==e&&null!==e.pixelSelected?this.mapSelectionMarker.setPosition(e.pixelSelected):this.mapSelectionMarker.setPosition(void 0)}},mounted:function(){var e=this;this.baseLayers=Z["a"],this.baseLayers.layers.forEach(function(t){t.get("name")===e.$baseLayer&&t.setVisible(!0);var i=t;i.on("propertychange",function(e){"propertychange"===e.type&&"visible"===e.key&&e.target.get(e.key)&&Qe["a"].set(M["a"].COOKIE_BASELAYER,i.get("name"),{expires:30,path:"/"})})}),this.map=new U["a"]({view:new X["a"]({center:this.center,zoom:this.zoom}),layers:this.baseLayers.layers,target:"map".concat(this.idx),loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),this.map.on("moveend",this.onMoveEnd),this.map.on("pointermove",function(t){e.exploreMode&&!t.dragging&&e.contextGeometry.intersectsCoordinate(t.coordinate)?e.map.getTargetElement().style.cursor="crosshair":e.map.getTargetElement().style.cursor=""}),this.map.on("click",function(t){if(e.exploreMode&&e.contextGeometry.intersectsCoordinate(t.coordinate)){var i=e.findExistingLayerById(e.observationInfo),n=new et["a"]({id:"cl_".concat(e.observationInfo.id),source:i.getSource()});e.setMapSelection({pixelSelected:t.coordinate,layerSelected:n})}}),this.view=this.map.getView(),this.proj=this.view.getProjection(),this.map.addLayer(new Je["a"]({layers:this.layers}));var t=new ft.a;this.map.addControl(t),this.mapSelectionMarker=new dt({element:document.getElementById("map-selection-marker"),positioning:"center-center"}),this.map.addOverlay(this.mapSelectionMarker),this.drawContext(),this.drawObservations()}}),gt=pt,mt=(i("c612"),Object(R["a"])(gt,Xe,Ze,!1,null,null,null));mt.options.__file="MapViewer.vue";var vt=mt.exports,bt=[],yt={computed:l()({},Object(c["c"])("view",["dataViewers","mainDataViewer"])),methods:l()({},Object(c["b"])("view",["setMainDataViewer"]),{viewerStyle:function(e){return e.main?"":(bt.push(e),0===bt.length?"left: 0":"left: ".concat(200*(bt.length-1)+10*(bt.length-1),"px"))}}),watch:{mainDataViewer:function(){bt=[]}},components:{MapViewer:vt},beforeUpdate:function(){bt=[]},mounted:function(){bt=[]}},wt=yt,Ct=(i("bee3"),Object(R["a"])(wt,Ge,Ue,!1,null,"9433f5ba",null));Ct.options.__file="DataViewer.vue";var Mt=Ct.exports,It=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"full-width",attrs:{id:"mc-report-wrapper"}},[i("div",{attrs:{id:"mc-report-content"},domProps:{innerHTML:e._s(e.report)}})])},Et=[];It._withStripped=!0;var Tt=i("be3b"),St={name:"ReportViewer",data:function(){return{report:this.$t("messages.noLoadedReport"),scrollBar:void 0}},computed:l()({},Object(c["c"])("data",["hasContext","contextId","hasObservations"]),Object(c["c"])("view",["reloadReport"])),methods:l()({},Object(c["b"])("view",["setReloadReport"]),{loadReport:function(){var e=this;this.reloadReport&&this.hasContext&&this.hasObservations&&Tt["a"].get("".concat("").concat("/modeler/engine/session/observation/","report/").concat(this.contextId),{}).then(function(t){var i=t.data;""===i&&(console.warn("Empty report"),i=e.$t("messages.emptyReport")),e.report=i,e.setReloadReport(!1)})}}),watch:{reloadReport:function(){this._inactive||this.loadReport()}},activated:function(){this.loadReport()},mounted:function(){}},Ot=St,xt=(i("0632"),Object(R["a"])(Ot,It,Et,!1,null,null,null));xt.options.__file="ReportViewer.vue";var Nt=xt.exports,kt=i("fb82"),Lt=(i("5bc0"),i("8195"),{name:"IndexPage",computed:l()({},Object(c["c"])("stomp",["connectionState"]),Object(c["c"])("view",["searchIsActive","searchIsFocused","mainViewer","isScaleEditing"]),{logVisible:function(){return this.$logVisibility===this.$constants.PARAMS_LOG_VISIBLE},modalVisible:{get:function(){return this.connectionState!==this.$constants.CONNECTION_UP},set:function(e){console.warn("try to set modalVisible as ".concat(e))}},modalText:function(){var e;return(e={},a()(e,this.$constants.CONNECTION_UNKNOWN,this.$t("messages.connectionClosed")),a()(e,this.$constants.CONNECTION_DOWN,this.$t("messages.connectionClosed")),a()(e,this.$constants.CONNECTION_WORKING,this.$t("messages.connectionWorking")),a()(e,this.$constants.CONNECTION_ERROR,this.$t("errors.connectionError")),e)[this.connectionState]},modalColor:function(){var e;return(e={},a()(e,this.$constants.CONNECTION_UNKNOWN,kt["a"].getBrand("warning")),a()(e,this.$constants.CONNECTION_DOWN,kt["a"].getBrand("warning")),a()(e,this.$constants.CONNECTION_WORKING,kt["a"].getBrand("info")),a()(e,this.$constants.CONNECTION_ERROR,kt["a"].getBrand("negative")),e)[this.connectionState]},modalAnimated:function(){var e;return(e={},a()(e,this.$constants.CONNECTION_UNKNOWN,!1),a()(e,this.$constants.CONNECTION_DOWN,!1),a()(e,this.$constants.CONNECTION_WORKING,!0),a()(e,this.$constants.CONNECTION_ERROR,!1),e)[this.connectionState]}}),methods:l()({},Object(c["b"])("view",["searchStart","searchStop","searchFocus","setMainViewer"])),components:{KlabMainControl:He,DataViewer:Mt,ReportViewer:Nt,KlabSpinner:g["a"]},watch:{},created:function(){"undefined"===typeof this.mainViewer&&this.setMainViewer(d["b"].DATA_VIEWER)},mounted:function(){var e=this;window.addEventListener("keydown",function(t){if(!e.modalVisible&&!e.isScaleEditing)return 27===t.keyCode&&e.searchIsActive?(e.searchStop(),void t.preventDefault()):void((38===t.keyCode||40===t.keyCode||32===t.keyCode||t.keyCode>=65&&t.keyCode<=90)&&(e.searchIsActive?e.searchIsFocused||(e.searchFocus({char:t.key,focused:!0}),t.preventDefault()):(e.searchStart(t.key),t.preventDefault())))})}}),_t=Lt,At=(i("8bdc"),i("4332"),Object(R["a"])(_t,n,s,!1,null,"e4e503ae",null));At.options.__file="index.vue";t["default"]=At.exports},"96fa":function(e,t,i){"use strict";var n=i("fd0f"),s=i.n(n);s.a},"98ab":function(e,t,i){},a101:function(e,t,i){"use strict";var n=i("e524"),s=i.n(n);s.a},a27f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("bcc9");t.Draggable=n.Draggable},a663:function(e,t,i){"use strict";var n=i("84fd"),s=i.n(n);s.a},aff7:function(e,t,i){"use strict";var n=i("7bae"),s=i.n(n);s.a},b2da:function(e,t,i){(function(t,n){e.exports=n(i("3900"),i("35a7"))})(0,function(e,t){"use strict";e="default"in e?e["default"]:e,t="default"in t?t["default"]:t;var i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function e(t,i,n){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,i);if(void 0===s){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,i,n)}if("value"in s)return s.value;var a=s.get;return void 0!==a?a.call(n):void 0},o=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},r=function(e){function r(e){i(this,r);var t=e||{},n=t.tipLabel?t.tipLabel:"Legend",s=document.createElement("div"),o=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{element:s,target:t.target}));o.mapListeners=[],o.hiddenClassName="ol-unselectable ol-control layer-switcher",r.isTouchDevice_()&&(o.hiddenClassName+=" touch"),o.shownClassName="shown",s.className=o.hiddenClassName;var l=document.createElement("button");l.setAttribute("title",n),s.appendChild(l),o.panel=document.createElement("div"),o.panel.className="panel",s.appendChild(o.panel),r.enableTouchScroll_(o.panel);var c=o;return l.onmouseover=function(e){c.showPanel()},l.onclick=function(e){e=e||window.event,c.showPanel(),e.preventDefault()},c.panel.onmouseout=function(e){e=e||window.event,c.panel.contains(e.toElement||e.relatedTarget)||c.hidePanel()},o}return o(r,e),n(r,[{key:"setMap",value:function(e){for(var i=0;i<this.mapListeners.length;i++)t.unByKey(this.mapListeners[i]);if(this.mapListeners.length=0,s(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"setMap",this).call(this,e),e){var n=this;this.mapListeners.push(e.on("pointerdown",function(){n.hidePanel()})),this.renderPanel()}}},{key:"showPanel",value:function(){this.element.classList.contains(this.shownClassName)||(this.element.classList.add(this.shownClassName),this.renderPanel())}},{key:"hidePanel",value:function(){this.element.classList.contains(this.shownClassName)&&this.element.classList.remove(this.shownClassName)}},{key:"renderPanel",value:function(){r.renderPanel(this.getMap(),this.panel)}}],[{key:"renderPanel",value:function(e,t){r.ensureTopVisibleBaseLayerShown_(e);while(t.firstChild)t.removeChild(t.firstChild);var i=document.createElement("ul");t.appendChild(i),r.renderLayers_(e,e,i)}},{key:"ensureTopVisibleBaseLayerShown_",value:function(e){var t;r.forEachRecursive(e,function(e,i,n){"base"===e.get("type")&&e.getVisible()&&(t=e)}),t&&r.setVisible_(e,t,!0)}},{key:"setVisible_",value:function(e,t,i){t.setVisible(i),i&&"base"===t.get("type")&&r.forEachRecursive(e,function(e,i,n){e!=t&&"base"===e.get("type")&&e.setVisible(!1)})}},{key:"renderLayer_",value:function(e,t,i){var n=document.createElement("li"),s=t.get("title"),o=r.uuid(),a=document.createElement("label");if(t.getLayers&&!t.get("combine")){n.className="group",a.innerHTML=s,n.appendChild(a);var l=document.createElement("ul");n.appendChild(l),r.renderLayers_(e,t,l)}else{n.className="layer";var c=document.createElement("input");"base"===t.get("type")?(c.type="radio",c.name="base"):c.type="checkbox",c.id=o,c.checked=t.get("visible"),c.onchange=function(i){r.setVisible_(e,t,i.target.checked)},n.appendChild(c),a.htmlFor=o,a.innerHTML=s;var d=e.getView().getResolution();(d>t.getMaxResolution()||d<t.getMinResolution())&&(a.className+=" disabled"),n.appendChild(a)}return n}},{key:"renderLayers_",value:function(e,t,i){for(var n,s=t.getLayers().getArray().slice().reverse(),o=0;o<s.length;o++)n=s[o],n.get("title")&&i.appendChild(r.renderLayer_(e,n,o))}},{key:"forEachRecursive",value:function(e,t){e.getLayers().forEach(function(e,i,n){t(e,i,n),e.getLayers&&r.forEachRecursive(e,t)})}},{key:"uuid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"==e?t:3&t|8;return i.toString(16)})}},{key:"enableTouchScroll_",value:function(e){if(r.isTouchDevice_()){var t=0;e.addEventListener("touchstart",function(e){t=this.scrollTop+e.touches[0].pageY},!1),e.addEventListener("touchmove",function(e){this.scrollTop=t-e.touches[0].pageY},!1)}}},{key:"isTouchDevice_",value:function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}}]),r}(e);return window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=r),r})},b878:function(e,t,i){},bcc9:function(e,t,i){"use strict";var n,s=this&&this.__assign||Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e};function o(e){return e&&e.$el||e}function a(e,t,i,n,s){void 0===s&&(s={});var o={left:i,top:n},a=e.height,r=e.width,l=n,c=n+a,d=i,u=i+r,h=s.top||0,f=s.bottom||0,p=s.left||0,g=s.right||0,m=t.top+h,v=t.bottom-f,b=t.left+p,y=t.right-g;return l<m?o.top=m:c>v&&(o.top=v-a),d<b?o.left=b:u>y&&(o.left=y-r),o}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e["Start"]=1]="Start",e[e["End"]=2]="End",e[e["Move"]=3]="Move"}(n||(n={})),t.Draggable={bind:function(e,i){t.Draggable.update(e,i)},update:function(e,t){if(!t.value||!t.value.stopDragging){var i=t.value&&t.value.handle&&o(t.value.handle)||e;t&&t.value&&t.value.resetInitialPos&&(p(),m()),i.getAttribute("draggable")||(e.removeEventListener("mousedown",e["listener"]),i.addEventListener("mousedown",u),i.setAttribute("draggable","true"),e["listener"]=u,p(),m())}function r(i){i.preventDefault();var n=t.value&&t.value.stopDragging;if(!n){var s=v();s.startDragPosition&&s.initialMousePos||(p(i),s=v());var o=i.clientX-s.initialMousePos.left,r=i.clientY-s.initialMousePos.top,d={left:s.startDragPosition.left+o,top:s.startDragPosition.top+r},u=l(),h=e.getBoundingClientRect();u&&h&&(d=a(h,u,d.left,d.top,t.value.boundingRectMargin)),g({currentDragPosition:d}),c(),m(i)}}function l(){if(t.value)return t.value.boundingRect||t.value.boundingElement&&t.value.boundingElement.getBoundingClientRect()}function c(){var t=v();t.currentDragPosition&&(e.style.position="fixed",e.style.left=t.currentDragPosition.left+"px",e.style.top=t.currentDragPosition.top+"px")}function d(e){e.preventDefault();var t=f();g({initialMousePos:void 0,startDragPosition:t,currentDragPosition:t}),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",d),m(e,n.End)}function u(e){e.preventDefault(),g({initialMousePos:h(e)}),m(e,n.Start),document.addEventListener("mousemove",r),document.addEventListener("mouseup",d)}function h(e){return e&&{left:e.clientX,top:e.clientY}}function f(){var t=e.getBoundingClientRect();if(t.height&&t.width)return{left:t.left,top:t.top}}function p(e){var i=v(),n=t&&t.value&&t.value.initialPosition,s=i.initialPosition,o=f(),a=n||s||o;g({initialPosition:a,startDragPosition:a,currentDragPosition:a,initialMousePos:h(e)}),c()}function g(e){var t=v(),n=s({},t,e);i.setAttribute("draggable-state",JSON.stringify(n))}function m(e,i){var o=v(),a={x:0,y:0};o.currentDragPosition&&o.startDragPosition&&(a.x=o.currentDragPosition.left-o.startDragPosition.left,a.y=o.currentDragPosition.top-o.startDragPosition.top);var r=o.currentDragPosition&&s({},o.currentDragPosition);i===n.End?t.value&&t.value.onDragEnd&&o&&t.value.onDragEnd(a,r,e):i===n.Start?t.value&&t.value.onDragStart&&o&&t.value.onDragStart(a,r,e):t.value&&t.value.onPositionChange&&o&&t.value.onPositionChange(a,r,e)}function v(){return JSON.parse(i.getAttribute("draggable-state"))||{}}}}},bee3:function(e,t,i){"use strict";var n=i("0ec6"),s=i.n(n);s.a},c58e:function(e,t,i){},c612:function(e,t,i){"use strict";var n=i("8b1b"),s=i.n(n);s.a},cf61:function(e,t,i){"use strict";var n=i("8e08"),s=i.n(n);s.a},d848:function(e,t,i){},db0a:function(e,t,i){"use strict";var n=i("e445"),s=i.n(n);s.a},e0e4:function(e,t,i){},e445:function(e,t,i){},e524:function(e,t,i){},f1ae:function(e,t,i){"use strict";var n=i("86cc"),s=i("4630");e.exports=function(e,t,i){t in e?n.f(e,t,s(0,i)):e[t]=i}},f58f:function(e,t,i){"use strict";var n=i("15f6"),s=i.n(n);s.a},f7aa:function(e,t,i){"use strict";var n=i("0611"),s=i.n(n);s.a},fd0f:function(e,t,i){}}]);