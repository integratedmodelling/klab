(function(e){function t(t){for(var a,i,n=t[0],l=t[1],c=t[2],u=0,p=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,i=1;i<s.length;i++){var l=s[i];0!==o[l]&&(a=!1)}a&&(r.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},o={0:0},r=[];function i(e){return n.p+"js/"+({}[e]||e)+"."+{2:"53327ba1"}[e]+".js"}function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.e=function(e){var t=[],s=o[e];if(0!==s)if(s)t.push(s[2]);else{var a=new Promise((function(t,a){s=o[e]=[t,a]}));t.push(s[2]=a);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.src=i(e);var c=new Error;r=function(t){l.onerror=l.onload=null,clearTimeout(u);var s=o[e];if(0!==s){if(s){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",c.name="ChunkLoadError",c.type=a,c.request=r,s[1](c)}o[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(t)},n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/hub/ui/",n.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;r.push([0,1]),s()})({0:function(e,t,s){e.exports=s("2f39")},"064a":function(e,t,s){},"0f54":function(e,t,s){"use strict";var a=s("96c3"),o=s.n(a);o.a},"19b3":function(e,t,s){},"1c8c":function(e,t,s){},"1ccf":function(e,t,s){"use strict";var a=s("78b3"),o=s.n(a);o.a},"1e8d":function(e,t,s){"use strict";var a=s("ba08"),o=s.n(a);o.a},2312:function(e,t,s){"use strict";var a=s("ba74"),o=s.n(a);o.a},2674:function(e,t,s){},"26be":function(e,t,s){"use strict";var a=s("1c8c"),o=s.n(a);o.a},"2f39":function(e,t,s){"use strict";s.r(t);s("5319");var a=s("c973"),o=s.n(a),r=(s("1867"),s("e54f"),s("7d6e"),s("62f2"),s("7e6d"),s("3bcb"),s("2b0e")),i=s("b05d"),n=s("4d5a"),l=s("e359"),c=s("9404"),u=s("09e3"),d=s("9989"),p=s("65c6"),m=s("6ac5"),h=s("9c40"),g=s("0016"),f=s("1c1c"),b=s("66e5"),v=s("4074"),k=s("0170"),w=s("27f9"),E=s("d66b"),_=s("ddd8"),C=s("b047"),S=s("8f8e"),q=s("52ee"),y=s("7cbe"),O=s("9564"),$=s("e7a9"),R=s("cb32"),T=s("f09f"),A=s("eb85"),P=s("05c0"),N=s("2c91"),x=s("429b"),D=s("7460"),I=s("24e8"),U=s("0d59"),L=s("eaac"),G=s("db86"),j=s("bd08"),Q=s("357e"),M=s("a370"),F=s("4b7e"),W=s("714f"),B=s("7f67"),V=s("2a19"),K=s("436b");r["a"].use(i["a"],{config:{},components:{QLayout:n["a"],QHeader:l["a"],QDrawer:c["a"],QPageContainer:u["a"],QPage:d["a"],QToolbar:p["a"],QToolbarTitle:m["a"],QBtn:h["a"],QIcon:g["a"],QList:f["a"],QItem:b["a"],QItemSection:v["a"],QItemLabel:k["a"],QInput:w["a"],QEditor:E["a"],QSelect:_["a"],QChip:C["a"],QCheckbox:S["a"],QDate:q["a"],QPopupProxy:y["a"],QToggle:O["a"],QBtnGroup:$["a"],QAvatar:R["a"],QCard:T["a"],QSeparator:A["a"],QTooltip:P["a"],QSpace:N["a"],QTabs:x["a"],QTab:D["a"],QDialog:I["a"],QSpinner:U["a"],QTable:L["a"],QTd:G["a"],QTr:j["a"],QTh:Q["a"],QCardSection:M["a"],QCardActions:F["a"]},directives:{Ripple:W["a"],ClosePopup:B["a"]},plugins:{Notify:V["a"],Dialog:K["a"]}});var H=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"q-app"}},[s("router-view")],1)},z=[],Y=s("ded3"),X=s.n(Y),J=s("2f62"),Z={name:"App",computed:X()({},Object(J["c"])("view",["isConnectionDown"])),watch:{isConnectionDown(e){e&&this.$q.notify({message:this.$t("messages.networkError"),color:"negative"}),this.$store.dispatch("view/setConnectionDown",!1)}}},ee=Z,te=s("2877"),se=Object(te["a"])(ee,H,z,!1,null,null,null),ae=se.exports;const oe=localStorage.getItem("token");var re={status:"",token:oe||"",profile:{roles:[]},profileLoaded:!1,clickback:"",needPassword:!1,admin:!1,groupnames:[]},ie={isLoggedIn:e=>!!e.token,authStatus:e=>e.status,profile:e=>e.profile,groupnames:e=>e.groupnames,username:e=>e.profile&&e.profile.name,profileIsLoad:e=>"undefined"!==typeof e.profile.name,needPassword:e=>e.needPassword,admin:e=>e.profile.roles.includes("ROLE_ADMINISTRATOR")},ne={AUTH_SUCCESS(e,{token:t,profile:s}){e.status="success",e.token=t,e.profile=s},AUTH_ERROR(e,t){e.status="error",e.statusError=t},LOGOUT(e){e.status="",e.token="",e.profile={roles:[],groups:[]},e.clickback=""},AUTH_PROFILE(e,t){e.profile=t},AUTH_AVAILABLE_GROUPS(e,t){e.groupnames=t},groups_request_success(e){e.status="success"},groups_request_failure(e){e.status="error"},CERT_REQUEST_SUCCESS(e){e.status="success"},CERT_REQUEST_FAILURE(e){e.status="error"},PASSWORD_REQUEST_SUCCESS(e,t){e.status="success",e.clickback=t},PASSWORD_REQUEST_FAILURE(e){e.status="success",e.clickback=""},PASSWORD_SET_SUCCESS(e){e.status="success",e.clickback=""},PASSWORD_SET_FAILURE(e){e.status="failure",e.clickback=""},REGISTER_SUCCESS(e){e.status="success"},REGISTER_FAILURE(e){e.status="failure"},ACTIVATE_SUCCESS(e,{profile:t,clickback:s}){e.status="success",e.profile=t,e.clickback=s},ACTIVATE_FAILURE(e){e.status="failure"}},le=(s("e6cf"),s("ddb0"),s("2b3d"),s("bc3a")),ce=s.n(le);const ue="/hub",de=ce.a.create({baseUrl:ue});var pe=({Vue:e})=>{e.prototype.$http=de;const t=localStorage.getItem("token");t&&(e.prototype.$http.defaults.headers.common.Authentication=t)},me=s("a925"),he={commons:{appName:"k.Hub"},menu:{home:"Home",downloads:"Downloads",profile:"Profile",changePassword:"Change password",certificate:"Download certificate",admin:"Admin",users:"Users",groups:"Groups",usersToGroups:"Assign groups",tasks:"Tasks",nodes:"Nodes"},labels:{warning:"Warning",username:"Username",password:"Password",newPassword:"New password",newPasswordConfirmation:"New password confirmation",btnLogin:"Login",btnRegister:"Register",btnAccept:"Accept",btnCancel:"Cancel",btnGoogle:"Sign in with Google",btnSetPassword:"Set password",forgotPassword:"Forgot password?",btnResetPassword:"Reset password",email:"Email",accountHeader:"Account information",groupsHeader:"Groups",personalHeader:"Personal data",acceptEULA:"Accept",declineEULA:"Decline",changePasswordConfirmation:"Change",firstName:"First name",lastName:"Last name",middleName:"Middle initial",address:"Address",addressPlaceholder:"Address, city, state/region, postal code, country",phone:"Phone number",affiliation:"Affiliation",jobTitle:"Job title",updateProfileBtn:"Update profile",yes:"Yes",no:"No",registrationDate:"Registration date",lastLogin:"Last login",sendUpdates:"Send updates",groups:"Groups",roles:"Roles",users:"users",tasks:"tasks",roleAdministrator:"Administrator",roleDataManager:"Data manager",roleUser:"User",roleSystem:"System",roleUnknown:"Unknown role",rolesAll:"All roles",groupsAll:"All groups",groupsAny:"Any group",noGroups:"Without groups assigned",accountStatus:"Status",statusActive:"Active",statusInactive:"Inactive",statusPendingActivation:"Pending",statusVerified:"Verified",filterBy:"Filter by:",filterInfo:"Showing {filtered} users: {number}",filtered:"filtered",selectedInfo:"Applying action to <span>{selected}</span> of <span>{total}</span> {type}(s)",all:"all",pagination:"{firstRowIndex} - {endRowIndex} of {totalRowsNumber}",lastConnectionFrom:"Engine connection from",lastConnectionTo:"Engine connection to",hasLastConnection:"Without engine connections",registrationFrom:"Register from",registrationTo:"Register to",hasRegistrationDate:"Without registration date",updateField:"Update field",loginFrom:"Last login from",loginTo:"Last login to",hasLastLogin:"Without last login",groupName:"Name",groupDescription:"Description",groupIcon:"Icon",groupProjectUrls:"Project urls",groupProjectUrl:"Project url",howToProjectUrls:"Add or delete project urls",groupObservables:"Observables",groupRoleRequirement:"Role Requirement",groupDependsOn:"Dependencies",groupNoValue:"<em>No value</em>",groupWorldView:"World view",groupPreliminary:"Preliminary",groupOptIn:"Opt in",groupMaxUpload:"Max upload (bytes)",selectGroupButtonDefault:"Select",availableGroups:"Available Groups",expireDate:"Until",taskStatusPending:"Pending",taskStatusError:"Error",taskId:"Id",taskUser:"User",taskIssued:"Issued",taskClosed:"Closed",taskRoleRequirement:"Role requirement",taskAutoAccepted:"Auto accepted",taskAccepted:"Task accepted",taskStatusAccepted:"Accepted",taskStatusDenied:"Denied",taskDenied:"Task denied",taskNext:"Next tasks",taskNoNext:"<em>No</em>",taskType:"Type",taskTypeAll:"All types",taskDescription:"Description",taskStatusLog:"Status and log",taskStatus:"Status",taskStatusAll:"All statuses",taskIssuedFrom:"Issued from",taskIssuedTo:"Issued to",taskClosedFrom:"Closed from",taskClosedTo:"Closed to",taskOpen:"Only open tasks",taskGroupRequest:"Group request",taskCreateGroup:"Create group",taskRemoveGroupRequest:"Remove group",taskTypeUnknown:"Unknown type",refreshUsers:"Refresh users",refreshTasks:"Refresh tasks",refreshGroups:"Refresh groups",refreshNodes:"Refresh nodes",clearFilter:"Clear all filters",selectAll:"Select all",unselectAll:"Unselect all",lastConnection:"Last connection",actionsGroups:"Groups actions",assignGroups:"Assign groups",removeGroups:"Remove groups",actionsOthers:"Other actions",actionsNodes:"Nodes actions",sendEmail:"Send email",emailSenders:"From",emailRecipients:"To",emailSubject:"Subject",emailContent:"Content",emailType:"Type",sendingToUsers:"Send email to {users} users",forceSend:"{users} users doesn't want receiving news. <em>Send to them too?</em>",requestGroups:"Make groups request",requestGroupsText:"Some groups will be added automatically and others may require administrator approval.",requestGroupsButton:"Request",createGroup:"Create new group",updateGroup:"Update group",editGroup:"Edit group",deleteGroup:"Delete group",submitForm:"Submit",cancelForm:"Cancel",addObservable:"New observable",acceptTask:"Accept selected tasks",denyTask:"Deny selected tasks",nodeName:"Node name",nodeEmail:"Contact",nodeUrl:"URL",nodeGroups:"Groups",cancelNodeForm:"Cancel",createNode:"Create node",updateNodeForm:"Update node",createNodeForm:"Create new node",chkOptIn:"Opt in",chkPreliminary:"Preliminary",chkWorldView:"World view",editObservable:"Edit observable",associatedObservables:"Associated observables",howToObservables:"Select an item to move, edit or delete it",observableToStart:"First observable",observableToEnd:"Last observable",observableLabel:"Label",observableIsSeparator:"Is separator",observableObservable:"Observable",observableSemantic:"Semantic",observableDescription:"Description",observableState:"State",observableExtendedDescription:"Extended description",observableAdd:"New observable",stateForthcoming:"Forthcoming",stateExperimental:"Experimental",stateNew:"New",stateStable:"Stable",stateBeta:"Beta",stateDemo:"Demo",observableInsertionPoint:"Insertion point",observableInsertFirst:"First",observableInsertLast:"Last"},messages:{genericError:"There was an error, please try later",networkError:"Network error",fieldRequired:"Field required",passwordValidationError:"Password must be between 8 and 32 characters",passwordUnableToDo:"Unable to change user password",passwordChanged:"Password changed",passwordChangedError:"There was an error, password is not changed",passwordMailError:"There wan an error sending confirmation email, password is changed",passwordDoesNotMatch:"Password does not match the password verification field",changingPassword:"Changing password",downloadingCertificate:"Downloading certificate",errorGeneratingCertificate:"Error generating certificate, please try later",refreshingUsers:"Refreshing users",usersLoaded:"Users loaded",usersLoadedError:"Error loading users",tasksLoaded:"Tasks loaded",tasksLoadedError:"Error loading tasks",taskAccepted:"Accepted",taskDenied:"Denied",taskAcceptedError:"Error accepting task",taskDeniedError:"Error denying task",taskDeniedMessage:"Denied message",noPendingTasks:"There are no pending tasks",groupsLoaded:"Groups loaded",groupsLoadedError:"Error loading groups",groupDeleted:"Group {group} deleted",groupDeletedError:"Error deleting group {group}",groupCreated:"Group {group} created",groupCreatedError:"Error creating group {group}",groupUpdated:"Group {group} updated",groupUpdatedError:"Error updating group {group}",notDeletableGroup:"It's not possible to delete this group because {reason}",notDeletableGroupWorldview:"is a worldview",notDeletableGroupWaiting:"is loading",notDeletableGroupHasUsers:"has users",noAvailableGroups:"No more available groups",confirmRemoveGroupTitle:"Confirm",confirmRemoveGroupMsg:"Are you sure you want permanently delete the group {group}?",confirmRemoveTitle:"Confirm",confirmRemoveProjectUrlMsg:"Are you sure you want permanently delete this project url?",confirmRemoveObservableMsg:"Are you sure you want permanently delete this observable?",confirmRemoveGroup:"Are you sure you want to ask to be removed from the group {group}?",requestSent:"Request sent",requestSentError:"Error sending request",noTasks:"There are no tasks in database",emailValidationError:"Invalid email format",usernameFormatLengthError:"Username must be more than 6 characters",usernameFormatValidationError:"Username must contains only letter, numbers and . (period) - (hyphen or dash) _ (underscore)",phoneValidationError:"Phone seems not valid",userPswInvalid:"Bad Username or password",userAlreadyInUse:"Username or Email already in use!",noGroupsAssigned:"No groups assigned",failed:"Action failed",success:"Action was successful",loadingData:"Loading data",acceptEULA:"I have read and accept the END USER LICENSE AGREEMENT (EULA) for individual non-profit use",mustAcceptEULA:"You must read and accept the EULA to download certificate",changePasswordTitle:"Change password",loggingOut:"Logging out",sendUpdates:"Should we send you important updates and announcements?",profileUpdated:"Profile updated",errorUpdatingProfile:"Error updating profile",errorRegistering:"Error when registering, please try later",errorRegisteringMailExists:"A user with this email address already exists",registeringOk:"A confirmation email has been sent to your mailbox",resetPasswordOk:"An email has been sent to your mailbox",errorResetPasswordNotFound:"Error resetting password, check the inserted email",errorResetPassword:"Error resetting password, please contact support",errorRegisteringUsersExists:"Username already exists",errorLoadingAvailableGroups:"Error loading available groups",verifiedSuccess:"User verified successfully",verifiedFailure:"Error verifying user",unknownDate:"n.a.",errorDateFromTo:"The {type} date from must precede {type} date to",usersGroupsAssign:"Group(s) assigned successfully",usersGroupsRemoved:"Group(s) removed successfully",usersGroupsAssignError:"Error assigning groups to users",usersGroupsRemoveError:"Error removing groups to users",usersGroupsAssignConfirm:"Do you want to assign {groupsNumber} groups to {usersNumber} users?",usersGroupsRemoveConfirm:"Do you want to remove {groupsNumber} groups to {usersNumber} users?",userNoSendUpdates:"This users doesn't want updates",emailSent:"Mail sent",emailWithNoReceipts:"No valid receipts, check if users didn't give permissions",doingThings:"Working...",iconNotValid:"Icon URL is not valid"},contents:{registerContent:'\n    <p><strong>ARIES</strong> is an open system where all participants contribute and share knowledge for the common good. For this reason we ask that all accounts are traceable to real people and institutions. Please ensure that:</p>\n    <ul>\n      <li>Your username follows the <code>firstname.lastname</code> pattern, with your real first and last name. All the accounts created from this page are individual. If you need an institutional account (for example to install a public engine) please contact us as this use, while still free for non-profit institutions, is covered by a separate EULA.</li>\n      <li>Your email address is traceable to an institution where you work or study and whose non-profit status is verifiable.</li>\n    </ul>\n    <p>We actively monitor the registration database and we regularly delete or disable accounts that do not match the above conditions. In addition, attempts to make for-profit use of <strong>ARIES</strong> products with a non-profit licensing terms will result in permanent exclusion from the registration system and potential legal prosecution according to the\n     <a href="http://www.integratedmodelling.org/statics/eula/BC3-EULA-Not-For-Profit-Individual_EN.txt" alt="k.LAB EULA" target="_blank">EULA</a>.</p>\n     <p class="rc-lopd">By clicking the registration button you agree that the personal data you provide will be processed by ASOCIACIÃ“N BC3 BASQUE CENTRE FOR CLIMATE CHANGE-KLIMA ALDAKETA IKERGAI with the purpose of\n      managing your registration request and your access to the tool. You may exercise your rights on data protection at <a href="mailto:ARCrights@BC3research.org" target="_blank" title="Mail to ARCrights@BC3research.org">ARCrights@BC3research.org</a>.\n      <br />Additional information in this respect is available in the <a href="http://www.integratedmodelling.org/statics/eula/BC3-EULA-Not-For-Profit-Individual_EN.txt" alt="k.LAB EULA" target="_blank">EULA</a></p>\n    ',forgetPasswordContent:'\n      <p>Insert your email account information.</p><p>Please <a class="kh-link" href="mailto:support@integratedmodelling.org" title="Contact us" target="_blank">Contact Us</a> if you require any assistance.</p>\n    ',homeTitle:"Welcome",homeContent:'\n      <p>This site is the central authentication hub for all users of the k.LAB semantic web. Currently\n        we support only <em>local</em> use of the k.LAB network, using a modeling engine installed\n        locally on the user\'s computer (via the k.LAB Control Center). In the future we will also offer direct access through a browser, with\n        no software installations needed.</p>\n      <h3>Getting Started</h3>\n      <p>\n        To use k.LAB in a modeler configuration, you will need a certificate\n        file and the modeling software, consisting of a modeling engine to access\n        the k.LAB semantic web and run models, and an\n        integrated development environment (IDE) used to annotate your own data and models.\n      </p>\n      <p>You can download a certificate (for non-profit use only) under your profile using the link\n        <a class="kh-link" href="../#/profile/certificate">Download certificate</a> on the left.\n      </p>\n      <p>\n        To facilitate the installation of k.LAB for local use, we distribute a Control Center software package that will manage the remaining steps for you. Remaining\n        steps in the Control Center setup are described <a class="kh-link" target="_blank" href="https://www.integratedmodelling.org/statics/pages/gettingstarted.html">here</a>.\n      </p>\n      <h3>Downloads</h3>\n      <p>You can find instructions to download, install and launch k.LAB <a class="kh-link" href="https://www.integratedmodelling.org/statics/pages/gettingstarted.html" target="_blank">here</a>.</p>\n    ',downloadTitle:"",downloadContent:"",certificateTitle:"Certificate",certificateContentBeforeEULA:'\n    <p>By downloading the certificate, you are accepting the END USER LICENSE AGREEMENT (EULA) for individual non-profit use.</p>\n    <h4>Individual non-profit EULA characteristics:</h4>\n    <ul>\n      <li>This EULA gives you access to the data and models served via our semantic web for non-profit purposes</li>\n      <li>For other purposes please get in touch with us at <a href="http://www.integratedmodelling.org" class="kh-link" title="integratedmodelling.org" target="_blank">integratedmodelling.org</a></li>\n      <li>Access is granted via individual and non-transferable certificates, which are valid for 1 year</li>\n      <li>User maintains the ownership of newly created data and models, but has the option to grant the right to operate them via our semantic web</li>\n    </ul>\n    <p>In addition and outside the EULA, the USER may obtain an open source license of the k.Lab SOFTWARE under the terms of the\n      <a href="https://www.gnu.org/licenses/agpl-3.0-standalone.html" class="kh-link" title="Affero General Public License 3.0" target="_blank">Affero General Public License 3.0</a>\n      or any higher version through the website <a href="http://www.integratedmodelling.org" class="kh-link" title="integratedmodelling.org" target="_blank">integratedmodelling.org</a>, which will allow you to exploit the k.Lab SOFTWARE under the terms of that license.</p>\n    ',certificateContentAfterEULA:'\n    <p><em>Clarification: the EULA regulates the access and use of the k.LAB system hosted in the BC3 INFRASTRUCTURE, including the semantic web of data, models powered by the SOFTWARE, and other data and resources made available to the USER through the BC3 INFRASTRUCTURE.\n    See the complete terms of use <a href="https://integratedmodelling.org/statics/terms/terms.html" class="kh-link" title="See the complete terms of use" target="_blank">here</a></em>.</p>\n    ',adminHomeTitle:"Administration",adminHomeContent:"\n      <p>This page enables the management of k.LAB.</p>\n      <p>Select an option from the left menu.</p>\n    ",adminUsersTitle:"Users",adminGroupsTitle:"Groups",adminTasksTitle:"Tasks",adminNodesTitle:"Nodes"}},ge={"en-us":he};r["a"].use(me["a"]);const fe=new me["a"]({locale:"en-us",fallbackLocale:"en-us",messages:ge});var be=({app:e})=>{e.i18n=fe};const ve={MAIN_COLOR:"rgb(17, 170, 187)",MAIN_GREEN:"rgb(70,161,74)",MAIN_LIGHT_GREEN:"rgb(231,255,219)",MAIN_CYAN:"rgb(0,131,143)",MAIN_LIGHT_CYAN:"rgb(228,253,255)",MAIN_YELLOW:"rgb(255, 195, 0)",MAIN_RED:"rgb(255, 100, 100)",PRIMARY:"#007EFF",SECONDARY:"#26A69A",TERTIARY:"#555",NEUTRAL:"#E0E1E2",POSITIVE:"#19A019",NEGATIVE:"#DB2828",INFO:"#1E88CE",WARNING:"#F2C037",PRIMARY_NAME:"primary",SECONDARY_NAME:"secondary",TERTIARY_NAME:"tertiary",POSITIVE_NAME:"positive",NEGATIVE_NAME:"negative",INFO_NAME:"info",WARNING_NAME:"warning",COLOR_PRIMARY:"primary",COLOR_SECONDARY:"secondary",COLOR_TERTIARY:"tertiary",COLOR_POSITIVE:"positive",COLOR_NEGATIVE:"negative",COLOR_INFO:"info",COLOR_WARNING:"warning",COLOR_LIGHT:"light",COLOR_DARK:"dark",COLOR_FADED:"faded"},ke={SPINNER_STOPPED_COLOR:ve.MAIN_COLOR,SPINNER_LOADING_COLOR:ve.MAIN_YELLOW,SPINNER_MC_RED:ve.MAIN_RED,SPINNER_ERROR_COLOR:ve.NEGATIVE_NAME,SPINNER_ELEPHANT_DEFAULT_COLOR:"#010102"},we={SPINNER_LOADING:{ballColor:ke.SPINNER_LOADING_COLOR,color:ke.SPINNER_LOADING_COLOR,animated:!0},SPINNER_STOPPED:{color:ke.SPINNER_STOPPED_COLOR,animated:!1},SPINNER_ERROR:{color:ke.SPINNER_ERROR_COLOR,animated:!1,time:2,then:{color:ke.SPINNER_STOPPED_COLOR,animated:!1}}},Ee={USERNAME_MIN_LENGTH:6,PSW_MIN_LENGTH:8,PSW_MAX_LENGTH:32,READY:0,WAITING:1,REFRESHING:2,IMAGE_NOT_FOUND_SRC:"image-off-outline.png"},_e={ROLE_ADMINISTRATOR:{name:fe.tc("labels.roleAdministrator"),icon:"mdi-account-tie",value:"ROLE_ADMINISTRATOR"},ROLE_DATA_MANAGER:{name:fe.tc("labels.roleDataManager"),icon:"mdi-database",value:"ROLE_DATA_MANAGER"},ROLE_USER:{name:fe.tc("labels.roleUser"),icon:"mdi-account",value:"ROLE_USER"},ROLE_SYSTEM:{name:fe.tc("labels.roleSystem"),icon:"mdi-settings",value:"ROLE_SYSTEM"}},Ce={ADD_GROUPS_ACTION:"ADD_GROUPS",REMOVE_GROUPS_ACTION:"REMOVE_GROUPS"},Se={TASK_PENDING:{label:fe.tc("labels.taskStatusPending"),value:"pending"},TASK_ACCEPTED:{label:fe.tc("labels.taskStatusAccepted"),value:"accepted"},TASK_DENIED:{label:fe.tc("labels.taskStatusDenied"),value:"denied"},TASK_ERROR:{label:fe.tc("labels.taskStatusError"),value:"error"}},qe={QUALITY:{label:"Quality",symbol:"Q",color:"sem-quality",rgb:"rgb(0, 153, 0)"},SUBJECT:{label:"Subject",symbol:"S",color:"sem-subject",rgb:"rgb(153, 76, 0)"},IDENTITY:{label:"identity",symbol:"Id",color:"sem-identity",rgb:"rgb(0, 102, 204)"},ATTRIBUTE:{label:"Attribute",symbol:"A",color:"sem-attribute",rgb:"rgb(0, 102, 204)"},REALM:{label:"Realm",symbol:"R",color:"sem-realm",rgb:"rgb(0, 102, 204)"},TRAIT:{label:"Trait",symbol:"T",color:"sem-trait",rgb:"rgb(0, 102, 204)"},EVENT:{label:"Event",symbol:"E",color:"sem-event",rgb:"rgb(53, 153, 0)"},RELATIONSHIP:{label:"Relationship",symbol:"R",color:"sem-relationship",rgb:"rgb(210, 170, 0)"},PROCESS:{label:"Process",symbol:"P",color:"sem-process",rgb:"rgb(204, 0, 0)"},ROLE:{label:"Role",symbol:"R",color:"sem-role",rgb:"rgb(0, 86, 163)"},CONFIGURATION:{label:"Configuration",symbol:"C",color:"sem-configuration",rgb:"rgb(98, 98, 98)"},DOMAIN:{label:"Domain",symbol:"D",color:"sem-domain",rgb:"rgb(240, 240, 240)"}},ye=[{value:"groupRequest",label:fe.tc("labels.taskGroupRequest")},{value:"createGroup",label:fe.tc("labels.taskCreateGroup")},{value:"removeGroupRequest",label:fe.tc("labels.taskRemoveGroupRequest")},{value:"unknownRequest",label:fe.tc("labels.taskTypeUnknown")}],Oe={FORTHCOMING:fe.tc("labels.stateForthcoming"),EXPERIMENTAL:fe.tc("labels.stateExperimental"),NEW:fe.tc("labels.stateNew"),STABLE:fe.tc("labels.stateStable"),BETA:fe.tc("labels.stateBeta"),DEMO:fe.tc("labels.stateDemo")},$e={CREATE_GROUP:"create-group",REQUEST_GROUP:"request-groups",REMOVE_GROUP:"remove-groups",SET_GROUP:"set-groups"},Re={TEXT:"TEXT",HTML:"HTML"},Te={WS_USERS:"api/v2/users",WS_DELETED_USERS:"api/v2/deleted-users",WS_GROUPS:"api/v2/groups",WS_TASKS:"api/v2/tasks",WS_EMAILS:"api/v2/emails",WS_NODES:"api/v2/nodes"},Ae={LOG_IN:{method:"POST",url:Te.WS_USERS+"/log-in"},LOG_OUT:{method:"POST",url:Te.WS_USERS+"/log-out"},REGISTER_USER:{method:"POST",url:Te.WS_USERS},VERIFY:{method:"POST",url:Te.WS_USERS+"/{username}?verify={clickback}"},SET_PASSWORD:{method:"POST",url:Te.WS_USERS+"/{username}?set-password={clickback}"},LOST_PASSWORD:{method:"POST",url:Te.WS_USERS+"/{username}?lost-password"},REQUEST_NEW_PASSWORD:{method:"POST",url:Te.WS_USERS+"/{username}?new-password"},GET_PROFILE:{method:"GET",url:Te.WS_USERS+"/me"},UPDATE_PROFILE:{method:"PUT",url:Te.WS_USERS+"/{username}"},DELETE_USER:{method:"DELETE",url:Te.WS_USERS+"/{username}"},DELETED_USERS:{method:"GET",url:Te.WS_DELETED_USERS},DELETED_USER:{method:"GET",url:Te.WS_DELETED_USERS+"/{username}"},USERS:{method:"GET",url:Te.WS_USERS},NODES:{method:"GET",url:Te.WS_NODES},CREATE_NODE:{method:"POST",url:Te.WS_NODES},UPDATE_NODE:{method:"PUT",url:Te.WS_NODES+"/{name}"},DELETE_NODE:{method:"DELETE",url:Te.WS_NODES+"/{name}"},GET_NODE:{method:"GET",url:Te.WS_NODES+"/{name}"},GROUPS:{method:"GET",url:Te.WS_GROUPS},CREATE_GROUP:{method:"POST",url:Te.WS_GROUPS},GROUP_NAMES:{method:"GET",url:Te.WS_GROUPS+"/?names"},UPDATE_GROUP:{method:"PUT",url:Te.WS_GROUPS+"/{name}"},DELETE_GROUP:{method:"DELETE",url:Te.WS_GROUPS+"/{name}"},GET_GROUP:{method:"GET",url:Te.WS_GROUPS+"/{name}"},USERS_WITH_GROUP:{method:"GET",url:Te.WS_USERS+"?has-group={group}"},TASKS:{method:"GET",url:Te.WS_TASKS},TASKS_ACCEPT:{method:"POST",url:Te.WS_TASKS+"/{id}?accept=true"},TASKS_DENY:{method:"POST",url:Te.WS_TASKS+"/{id}?accept=false"},TASK_GROUPS_REQUEST:{method:"POST",url:`${Te.WS_TASKS}?${$e.REQUEST_GROUP}={username}`},TASK_GROUPS_REMOVE:{method:"POST",url:`${Te.WS_TASKS}?${$e.REMOVE_GROUP}={username}`},REQUEST_USERS_GROUPS:{method:"POST",url:Te.WS_USERS+"?{actionParam}"},GET_CERTIFICATE:{method:"GET",url:Te.WS_USERS+"/{username}?certificate"},GET_NODE_CERTIFICATE:{method:"GET",url:Te.WS_NODES+"/{name}?certificate"},EMAIL_SENDERS:{method:"GET",url:Te.WS_EMAILS+"?senders"},SEND_EMAIL:{method:"POST",url:Te.WS_EMAILS+"?sendEmail"}};s("c975"),s("a434");var Pe=s("bc78"),Ne=s("8c4f"),xe=s("1dce"),De=s.n(xe),Ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{attrs:{id:"au-layout",view:"hHh lpR fFf"}},[s("q-page-container",{class:{"au-loggedin":e.loggedin}},[s("transition",{attrs:{appear:"","appear-class":"custom-appear-class"}},[s("div",{staticClass:"fixed-center text-center au-container"},[s("div",{staticClass:"au-logo-container"},[s("klab-spinner",{staticClass:"au-logo",attrs:{"store-controlled":!0,ball:e.loggedin?15:12,wrapperId:"au-layout",ballColor:e.COLORS.PRIMARY}}),s("klab-brand",{attrs:{customClasses:["au-app-name"]}})],1),s("div",{staticClass:"au-content"},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view",{on:{loggedin:function(t){e.loggedin=!0}}})],1)],1)])])],1)],1)},Ue=[],Le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{staticClass:"klab-spinner",attrs:{width:e.size,height:e.size,viewBox:"-120 -120 250 250",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[s("g",{attrs:{transform:"translate(-100,-100)"}},[s("path",{style:{fill:e.computedLogoColor},attrs:{id:"klab-elephant",d:"m 104.05375,199.87049 c 0,-0.11305 0.4478,-0.91175 0.99511,-1.77528 1.94483,-3.06856 3.27685,-6.78737 3.77047,-10.52665 0.29881,-2.26343 0.15587,-6.37263 -0.29771,-8.55932 -1.14055,-5.49873 -4.29348,-10.90946 -8.574581,-14.71484 -1.82502,-1.62221 -4.999321,-3.76965 -5.572248,-3.76965 -0.228397,0 -0.485155,0.37441 -0.806944,1.17663 -0.259578,0.64714 -0.993903,2.15655 -1.631796,3.35422 -5.200139,9.76333 -14.721978,16.58207 -26.443011,18.93626 -2.371366,0.4763 -2.941693,0.51841 -7.137203,0.52709 -4.783242,0.0107 -5.857508,-0.0987 -9.516261,-0.96376 -1.799531,-0.42535 -5.203264,-1.52911 -6.11334,-1.98244 -0.627576,-0.31261 -0.219288,-0.37068 1.058706,-0.15039 0.677374,0.11665 2.344101,0.28066 3.703835,0.36429 10.383295,0.63949 20.470492,-2.96946 27.828086,-9.95625 2.479314,-2.35433 5.416763,-6.02653 5.078034,-6.34818 -0.06357,-0.0603 -1.212132,0.3144 -2.552334,0.83262 -1.340209,0.51833 -3.150463,1.16092 -4.022785,1.42793 -14.301306,4.3781 -30.19149,2.51194 -42.865512,-5.03412 -4.778105,-2.84486 -9.475427,-6.82887 -12.746105,-10.81051 C 3.0894952,133.49312 -2.9713211,110.14728 1.372762,87.049374 3.5839973,75.292005 9.9956711,60.934413 17.659283,50.579102 25.887885,39.46033 37.060206,29.593487 48.458951,23.378348 c 4.579091,-2.496751 11.085286,-5.456345 11.719117,-5.330872 0.197329,0.03912 -0.08202,0.553358 -0.917964,1.689899 -0.660911,0.898588 -1.201652,1.722991 -1.201652,1.831989 0,0.206729 0.09245,0.231853 2.158878,0.583757 2.629901,0.447841 2.642381,0.410264 -0.679907,2.048445 -9.14284,4.508264 -17.215861,10.30327 -23.728282,17.03279 -13.14446,13.582611 -20.879875,30.2425 -22.564528,48.597667 -0.473537,5.15939 -0.147666,13.878707 0.703556,18.826337 1.668929,9.70024 2.500887,12.58177 5.055057,17.50849 4.266357,8.22937 11.165405,14.83367 19.726673,18.88394 4.280221,2.02494 7.892448,3.12853 10.960162,3.34843 4.57008,0.32768 9.967853,-1.35619 13.248445,-4.13278 2.776638,-2.35007 5.936228,-8.34114 7.511872,-14.24374 1.17168,-4.38929 1.621818,-8.51084 1.870677,-17.12841 0.192643,-6.67166 0.379245,-8.14525 1.502287,-11.86428 3.612223,-11.962124 10.664889,-22.72192 19.5246,-29.787446 5.51291,-4.396501 13.027538,-8.152071 19.517308,-9.754147 7.5408,-1.861492 14.70842,-2.149978 22.52166,-0.906484 l 2.48698,0.395835 1.01714,-0.594345 c 1.80426,-1.054208 3.27792,-1.485395 8.40213,-2.45842 13.57939,-2.578509 20.80031,-5.12687 28.68357,-10.122812 1.34796,-0.854264 2.518,-1.553194 2.60014,-1.553194 0.17639,0 3.04247,3.703853 4.73474,6.118595 14.65078,20.905435 19.96193,46.698271 14.71178,71.445998 -5.62456,26.51255 -22.68674,49.25952 -47.37957,63.16554 -11.99038,6.75246 -26.6627,11.31768 -40.44415,12.58396 -5.31854,0.48868 -6.14592,0.5301 -6.14592,0.30759 z m -9.798702,-86.34916 c 1.261795,-0.58673 2.720523,-1.98517 3.256482,-3.12196 0.463828,-0.98375 0.313172,-1.18937 -1.409661,-1.92354 -3.130575,-1.33412 -7.441006,-0.49436 -9.961047,1.94062 -0.740863,0.71588 -0.932206,1.01901 -0.832158,1.31833 0.153789,0.46008 1.731583,1.59956 2.813677,2.03201 1.78083,0.71171 4.290172,0.61125 6.132707,-0.24549 z"}})]),s("circle",{class:{moving:e.moving},style:{fill:e.computedBallColor},attrs:{id:"spinner-circle",cx:"0",cy:"-90",r:e.ball}})])},Ge=[],je={props:{size:{type:Number,default:200},ball:{type:Number,default:12},color:{type:String,default:Pe["a"].getBrand("k-main")},logoColor:{type:String,default:ke.SPINNER_ELEPHANT_DEFAULT_COLOR},ballColor:{type:String,default:Pe["a"].getBrand("primary")},stroke:{type:String,default:"none"},animated:{type:Boolean,default:!0},storeControlled:{type:Boolean,default:!0},wrapperId:{type:String,required:!0}},computed:X()(X()({},Object(J["c"])("view",["spinner"])),{},{computedLogoColor(){return this.storeControlled&&this.spinner.logoColor||this.logoColor},computedBallColor(){return this.storeControlled&&this.spinner.ballColor||this.ballColor},moving(){return this.storeControlled?this.spinner.animated:this.animated},errorMessage(){return this.spinner.errorMessage},isVisible(){let e;return null!==this.wrapperId&&(e=document.getElementById(this.wrapperId),!(!e||null==e||!e.style)&&!("none"===e.style.display))}}),methods:{getBrand(e){return Pe["a"].getBrand(e)}},watch:{errorMessage(e){if(this.spinner.showNotifications&&this.isVisible&&null!==e){let t;t=e instanceof Error?e.message:e,this.$q.notify({message:t,color:"negative",timeout:1e3})}}}},Qe=je,Me=(s("fef8"),Object(te["a"])(Qe,Le,Ge,!1,null,"ecb48f9c",null)),Fe=Me.exports,We=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-name",class:e.customClasses,domProps:{innerHTML:e._s(e.htmlAppName)}})},Be=[],Ve={appName:"k.Hub",appDescription:"k.Hub",appColor:"#007eff"},Ke={props:{customClasses:Array,default:()=>[]},data(){return{appName:Ve.appName,appColor:Ve.appColor}},computed:{htmlAppName(){return this.appName.replace(".",`<span style="color: ${this.appColor}">.</span>`)}}},He=Ke,ze=(s("4406"),Object(te["a"])(He,We,Be,!1,null,null,null)),Ye=ze.exports,Xe={name:"Authorization",components:{KlabSpinner:Fe,KlabBrand:Ye},data(){return{loggedin:!1,COLORS:ve}},computed:{spinnerColor(){return this.$store.getters["view/spinnerColor"]}}},Je=Xe,Ze=(s("1ccf"),s("eebe")),et=s.n(Ze),tt=Object(te["a"])(Je,Ie,Ue,!1,null,null,null),st=tt.exports;et()(tt,"components",{QLayout:n["a"],QPageContainer:u["a"],QInput:w["a"],QBtn:h["a"]});var at=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{staticClass:"no-scroll kh-layout-page",style:{opacity:e.loggingOut?0:1},attrs:{view:"lHr lpr lfr"}},[s("q-header",{staticClass:"bg-white text-black",attrs:{bordered:""}},[s("q-toolbar",{staticClass:"bg-white text-grey-8 kh-toolbar",attrs:{id:"kh-toolbar"}},[s("q-avatar",[s("klab-spinner",{attrs:{"store-controlled":!0,size:50,ball:20,wrapperId:"kh-toolbar",ballColor:e.COLORS.PRIMARY}})],1),s("klab-brand",{attrs:{customClasses:["kh-app-name "]}}),s("div",{staticClass:"kh-menu"},e._l(e.filteredMenu,(function(t,a){return s("div",{key:"kh-menu-"+a,staticClass:"kh-menu-item"},[t.route&&null!==t.route?s("router-link",{attrs:{to:{name:t.route}},scopedSlots:e._u([{key:"default",fn:function(a){a.href;var o=a.route;a.navigate,a.isActive;return[s("q-btn",{class:[e.isRouteActive(o)?"disabled":""],attrs:{to:o,label:t.label,disable:t.route===e.$route.name,flat:""},on:{click:function(t){e.isRouteActive(o)}}})]}}],null,!0)}):s("q-btn",{attrs:{type:"a",target:t.target,href:t.href,flat:""}},[e._v(e._s(t.label)),"_blank"===t.target?s("q-icon",{staticClass:"q-ma-xs",attrs:{name:"mdi-open-in-new",size:"1em",color:"primary"}}):e._e()],1)],1)})),0),s("q-space"),e._l(e.links,(function(t,a){return s("div",{key:"kh-link-"+a,staticClass:"kh-link-container"},[s("a",{staticClass:"kh-link",style:{"border-bottom-color":t.color?t.color:e.COLORS.MAIN_COLOR,color:t.color?t.color:e.COLORS.MAIN_COLOR},attrs:{href:t.url,title:t.title,target:"_blank"}},[t.icon?s("i",{class:t.icon}):e._e(),t.img?s("img",{style:Object.assign({},t.imgWidth&&{width:t.imgWidth}),attrs:{src:t.img,alt:t.title||t.label}}):e._e(),s("span",{domProps:{innerHTML:e._s(t.label)}})])])})),s("q-btn",{staticClass:"small-round",attrs:{round:"",flat:"",icon:"mdi-logout"},on:{click:e.logout}})],2)],1),s("q-page-container",[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view")],1)],1),s("klab-loading",{attrs:{loading:e.loading,message:""}})],1)},ot=[],rt=(s("baa5"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-dialog",{attrs:{"no-esc-dismiss":"","no-backdrop-dismiss":""},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[s("div",{staticClass:"absolute-center kh-loading"},[s("q-spinner",{attrs:{size:"4em"}}),""!==e.computedMessage?s("div",[e._v(e._s(e.computedMessage))]):e._e()],1)])}),it=[],nt={name:"KlabLoading",props:{message:{type:String,default:null},loading:{type:Boolean,required:!0}},data(){return{}},computed:{computedMessage(){return this.message||this.$t("messages.loadingData")}}},lt=nt,ct=(s("1e8d"),Object(te["a"])(lt,rt,it,!1,null,null,null)),ut=ct.exports;et()(ct,"components",{QDialog:I["a"],QSpinner:U["a"]});var dt=[{name:"aries",label:"ARIES",img:"https://integratedmodelling.org/statics/logos/aries-logo.svg",imgWidth:"16px",title:"ARIES",url:"https://aries.integratedmodelling.org",color:"rgb(70,161,74)"},{name:"integratedModelling",label:"Integrated Modelling",img:"https://integratedmodelling.org/statics/logos/klab-logo.svg",imgWidth:"16px",title:"Integrated Modelling",url:"https://integratedmodelling.org",color:"#666"},{name:"confluence",img:"https://integratedmodelling.org/statics/logos/confluence-logo.svg",label:"Confluence",title:"Integrated modelling confluence",url:"https://integratedmodelling.org/confluence",color:"rgb(7,71,166)"},{name:"bitbucket",img:"https://integratedmodelling.org/statics/logos/bitbucket-logo.svg",label:"Bitbucket",title:"Bitbucket repositories",url:"https://bitbucket.org/integratedmodelling/profile/projects",color:"rgb(7,71,166)"}];const pt=[{name:"home",label:fe.tc("menu.home"),route:"home"},{name:"profile",label:fe.tc("menu.profile"),route:"profileView"},{name:"adminHome",label:fe.tc("menu.admin"),route:"adminHome",admin:!0}],mt=[{name:"profile",label:fe.tc("menu.profile"),route:"profileView"},{name:"changePassword",label:fe.tc("menu.changePassword"),route:"changePassword"},{name:"certificate",label:fe.tc("menu.certificate"),route:"certificate"}],ht=[{name:"users",label:fe.tc("menu.users"),route:"adminUsers"},{name:"groups",label:fe.tc("menu.groups"),route:"adminGroups",disabled:!0},{name:"tasks",label:fe.tc("menu.tasks"),route:"adminTasks"}];var gt={name:"Default",components:{KlabSpinner:Fe,KlabBrand:Ye,KlabLoading:ut},data(){return{tab:"",menu:pt,links:dt,COLORS:ve,loggingOut:!1}},computed:X()(X()({},Object(J["c"])("view",["spinnerColor","isConnectionDown"])),{},{loading:{get(){return this.loggingOut||!this.$store.getters["auth/profileIsLoad"]},set(){}},loadingMessage(){return this.loggingOut?this.$t("messages.loggingOut"):this.$t("messages.loadingData")},filteredMenu(){return this.menu.filter(e=>!e.admin||this.$store.getters["auth/admin"])}}),methods:{getStartPath(e){if(e&&""!==e){const t=e.lastIndexOf("/");return 0===t?e:e.substring(0,t)}return""},isRouteActive(e){return this.getStartPath(this.$router.currentRoute.path)===this.getStartPath(e.path)},getProfile(){this.$store.dispatch("auth/getProfile").then(()=>{console.debug("Profile loaded")}).catch(e=>{console.error(e),this.$router.go()})},logout(){this.loggingOut=!0,setTimeout(()=>{this.$store.dispatch("auth/logout").then(()=>{this.$router.push("/login")}).catch(e=>{401===e.status&&this.$router.push("/login"),console.error(e.message),this.$q.notify({message:this.$t("messages.genericError"),color:"negative"})})},500)}},mounted(){this.$store.dispatch("view/setSpinner",X()(X()({},we.SPINNER_STOPPED),{},{owner:"layout"}),{root:!0}),this.$store.getters["auth/profileIsLoad"]||setTimeout(()=>{this.getProfile()},500)},beforeRouteUpdate(e,t,s){t.path===e.path?s(!1):s()}},ft=gt,bt=(s("3a30"),Object(te["a"])(ft,at,ot,!1,null,null,null)),vt=bt.exports;et()(bt,"components",{QLayout:n["a"],QHeader:l["a"],QToolbar:p["a"],QAvatar:R["a"],QBtn:h["a"],QIcon:g["a"],QSpace:N["a"],QPageContainer:u["a"]});var kt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("khub-default-container",[e._t("default",[s("h2",{staticClass:"kh-h-first"},[e._v(e._s(e.$t("contents.homeTitle")))]),s("div",{domProps:{innerHTML:e._s(e.$t("contents.homeContent"))}})])],2)},wt=[],Et=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"kdc-container"},[e.menuItems.length>0?s("div",{staticClass:"kdc-menu-container fixed full-height"},[s("div",{staticClass:"kdc-menu"},e._l(e.menuItems,(function(t,a){return s("div",{key:a,staticClass:"kdc-menu-item"},[s("router-link",{staticClass:"kh-link",attrs:{to:{name:t.route},"active-class":"disabled"}},[e._v(e._s(t.label))])],1)})),0)]):e._e(),s("div",{staticClass:"kdc-content",class:[0===e.menuItems.length&&"kdc-no-menu"]},[e._t("default")],2)])},_t=[],Ct={name:"KhubDefaultContainer",props:{menuItems:{type:Array,default:()=>[]}},data(){return{}},methods:{}},St=Ct,qt=(s("c8d1"),Object(te["a"])(St,Et,_t,!1,null,null,null)),yt=qt.exports,Ot={name:"KhubHome",components:{KhubDefaultContainer:yt}},$t=Ot,Rt=Object(te["a"])($t,kt,wt,!1,null,null,null),Tt=Rt.exports,At=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"full-width column content-center au-form-container"},[s("div",{staticClass:"q-col-gutter-y-md",staticStyle:{"min-width":"70%","max-width":"70%"}},[s("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[s("q-input",{ref:"user-input",attrs:{color:"k-main","no-error-icon":"",rules:[function(t){return!e.checking&&""===e.$refs["psw-input"].value||e.fieldRequired(t)}],placeholder:e.$t("labels.username"),autocomplete:"username",autofocus:""},on:{keyup:function(t){return e.$refs["psw-input"].resetValidation()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-account-box"}})]},proxy:!0}]),model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),s("q-input",{ref:"psw-input",attrs:{color:"k-main",rules:[function(t){return!e.checking&&""===e.$refs["user-input"].value||e.fieldRequired(t)}],"no-error-icon":"","min-length":"8","max-length":"32",type:"password",placeholder:e.$t("labels.password"),autocomplete:"current-password"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-key"}})]},proxy:!0}]),model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),s("div",{staticClass:"au-btn-container"},[s("q-btn",{staticClass:"full-width",attrs:{unelevated:"",color:"k-main",type:"submit",label:e.$t("labels.btnLogin")}}),s("q-btn",{staticClass:"full-width",attrs:{unelevated:"",flat:"",color:"k-main",label:e.$t("labels.btnRegister")},on:{click:e.register}}),s("klab-google-button"),s("div",{staticClass:"au-btn-container lp-forgot full-width"},[s("span",{staticClass:"lp-link",on:{click:e.forgotPassword}},[e._v(e._s(e.$t("labels.forgotPassword")))])])],1)],1)])])},Pt=[],Nt={methods:{fieldRequired(e){return!!e||this.$t("messages.fieldRequired")},emailValidation(e){return za.email.test(e)||this.$t("messages.emailValidationError")},usernameValidation(e,t=Ee.USERNAME_MIN_LENGTH){return za.username.test(e)?e.length>=t||this.$t("messages.usernameFormatLengthError"):this.$t("messages.usernameFormatValidationError")},passwordValidation(e,t=Ee.PSW_MIN_LENGTH,s=Ee.PSW_MAX_LENGTH){return e.length>=t&&e.length<=s||this.$t("messages.passwordValidationError")},phoneValidation(e,t=!1){return!(t||"undefined"!==typeof e&&null!==e&&""!==e)||(za.phone.test(e)||this.$t("messages.phoneValidationError"))}}},xt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-btn",{staticClass:"full-width no-padding relative-position k-google-btn",attrs:{unelevated:"",align:"left",title:"Coming soonsy"},on:{click:e.googleLogin}},[s("div",{staticClass:"k-google-btn-inner"},[s("img",{staticClass:"k-google-btn-img",attrs:{src:"btn_google_light_normal_ios_no_border.svg"}}),s("div",{staticClass:"k-google-btn-text"},[e._v(e._s(e.$t("labels.btnGoogle")))])])])},Dt=[],It={name:"KlabGoogleButton",data(){return{}},methods:{googleLogin(){return!0}}},Ut=It,Lt=(s("26be"),Object(te["a"])(Ut,xt,Dt,!1,null,null,null)),Gt=Lt.exports;et()(Lt,"components",{QBtn:h["a"]});var jt={name:"LoginForm",components:{KlabGoogleButton:Gt},mixins:[Nt],data(){return{user:{username:"",password:""},checking:!1}},methods:{login(){this.checking=!0,this.$refs["user-input"].validate(),this.$refs["psw-input"].validate(),this.checking=!1,this.$refs["user-input"].hasError||this.$refs["psw-input"].hasError||this.$store.dispatch("auth/login",this.user).then(()=>{this.$emit("loggedin",{}),setTimeout(()=>{this.$router.push({name:"home"})},500)}).catch(e=>{this.$q.notify({message:this.$t("messages.userPswInvalid"),color:"negative",icon:"mdi-alert-circle"}),console.error(`Error ${e.status}: ${e.message}`)})},register(){this.$router.push({name:"register"})},forgotPassword(){this.$router.push({name:"forgotPassword"})}}},Qt=jt,Mt=(s("b29d8"),Object(te["a"])(Qt,At,Pt,!1,null,null,null)),Ft=Mt.exports;et()(Mt,"components",{QInput:w["a"],QIcon:g["a"],QBtn:h["a"]});var Wt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"full-width column content-center au-form-container"},[s("div",{staticClass:"q-col-gutter-y-md",staticStyle:{"min-width":"70%","max-width":"70%"}},[s("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[s("q-input",{ref:"username-input",attrs:{color:"k-main","no-error-icon":"",rules:[function(t){return 0===t.length&&!e.checking||e.usernameValidation(t)}],placeholder:e.$t("labels.username"),autocomplete:"username",autofocus:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-account-box"}})]},proxy:!0}]),model:{value:e.register.username,callback:function(t){e.$set(e.register,"username",t)},expression:"register.username"}}),s("q-input",{ref:"email-input",attrs:{color:"k-main","no-error-icon":"",rules:[function(t){return 0===t.length&&!e.checking||e.emailValidation(t)}],placeholder:e.$t("labels.email"),autocomplete:"email"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-email"}})]},proxy:!0}]),model:{value:e.register.email,callback:function(t){e.$set(e.register,"email",t)},expression:"register.email"}}),s("div",{staticClass:"au-btn-container"},[s("q-btn",{staticClass:"full-width",attrs:{unelevated:"",color:"k-main",type:"submit",label:e.$t("labels.btnRegister")}}),s("q-btn",{staticClass:"full-width",attrs:{unelevated:"",flat:"",color:"k-main",label:e.$t("labels.btnLogin")},on:{click:e.login}}),s("klab-google-button")],1)],1)]),s("q-dialog",{attrs:{persistent:""},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[s("q-card",[s("q-card-section",{staticClass:"row items-center"},[s("div",[s("i",{staticClass:"mdi mdi-48px mdi-alert text-k-yellow"})]),s("div",{staticClass:"q-ml-sm",domProps:{innerHTML:e._s(e.$t("contents.registerContent"))}})]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("labels.btnCancel"),color:"k-main"}}),s("q-btn",{attrs:{label:e.$t("labels.btnRegister"),color:"k-main"},on:{click:e.submit}})],1)],1)],1)],1)},Bt=[],Vt={name:"RegisterForm",components:{KlabGoogleButton:Gt},mixins:[Nt],props:{invite:{type:Boolean,default:!1}},data(){return{register:{email:"",username:""},confirm:!1,checking:!1}},methods:{checkFields(){return this.checking=!0,this.$refs["email-input"].validate(),this.$refs["username-input"].validate(),this.checking=!1,!(this.$refs["email-input"].hasError||this.$refs["username-input"].hasError)},submit(){this.checkFields()?this.invite?this.$emit("clicked",this.register):this.confirm?(this.confirm=!1,this.$store.dispatch("auth/register",this.register).then(()=>{this.$router.push("/login"),this.$q.notify({message:this.$t("messages.registeringOk"),color:"positive"})}).catch(e=>{console.error("Error on register: "+e.message),409===e.status?-1!==e.message.indexOf("Username")?this.$q.notify({message:this.$t("messages.errorRegisteringUsersExists"),color:"negative"}):this.$q.notify({message:this.$t("messages.errorRegisteringMailExists"),color:"negative"}):400===e.status?this.$q.notify({message:e.message,color:"negative"}):this.$q.notify({message:this.$t("messages.errorRegistering"),color:"negative"})})):this.confirm=!0:this.confirm=!1},login(){this.$router.push({name:"login"})}}},Kt=Vt,Ht=(s("0f54"),Object(te["a"])(Kt,Wt,Bt,!1,null,null,null)),zt=Ht.exports;et()(Ht,"components",{QInput:w["a"],QIcon:g["a"],QBtn:h["a"],QDialog:I["a"],QCard:T["a"],QCardSection:M["a"],QCardActions:F["a"]}),et()(Ht,"directives",{ClosePopup:B["a"]});var Yt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("khub-default-container",{attrs:{"menu-items":e.menuItems}},[s("div",{staticClass:"full-width row"},[s("div",{staticClass:"col kp-col kp-border-col"},[s("h3",{staticClass:"kp-header row kh-h-first"},[e._v(e._s(e.$t("labels.accountHeader")))]),s("div",{staticClass:"kp-content col"},[s("div",{staticClass:"row kp-text-row"},[s("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.username")))]),s("div",{staticClass:"kd-field col"},[e._v(e._s(e.profile.name))])]),s("div",{staticClass:"row kp-text-row"},[s("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.roles")))]),s("div",{staticClass:"kd-field col"},e._l(e.profile.roles,(function(t,a){return s("div",{key:a},[s("div",{staticClass:"ka-roles-icon"},[s("q-icon",{attrs:{name:e.ROLES[t].icon}},[s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0]}},[e._v(e._s(e.ROLES[t].name))])],1)],1)])})),0)]),s("div",{staticClass:"row kp-text-row"},[s("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.email")))]),s("div",{staticClass:"kd-field col"},[e._v(e._s(e.profile.email))])]),s("div",{staticClass:"row kp-text-row"},[s("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.registrationDate")))]),s("div",{staticClass:"kd-field col",class:{"ka-not-available":!e.profile.registrationDate},domProps:{innerHTML:e._s(e.formatDate(e.profile.registrationDate))}})]),s("div",{staticClass:"row kp-text-row"},[s("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.lastConnection")))]),s("div",{staticClass:"kd-field col",class:{"ka-not-available":!e.profile.lastConnection},domProps:{innerHTML:e._s(e.formatDate(e.profile.lastConnection))}})])]),s("h3",{staticClass:"kp-header row"},[e._v(e._s(e.$t("labels.personalHeader")))]),s("div",{staticClass:"kp-content col"},[s("div",{staticClass:"row kp-input-row items-baseline justify-start"},[s("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.firstName")))]),s("div",{staticClass:"kd-field col"},[s("q-input",{ref:"first-name",attrs:{color:"k-main",dense:"",placeholder:e.$t("labels.firstName"),rules:[function(t){return!e.checking||e.fieldRequired(t)}],"no-error-icon":"",autocomplete:"given-name",autofocus:""},model:{value:e.profile.firstName,callback:function(t){e.$set(e.profile,"firstName",t)},expression:"profile.firstName"}})],1)]),s("div",{staticClass:"row kp-input-row items-baseline justify-start"},[s("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.lastName")))]),s("div",{staticClass:"kd-field col"},[s("q-input",{ref:"last-name",attrs:{color:"k-main",dense:"",placeholder:e.$t("labels.lastName"),rules:[function(t){return!e.checking||e.fieldRequired(t)}],"no-error-icon":"",autocomplete:"family-name"},model:{value:e.profile.lastName,callback:function(t){e.$set(e.profile,"lastName",t)},expression:"profile.lastName"}})],1)]),s("div",{staticClass:"row kp-input-row items-baseline justify-start"},[s("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.middleName")))]),s("div",{staticClass:"kd-field col"},[s("q-input",{ref:"middle-name",staticClass:"q-field--with-bottom",attrs:{color:"k-main",dense:"",placeholder:e.$t("labels.middleName"),autocomplete:"middle-name"},model:{value:e.profile.initials,callback:function(t){e.$set(e.profile,"initials",t)},expression:"profile.initials"}})],1)]),s("div",{staticClass:"row kp-input-row items-baseline justify-start"},[s("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.address")))]),s("div",{staticClass:"kd-field col"},[s("q-input",{ref:"address",staticClass:"q-field--with-bottom",attrs:{color:"k-main",dense:"",placeholder:e.$t("labels.addressPlaceholder"),autocomplete:"street-address"},model:{value:e.profile.address,callback:function(t){e.$set(e.profile,"address",t)},expression:"profile.address"}})],1)]),s("div",{staticClass:"row kp-input-row items-baseline justify-start"},[s("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.phone")))]),s("div",{staticClass:"kd-field col"},[s("q-input",{ref:"phone",attrs:{color:"k-main",dense:"",placeholder:e.$t("labels.phone"),rules:[function(t){return!e.checking||!t||0===t.length||e.phoneValidation(t)}],"no-error-icon":"",autocomplete:"tel"},model:{value:e.profile.phone,callback:function(t){e.$set(e.profile,"phone",t)},expression:"profile.phone"}})],1)]),s("div",{staticClass:"row kp-input-row items-baseline justify-start"},[s("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.affiliation")))]),s("div",{staticClass:"kd-field col"},[s("q-input",{ref:"affiliation",staticClass:"q-field--with-bottom",attrs:{color:"k-main",dense:"",placeholder:e.$t("labels.affiliation")},model:{value:e.profile.affiliation,callback:function(t){e.$set(e.profile,"affiliation",t)},expression:"profile.affiliation"}})],1)]),s("div",{staticClass:"row kp-input-row items-baseline justify-start"},[s("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.jobTitle")))]),s("div",{staticClass:"kd-field col"},[s("q-input",{ref:"job-title",staticClass:"q-field--with-bottom",attrs:{color:"k-main",dense:"",placeholder:e.$t("labels.jobTitle"),autocomplete:"organization-title"},model:{value:e.profile.jobTitle,callback:function(t){e.$set(e.profile,"jobTitle",t)},expression:"profile.jobTitle"}})],1)])]),s("div",{staticClass:"kp-send-updates row"},[s("q-checkbox",{attrs:{color:"k-main",label:e.$t("messages.sendUpdates")},model:{value:e.profile.sendUpdates,callback:function(t){e.$set(e.profile,"sendUpdates",t)},expression:"profile.sendUpdates"}})],1),s("div",{staticClass:"row kp-update-btn justify-end"},[s("q-btn",{attrs:{color:"k-main",label:e.$t("labels.updateProfileBtn"),disabled:!e.modified},on:{click:e.updateProfile}})],1)]),s("div",{staticClass:"col kp-col"},[s("h4",{staticClass:"kp-header row kh-h-first kp-in-line"},[e._v(e._s(e.$t("labels.groupsHeader")))]),e.profile.groupEntries&&e.profile.groupEntries.length>0?e._l(e.profile.groupEntries,(function(t,a){return s("div",{key:a,staticClass:"kp-group"},[t.group.iconUrl?s("img",{staticClass:"kp-group-icon",attrs:{valign:"middle",src:t.group.iconUrl,title:t.group.groupName,alt:t.group.groupName,width:"30"}}):s("span",{staticClass:"ka-no-group-icon ka-medium",attrs:{title:t.group.groupName}},[e._v(e._s(t.group.name.charAt(0).toUpperCase()))]),s("span",{staticClass:"kp-group-name"},[e._v(e._s(t.group.name))]),s("div",{staticClass:"inline-block float-right"},[s("q-btn",{attrs:{disable:t.group.worldview&&!t.group.optIn,round:"",color:"k-red",size:"sm",icon:"delete"},on:{click:function(s){return e.removeGroup(t.group.name)}}}),t.group.worldview&&!t.group.optIn?s("q-tooltip",{staticClass:"bg-k-red",attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],delay:600}},[s("span",[e._v(e._s(e.$t("messages.notDeletableGroup",{reason:e.$t("messages.notDeletableGroupWorldview")})))])]):e._e()],1),s("q-btn",{staticClass:"float-right",attrs:{round:"",color:"k-controls",size:"sm",icon:"update"},on:{click:function(s){return e.updateGroup(t.group.name)}}}),s("div",{staticClass:"kp-group-expires"},[s("span",[e._v(e._s(e.$t("labels.expireDate"))+": "+e._s(e.formatDate(t.experation,!0)))])])],1)})):[s("div",{staticClass:"kp-no-group",domProps:{innerHTML:e._s(e.$t("messages.noGroupsAssigned"))}})],s("div",{staticClass:"kp-make-request q-ma-lg"},[s("q-btn",{staticClass:"float-right",attrs:{icon:"mdi-account-multiple-plus",color:"k-controls",label:e.$t("labels.requestGroups")},on:{click:e.getAvailableGroups}})],1)],2),s("q-dialog",{model:{value:e.request,callback:function(t){e.request=t},expression:"request"}},[s("q-card",{staticClass:"ka-dialog"},[s("q-card-section",{staticClass:"ka-dialog-title"},[e._v(e._s(e.$t("labels.requestGroups")))]),s("q-separator"),s("q-card-section",{staticClass:"q-pa-xs"},[s("q-list",[s("q-item",[s("q-item-section",[s("q-item-label",[e._v(e._s(e.$t("labels.requestGroupsText")))])],1)],1),e.availableGroups.length>0?[s("q-item",[s("q-item-section",[s("q-item-label",[e._v(e._s(e.$t("labels.availableGroups")))])],1)],1),s("q-item",[s("q-item-section",e._l(e.availableGroups,(function(t,a){return s("div",{key:a},[s("q-checkbox",{staticClass:"q-pa-xs q-ma-none",attrs:{val:t,color:"k-controls"},model:{value:e.requesting,callback:function(t){e.requesting=t},expression:"requesting"}},[e._v(e._s(t)+"\n                    ")])],1)})),0)],1)]:[s("q-item",[s("q-item-section",[s("strong",[e._v(e._s(e.$t("messages.noAvailableGroups")))])])],1)],s("q-item",[s("q-item-section",{staticClass:"absolute-bottom-right q-ma-sm"},[s("div",[s("q-btn",{attrs:{disable:0===e.availableGroups.length,color:"k-controls",label:e.$t("labels.requestGroupsButton")},on:{click:e.requestGroups}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"k-red",label:e.$t("labels.btnCancel")}})],1)])],1)],2)],1)],1)],1)],1),s("klab-loading",{attrs:{loading:e.waiting,message:e.$t("messages.doingThings")}})],1)},Xt=[],Jt={name:"ProfileView",components:{KhubDefaultContainer:yt,KlabLoading:ut},mixins:[Nt],data(){return{menuItems:mt,edit:!1,groupAdd:!1,modified:!1,checking:!1,request:!1,requesting:[],waiting:!1,ROLES:_e}},computed:{profile(){return this.$store.getters["auth/profile"]},availableGroups(){if(this.profile.groupEntries){const e=this.$store.getters["auth/groupnames"];return this.profile.groupEntries.forEach(t=>{e.splice(e.indexOf(t.group.name),1)}),e}return[]}},methods:{updateProfile(){this.checking=!0,this.$refs["first-name"].validate(),this.$refs["last-name"].validate(),this.$refs.phone.validate(),this.checking=!1,this.$refs["first-name"].hasError||this.$refs["last-name"].hasError||this.$refs.phone.hasError||(this.waiting=!0,this.$store.dispatch("auth/updateProfile",this.profile).then(()=>{this.$q.notify({message:this.$t("messages.profileUpdated"),color:"positive"}),this.waiting=!1}).catch(e=>{console.error("Problem updating profile: "+e.message),this.$q.notify({message:this.$t("messages.errorUpdatingProfile"),color:"negative"}),this.waiting=!1}))},getAvailableGroups(){this.waiting=!0,this.$store.dispatch("auth/getAvailableGroups").then(()=>{this.$nextTick(()=>{this.request=!0,this.waiting=!1})}).catch(e=>{console.error("Problem updating profile: "+e.message),this.$q.notify({message:this.$t("messages.errorLoadingAvailableGroups"),color:"negative"}),this.waiting=!1})},requestGroups(){this.$store.dispatch("auth/requestGroups",this.requesting).then(()=>{this.request=!1,this.requesting=[],this.$store.dispatch("auth/getProfile"),this.$q.notify({message:this.$t("messages.requestSent"),color:"positive"})}).catch(e=>{console.error(e),this.$q.notify({message:this.$t("messages.requestSentError"),color:"negative"})})},updateGroup(e){this.$store.dispatch("auth/requestGroups",[e]).then(()=>{this.$store.dispatch("auth/getProfile"),this.$q.notify({message:this.$t("messages.requestSent"),color:"positive"})}).catch(()=>{})},removeGroup(e){this.$q.dialog({title:this.$t("messages.confirmRemoveTitle"),message:this.$t("messages.confirmRemoveGroup",{group:e}),ok:{color:"k-controls"},cancel:{color:"k-red"},persistent:!0}).onOk(()=>{this.$store.dispatch("auth/removeGroup",[e]).then(()=>{this.$store.dispatch("auth/getProfile"),this.$q.notify({message:this.$t("messages.requestSent"),color:"positive"})}).catch(e=>{console.error(e),this.$q.notify({message:this.$t("messages.requestSentError"),color:"negative"})})})},formatDate:eo},watch:{profile:{handler(){this.modified=!0},deep:!0}}},Zt=Jt,es=(s("8bf4"),s("8572")),ts=Object(te["a"])(Zt,Yt,Xt,!1,null,null,null),ss=ts.exports;et()(ts,"components",{QIcon:g["a"],QTooltip:P["a"],QInput:w["a"],QField:es["a"],QCheckbox:S["a"],QBtn:h["a"],QDialog:I["a"],QCard:T["a"],QCardSection:M["a"],QSeparator:A["a"],QList:f["a"],QItem:b["a"],QItemSection:v["a"],QItemLabel:k["a"]}),et()(ts,"directives",{ClosePopup:B["a"]});var as=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("khub-default-container",{attrs:{"menu-items":e.menuItems}},[s("div",{staticClass:"kh-cp-container"},[s("h2",{staticClass:"kh-h-first"},[e._v(e._s(e.$t("messages.changePasswordTitle")))]),s("form",{on:{submit:function(t){return t.preventDefault(),e.doChange()}}},[s("input",{staticStyle:{display:"none"},attrs:{type:"text",name:"username",autocomplete:"username"},domProps:{value:e.username}}),s("q-input",{ref:"psw-input",staticClass:"kh-input",attrs:{color:"k-main",rules:[function(t){return 0===t.length&&!e.checking||e.passwordValidation(t)}],"no-error-icon":"","min-length":"8","max-length":"32",type:e.isPwd?"password":"text",placeholder:e.$t("labels.newPassword"),autocomplete:"current-password",autofocus:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-key"}})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"mdi-eye-off-outline":"mdi-eye-outline"},on:{mousedown:function(t){e.isPwd=!1},mouseup:function(t){e.isPwd=!0}}})]},proxy:!0}]),model:{value:e.passwordRequest.password,callback:function(t){e.$set(e.passwordRequest,"password",t)},expression:"passwordRequest.password"}}),s("q-input",{ref:"conf-input",staticClass:"kh-input",attrs:{color:"k-main",rules:[function(t){return 0===t.length&&!e.checking||e.passwordValidation(t)}],"no-error-icon":"","min-length":"8","max-length":"32",type:e.isPwdConfirm?"password":"text",placeholder:e.$t("labels.newPasswordConfirmation"),autocomplete:"current-password"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-key"}})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwdConfirm?"mdi-eye-off-outline":"mdi-eye-outline"},on:{mousedown:function(t){e.isPwdConfirm=!1},mouseup:function(t){e.isPwdConfirm=!0}}})]},proxy:!0}]),model:{value:e.passwordRequest.confirmation,callback:function(t){e.$set(e.passwordRequest,"confirmation",t)},expression:"passwordRequest.confirmation"}}),s("div",{staticClass:"cp-button-container col text-right"},[s("q-btn",{staticClass:"right",attrs:{type:"submit",color:"k-main",label:e.$t("labels.changePasswordConfirmation"),disabled:""===e.passwordRequest.password||""===e.passwordRequest.confirmation}})],1)],1)]),s("klab-loading",{attrs:{loading:e.changingPassword,message:e.$t("messages.changingPassword")}})],1)},os=[],rs={name:"ChangePassword",components:{KhubDefaultContainer:yt,KlabLoading:ut},mixins:[Nt],data(){return{menuItems:mt,passwordRequest:{password:"",confirmation:""},isPwd:!0,isPwdConfirm:!0,changingPassword:!1,checking:!1}},computed:{username(){return this.$store.getters["auth/username"]},profileIsLoad(){return this.$store.getters["auth/profileIsLoad"]}},methods:{resetValidation(e){e.target.resetValidation()},doChange(){this.checking=!0,this.$refs["psw-input"].validate(),this.$refs["conf-input"].validate(),this.checking=!1,this.$refs["psw-input"].hasError||this.$refs["conf-input"].hasError||(this.passwordRequest.password===this.passwordRequest.confirmation?this.profileIsLoad&&this.username?(this.changingPassword=!0,this.$store.dispatch("auth/requestNewPassword",this.username).then(()=>{console.debug("Token loaded"),this.$store.dispatch("auth/setNewPassword",{passwordRequest:this.passwordRequest}).then(()=>{this.changingPassword=!1,this.$q.notify({message:this.$t("messages.passwordChanged"),color:"positive"})}).catch(e=>{this.changingPassword=!1,console.error(`Error ${e.status} changing password: ${e.message}`),e.message.startsWith("Error sending email")?this.$q.notify({message:this.$t("messages.passwordMailError"),color:"warning"}):this.$q.notify({message:this.$t("messages.passwordChangedError"),color:"negative"})})}).catch(e=>{console.error("Problem retrieving token: "+e.message),this.changingPassword=!1,this.$q.notify({message:this.$t("messages.passwordUnableToDo"),color:"negative"})})):(console.error(`Problems loading token: profile is${this.profileIsLoad?"":"n't"} loaded and username is not set`),this.$q.notify({message:"Unable to change user password",color:"negative"})):this.$q.notify({message:this.$t("messages.passwordDoesNotMatch"),color:"negative"}))}},watch:{}},is=rs,ns=(s("4405"),Object(te["a"])(is,as,os,!1,null,null,null)),ls=ns.exports;et()(ns,"components",{QInput:w["a"],QIcon:g["a"],QBtn:h["a"]});var cs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("khub-default-container",{attrs:{"menu-items":e.menuItems}},[s("h2",{staticClass:"kh-h-first"},[e._v(e._s(e.$t("contents.certificateTitle")))]),s("div",{domProps:{innerHTML:e._s(e.$t("contents.certificateContentBeforeEULA"))}}),s("h4",{staticClass:"kh-eula-title"},[e._v("k.LAB End user license agreement\n    "),s("span",{staticClass:"kh-lang-selection"},[e._v("["),s("em",{staticClass:"kh-link",class:{disabled:"en"===e.eulaLang},on:{click:function(t){e.eulaLang="en"}}},[e._v("English")]),e._v("]\n    / ["),s("em",{staticClass:"kh-link",class:{disabled:"es"===e.eulaLang},on:{click:function(t){e.eulaLang="es"}}},[e._v("EspaÃ±ol")]),e._v("]")])]),s("div",{staticClass:"kh-eula-container"},[s("iframe",{attrs:{id:"kh-eula",width:"100%",height:"300px",frameBorder:"0",src:"https://integratedmodelling.org/statics/eula/BC3-EULA-Not-For-Profit-Individual_"+e.eulaLang.toUpperCase()+".txt"}})]),s("div",{domProps:{innerHTML:e._s(e.$t("contents.certificateContentAfterEULA"))}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-checkbox",{attrs:{color:"k-main",label:e.$t("messages.acceptEULA")},model:{value:e.accept,callback:function(t){e.accept=t},expression:"accept"}})],1),s("div",{staticClass:"col text-right"},[s("q-btn",{attrs:{color:"k-main",label:e.$t("labels.acceptEULA"),disabled:!e.accept},on:{click:e.downloadCertificate}}),s("q-btn",{attrs:{color:"k-main",outline:"",label:e.$t("labels.declineEULA")},on:{click:e.mustAccept}})],1)]),s("klab-loading",{attrs:{loading:e.downloading,message:e.$t("messages.downloadingCertificate")}})],1)},us=[],ds={name:"Certificate",components:{KhubDefaultContainer:yt,KlabLoading:ut},data(){return{menuItems:mt,eulaLang:"en",accept:!1,downloading:!1}},computed:{profile(){return this.$store.getters["auth/profile"]}},methods:{downloadCertificate(){this.accept?(this.downloading=!0,this.$store.dispatch("auth/getCertificate",this.profile.name).then(()=>{this.downloading=!1}).catch(e=>{console.error(`Error ${e.status}: ${e.message}`),this.$q.notify({message:this.$t("messages.errorGeneratingCertificate"),color:"negative"}),this.downloading=!1})):this.mustAccept()},mustAccept(){this.$q.notify({message:this.$t("messages.mustAcceptEULA"),color:"negative"})}},mounted(){}},ps=ds,ms=(s("7187"),Object(te["a"])(ps,cs,us,!1,null,null,null)),hs=ms.exports;et()(ms,"components",{QCheckbox:S["a"],QBtn:h["a"]});var gs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"full-width column content-center au-form-container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"q-col-gutter-y-md",staticStyle:{"min-width":"70%","max-width":"70%"}},[s("form",{on:{submit:function(t){return t.preventDefault(),e.doChange()}}},[s("q-input",{ref:"psw-input",attrs:{color:"k-main",rules:[function(t){return 0===t.length&&!e.checking||e.passwordValidation(t)}],"no-error-icon":"","min-length":"8","max-length":"32",type:e.isPwd?"password":"text",placeholder:e.$t("labels.newPassword"),autocomplete:"current-password",autofocus:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-key"}})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"mdi-eye-off-outline":"mdi-eye-outline"},on:{mousedown:function(t){e.isPwd=!1},mouseup:function(t){e.isPwd=!0}}})]},proxy:!0}]),model:{value:e.passwordRequest.password,callback:function(t){e.$set(e.passwordRequest,"password",t)},expression:"passwordRequest.password"}}),s("q-input",{ref:"conf-input",attrs:{color:"k-main",rules:[function(t){return 0===t.length&&!e.checking||e.passwordValidation(t)}],"no-error-icon":"","min-length":"8","max-length":"32",type:e.isPwdConfirm?"password":"text",placeholder:e.$t("labels.newPasswordConfirmation"),autocomplete:"current-password"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-key"}})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwdConfirm?"mdi-eye-off-outline":"mdi-eye-outline"},on:{mousedown:function(t){e.isPwdConfirm=!1},mouseup:function(t){e.isPwdConfirm=!0}}})]},proxy:!0}]),model:{value:e.passwordRequest.confirmation,callback:function(t){e.$set(e.passwordRequest,"confirmation",t)},expression:"passwordRequest.confirmation"}}),s("div",{staticClass:"cp-button-container col text-right"},[s("q-btn",{staticClass:"right",attrs:{type:"submit",color:"k-main",label:e.$t("labels.changePasswordConfirmation"),disabled:""===e.passwordRequest.password||""===e.passwordRequest.confirmation}})],1)],1)])])},fs=[],bs={name:"ChangePasswordCallback",mixins:[Nt],data(){return{user:null,clickback:null,show:!1,passwordRequest:{password:"",confirmation:""},isPwd:!0,isPwdConfirm:!0,checking:!1}},methods:{doChange(){this.checking=!0,this.$refs["psw-input"].validate(),this.$refs["conf-input"].validate(),this.checking=!1,this.$refs["psw-input"].hasError||this.$refs["conf-input"].hasError||(this.passwordRequest.password===this.passwordRequest.confirmation?this.$store.dispatch("auth/setNewPassword",{user:this.user,passwordRequest:this.passwordRequest,clickback:this.clickback}).then(()=>{this.$q.notify({message:this.$t("messages.passwordChanged"),color:"positive"}),this.$router.push("/login")}).catch(e=>{console.error("Error changing password: "+e),e.message.startsWith("Error sending email")?this.$q.notify({message:this.$t("messages.passwordMailError"),color:"warning"}):this.$q.notify({message:this.$t("messages.passwordChangedError"),color:"negative"})}):this.$q.notify({message:this.$t("messages.passwordDoesNotMatch"),color:"negative"}))}},mounted(){if("activateCallback"===this.$route.name||"lostPasswordCallback"===this.$route.name){const e=this.$route.query;"activateCallback"===this.$route.name?this.$store.dispatch("auth/activateUser",e).then(()=>{this.show=!0,this.$q.notify({message:this.$t("messages.verifiedSuccess"),color:"positive"})}).catch(e=>{console.error(`Error ${e.status} while activating: ${e.message}`),this.$q.notify({message:this.$t("messages.verifiedFailure"),color:"negative"})}):(this.clickback=e.token,this.user=e.user,this.show=!0)}else this.$router.push("/login")}},vs=bs,ks=Object(te["a"])(vs,gs,fs,!1,null,"3e5cdf8c",null),ws=ks.exports;et()(ks,"components",{QInput:w["a"],QIcon:g["a"],QBtn:h["a"]});var Es=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("khub-default-container",{attrs:{"menu-items":e.menuItems}},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view")],1)],1)},_s=[],Cs={name:"AdminPage",components:{KhubDefaultContainer:yt},data(){return{menuItems:ht}},methods:X()({},Object(J["b"])("admin",["loadSenders"])),created(){this.loadSenders().then(e=>{console.info(`Loaded ${e.length} senders`)}).catch(e=>{console.error(e.message)})}},Ss=Cs,qs=(s("38c2"),Object(te["a"])(Ss,Es,_s,!1,null,null,null)),ys=qs.exports,Os=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ka-content"},[s("h2",{staticClass:"kh-h-first"},[e._v(e._s(e.$t("contents.adminHomeTitle")))]),s("div",{domProps:{innerHTML:e._s(e.$t("contents.adminHomeContent"))}})])},$s=[],Rs={data(){return{}}},Ts=Rs,As=Object(te["a"])(Ts,Os,$s,!1,null,null,null),Ps=As.exports,Ns=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ka-content"},[s("h2",{staticClass:"kh-h-first"},[e._v(e._s(e.$t("contents.adminUsersTitle"))+"\n    "),s("q-icon",{staticClass:"cursor-pointer text-k-controls ka-refresh",class:{"ka-refreshing":e.refreshing},attrs:{name:"mdi-refresh"},on:{click:e.refreshUsers}},[s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0]}},[e._v(e._s(e.$t("labels.refreshUsers")))])],1)],1),e.users.length>0?s("div",{},[s("div",{staticClass:"row full-width ka-filters",class:[e.filtered?"ka-filtered":""]},[s("div",{staticClass:"row full-width"},[s("div",{staticClass:"col-6"},[s("div",{staticClass:"row full-width"},[s("q-input",{staticClass:"q-pa-sm col-4",attrs:{color:"k-controls",dense:"",clearable:"",label:e.$t("labels.username"),tabindex:"1"},model:{value:e.filter.username,callback:function(t){e.$set(e.filter,"username",t)},expression:"filter.username"}}),s("q-input",{staticClass:"q-pa-sm col-4",attrs:{color:"k-controls",dense:"",clearable:"",label:e.$t("labels.email"),tabindex:"2"},model:{value:e.filter.email,callback:function(t){e.$set(e.filter,"email",t)},expression:"filter.email"}}),s("q-select",{staticClass:"q-pa-sm col-4",attrs:{color:"k-controls","options-selected-class":"text-k-controls",options:e.accountStatusOptions,label:e.$t("labels.accountStatus"),dense:"","options-dense":"",clearable:"",multiple:"",tabindex:"3"},model:{value:e.filter.accountStatus,callback:function(t){e.$set(e.filter,"accountStatus",t)},expression:"filter.accountStatus"}})],1),s("div",{staticClass:"row full-width"},[s("q-select",{staticClass:"q-pa-sm col-6",attrs:{color:"k-controls",options:e.rolesOptions,label:e.$t("labels.roles"),dense:"","options-dense":"",multiple:"","use-chips":"",clearable:"",tabindex:"4"},scopedSlots:e._u([{key:"option",fn:function(t){return[s("q-item",e._g(e._b({},"q-item",t.itemProps,!1),t.itemEvents),[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:t.opt.icon}})],1),s("q-item-section",[s("q-item-label",{domProps:{innerHTML:e._s(t.opt.name)}})],1)],1)]}},{key:"selected-item",fn:function(t){return[s("q-chip",{staticClass:"q-ma-none",attrs:{removable:"",dense:"",tabindex:t.tabindex,color:"white","text-color":"k-controls"},on:{remove:function(e){return t.removeAtIndex(t.index)}}},[s("q-icon",{attrs:{name:t.opt.icon}}),e._v(e._s(t.opt.name)+"\n                ")],1)]}}],null,!1,1145307856),model:{value:e.filter.roles,callback:function(t){e.$set(e.filter,"roles",t)},expression:"filter.roles"}}),s("div",{staticClass:"q-pa-sm col-6 row"},[s("q-toggle",{attrs:{color:"k-controls",label:e.$t("labels.rolesAll"),"true-value":"all","false-value":"any",tabindex:"5"},model:{value:e.rolesAllAny,callback:function(t){e.rolesAllAny=t},expression:"rolesAllAny"}})],1)],1),s("div",{staticClass:"row full-width"},[s("q-select",{staticClass:"q-pa-sm col-6",attrs:{color:"k-controls",options:e.groupsOptions,label:e.$t("labels.groups"),disable:e.filter.noGroups,dense:"","options-dense":"",multiple:"","use-chips":"",clearable:"",tabindex:"6"},scopedSlots:e._u([{key:"option",fn:function(t){return[s("q-item",e._g(e._b({},"q-item",t.itemProps,!1),t.itemEvents),[null!==t.opt.icon?s("q-item-section",{attrs:{avatar:""}},[s("img",{staticClass:"ka-group-icon",attrs:{src:t.opt.icon,width:"25",alt:t.opt.label}})]):s("q-item-section",{attrs:{avatar:""}},[s("div",{staticClass:"ka-no-group-icon ka-small"},[e._v(e._s(t.opt.label.charAt(0).toUpperCase()))])]),s("q-item-section",[s("q-item-label",{domProps:{innerHTML:e._s(t.opt.label)}}),s("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.opt.description))])],1)],1)]}},{key:"selected-item",fn:function(t){return[s("q-chip",{staticClass:"q-ma-none",attrs:{removable:"",dense:"",tabindex:t.tabindex,color:"white","text-color":"k-controls"},on:{remove:function(e){return t.removeAtIndex(t.index)}}},[null!==t.opt.icon?s("img",{staticClass:"ka-group-icon",attrs:{src:t.opt.icon,width:"15",alt:t.opt.name}}):s("div",{staticClass:"ka-no-group-icon ka-small"},[e._v(e._s(t.opt.label.charAt(0).toUpperCase()))]),e._v("\n                  "+e._s(t.opt.name)+"\n                ")])]}}],null,!1,4092387444),model:{value:e.filter.groups,callback:function(t){e.$set(e.filter,"groups",t)},expression:"filter.groups"}}),s("div",{staticClass:"q-pa-sm col-6 row"},[s("q-toggle",{staticClass:"col-6",attrs:{color:"k-controls",label:e.$t("labels.groupsAll"),"true-value":"all","false-value":"any",disable:e.filter.noGroups,tabindex:"7"},model:{value:e.groupsAllAny,callback:function(t){e.groupsAllAny=t},expression:"groupsAllAny"}}),s("q-checkbox",{staticClass:"col-6",attrs:{color:"k-controls",dense:"",label:e.$t("labels.noGroups"),"left-label":"",tabindex:"8"},model:{value:e.filter.noGroups,callback:function(t){e.$set(e.filter,"noGroups",t)},expression:"filter.noGroups"}})],1)],1)]),s("div",{staticClass:"col-6"},[s("div",{staticClass:"row full-width"},[s("k-input-date",{ref:"lastConnectionFrom",attrs:{classes:"q-pa-sm col-4",color:"k-controls",label:e.$t("labels.lastConnectionFrom"),disable:e.filter.noLastConnection,tabindex:"10"},on:{input:function(t){return e.checkDates("lastConnection","From")}},model:{value:e.filter.lastConnectionFrom,callback:function(t){e.$set(e.filter,"lastConnectionFrom",t)},expression:"filter.lastConnectionFrom"}}),s("k-input-date",{ref:"loginFrom",attrs:{classes:"q-pa-sm col-4",color:"k-controls",label:e.$t("labels.loginFrom"),disable:e.filter.noLastLogin,tabindex:"20"},on:{input:function(t){return e.checkDates("login","From")}},model:{value:e.filter.loginFrom,callback:function(t){e.$set(e.filter,"loginFrom",t)},expression:"filter.loginFrom"}}),s("k-input-date",{ref:"registrationFrom",attrs:{classes:"q-pa-sm col-4",color:"k-controls",label:e.$t("labels.registrationFrom"),disable:e.filter.noRegistrationDate,tabindex:"30"},on:{input:function(t){return e.checkDates("registration","From")}},model:{value:e.filter.registrationFrom,callback:function(t){e.$set(e.filter,"registrationFrom",t)},expression:"filter.registrationFrom"}})],1),s("div",{staticClass:"row full-width"},[s("k-input-date",{ref:"lastConnectionTo",attrs:{classes:"q-pa-sm col-4",color:"k-controls",label:e.$t("labels.lastConnectionTo"),disable:e.filter.noLastConnection,tabindex:"11"},on:{input:function(t){return e.checkDates("lastConnection","To")}},model:{value:e.filter.lastConnectionTo,callback:function(t){e.$set(e.filter,"lastConnectionTo",t)},expression:"filter.lastConnectionTo"}}),s("k-input-date",{ref:"loginTo",attrs:{classes:"q-pa-sm col-4",color:"k-controls",label:e.$t("labels.loginTo"),disable:e.filter.noLastLogin,tabindex:"21"},on:{input:function(t){return e.checkDates("login","To")}},model:{value:e.filter.loginTo,callback:function(t){e.$set(e.filter,"loginTo",t)},expression:"filter.loginTo"}}),s("k-input-date",{ref:"registrationTo",attrs:{classes:"q-pa-sm col-4",color:"k-controls",label:e.$t("labels.registrationTo"),disable:e.filter.noRegistrationDate,tabindex:"31"},on:{input:function(t){return e.checkDates("registration","To")}},model:{value:e.filter.registrationTo,callback:function(t){e.$set(e.filter,"registrationTo",t)},expression:"filter.registrationTo"}})],1),s("div",{staticClass:"row full-width"},[s("q-checkbox",{staticClass:"q-pa-sm col-4",staticStyle:{height:"56px"},attrs:{color:"k-controls",dense:"",label:e.$t("labels.hasLastConnection"),"left-label":"",tabindex:"12"},model:{value:e.filter.noLastConnection,callback:function(t){e.$set(e.filter,"noLastConnection",t)},expression:"filter.noLastConnection"}}),s("q-checkbox",{staticClass:"q-pa-sm col-4",staticStyle:{height:"56px"},attrs:{color:"k-controls",dense:"",label:e.$t("labels.hasLastLogin"),"left-label":"",tabindex:"22"},model:{value:e.filter.noLastLogin,callback:function(t){e.$set(e.filter,"noLastLogin",t)},expression:"filter.noLastLogin"}}),s("q-checkbox",{staticClass:"q-pa-sm col-4",staticStyle:{height:"56px"},attrs:{color:"k-controls",dense:"",label:e.$t("labels.hasRegistrationDate"),"left-label":"",tabindex:"32"},model:{value:e.filter.noRegistrationDate,callback:function(t){e.$set(e.filter,"noRegistrationDate",t)},expression:"filter.noRegistrationDate"}})],1)])]),s("div",{staticClass:"row full-width ka-filter-info q-pa-sm"},[s("div",{staticClass:"col-6 self-end"},[e._v(e._s(e.$t("labels.filterInfo",{filtered:e.filtered?e.$t("labels.filtered"):e.$t("labels.all"),number:e.rowsNumber})))]),s("div",{staticClass:"col text-right"},[s("q-btn",{staticClass:"ka-action-button",attrs:{label:e.$t("labels.clearFilter"),disabled:!e.filtered,color:"k-controls"},on:{click:e.initializeFilter}})],1)])]),s("div",{staticClass:"row full-width ka-actions q-ma-md"},[s("div",{staticClass:"row full-width q-pa-xs ka-selected-info"},[s("div",{staticClass:"inline-block",domProps:{innerHTML:e._s(e.$t("labels.selectedInfo",{selected:e.selected.length,total:e.users.length,type:e.$t("labels.users")}))}}),e.selected.length>0?s("div",{staticClass:"inline-block q-pa-xs"},[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-checkbox-multiple-blank-outline",size:"1.8em"},on:{click:function(t){return e.selected.splice(0,e.selected.length)}}},[s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0]}},[e._v(e._s(e.$t("labels.unselectAll")))])],1)],1):e._e(),e.selected.length<e.users.length?s("div",{staticClass:"inline-block q-pa-xs"},[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-checkbox-multiple-marked-outline",size:"1.8em"},on:{click:e.selectAll}},[s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0]}},[e._v(e._s(e.$t("labels.selectAll")))])],1)],1):e._e()]),s("div",{staticClass:"row full-width q-pa-sm ka-actions-row"},[s("div",{staticClass:"col-1 ka-action-desc"},[e._v(e._s(e.$t("labels.actionsGroups")))]),s("q-btn",{staticClass:"col-2 ka-action-button",attrs:{label:e.$t("labels.assignGroups"),disabled:0===e.selected.length,color:"k-controls"},on:{click:function(t){e.modifyGroups=e.ACTIONS.ADD_GROUPS_ACTION}}}),s("q-btn",{staticClass:"col-2 ka-action-button",attrs:{label:e.$t("labels.removeGroups"),disabled:0===e.selected.length,color:"k-controls"},on:{click:function(t){e.modifyGroups=e.ACTIONS.REMOVE_GROUPS_ACTION}}}),s("div",{staticClass:"col-1 ka-action-desc"},[e._v(e._s(e.$t("labels.actionsOthers")))]),s("q-btn",{staticClass:"col-2 ka-action-button",attrs:{label:e.$t("labels.sendEmail"),disabled:0===e.selected.length,color:"k-controls"},on:{click:function(t){e.sendingEmails=!0}}})],1)]),s("q-table",{ref:"ka-table",staticClass:"no-shadow ka-table",attrs:{data:e.users,filter:e.filter,"filter-method":e.filterMethod,columns:e.columns,"row-key":"id",selection:"multiple",selected:e.selected,pagination:e.pagination,"rows-per-page-options":[10,25,50,100,0],"pagination-label":e.getPaginationLabel,color:"k-controls"},on:{"update:selected":function(t){e.selected=t},"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body",fn:function(t){return[s("q-tr",{class:{"ka-no-updates":!t.row.sendUpdates},attrs:{props:t}},[t.row.sendUpdates?e._e():s("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,10]}},[e._v(e._s(e.$t("messages.userNoSendUpdates")))]),s("q-td",{attrs:{"auto-width":""}},[s("q-checkbox",{attrs:{color:"k-controls"},model:{value:t.selected,callback:function(s){e.$set(t,"selected",s)},expression:"props.selected"}})],1),s("q-td",{key:"name",attrs:{props:t}},[e._v("\n            "+e._s(t.row.name)+"\n          ")]),s("q-td",{key:"email",attrs:{props:t}},[e._v("\n            "+e._s(t.row.email)+"\n          ")]),s("q-td",{key:"roles",staticClass:"text-left",attrs:{props:t}},[s("div",{staticClass:"row wrap"},e._l(t.row.roles,(function(t,a){return s("div",{key:a,staticClass:"col ka-role-icon-col"},[s("div",{staticClass:"ka-roles-icon"},[s("q-icon",{attrs:{name:e.roles[t].icon}},[s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0]}},[e._v(e._s(e.roles[t].name))])],1)],1)])})),0)]),s("q-td",{key:"groups",staticClass:"text-left",attrs:{props:t}},[s("div",{staticClass:"row wrap"},e._l(t.row.groups,(function(t,a){return s("div",{key:a,staticClass:"col ka-group-icon-col"},[e.groupsIcons[t]?s("div",{staticClass:"ka-group-icon"},[s("img",{attrs:{src:e.groupsIcons[t],width:"20",alt:t}}),s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0]}},[e._v(e._s(t))])],1):s("span",{staticClass:"ka-no-group-icon ka-small"},[e._v(e._s(t.charAt(0).toUpperCase())+"\n                  "),s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0]}},[e._v(e._s(t))])],1)])})),0)]),s("q-td",{key:"lastConnection",class:{"ka-not-available":!t.row.lastConnection},attrs:{props:t}},[e._v("\n            "+e._s(e.formatDate(t.row.lastConnection))+"\n          ")]),s("q-td",{key:"lastLogin",class:{"ka-not-available":!t.row.lastLogin},attrs:{props:t}},[e._v("\n            "+e._s(e.formatDate(t.row.lastLogin))+"\n          ")]),s("q-td",{key:"registrationDate",class:{"ka-not-available":!t.row.registrationDate},attrs:{props:t}},[e._v("\n            "+e._s(e.formatDate(t.row.registrationDate))+"\n          ")]),s("q-td",{key:"status",attrs:{props:t}},[e._v("\n            "+e._s(e.formatStatus(t.row.accountStatus))+"\n          ")])],1)]}}],null,!1,1955733970)})],1):e._e(),s("group-selection-dialog",{attrs:{"dialog-action":e.modifyGroupsAction,action:e.modifyGroups,"select-label":e.modifyGroups===e.ACTIONS.ADD_GROUPS_ACTION?e.$t("labels.assignGroups"):e.$t("labels.removeGroups")}}),s("q-dialog",{staticClass:"ka-dialog",attrs:{persistent:""},model:{value:e.sendingEmails,callback:function(t){e.sendingEmails=t},expression:"sendingEmails"}},[s("q-card",{staticStyle:{"min-width":"600px"}},[s("q-card-section",[s("div",{staticClass:"text-h6 q-pa-sm ka-dialog-title",domProps:{innerHTML:e._s(e.$t("labels.sendingToUsers",{users:"<em>"+e.selected.length+"</em>"}))}}),0!==e.userWithNoSend?s("q-checkbox",{staticClass:"q-pa-xs",attrs:{color:"k-red","left-label":"",tabindex:"50"},model:{value:e.mail.forceSendingEmail,callback:function(t){e.$set(e.mail,"forceSendingEmail",t)},expression:"mail.forceSendingEmail"}},[s("span",{staticClass:"ka-nosend-advice",domProps:{innerHTML:e._s(e.$t("labels.forceSend",{users:e.userWithNoSend}))}})]):e._e()],1),s("q-card-section",[s("q-select",{staticClass:"q-pa-sm",attrs:{color:"k-controls",options:e.senders,label:e.$t("labels.emailSenders"),"options-sanitize":!0,dense:"","options-dense":"",clearable:"",tabindex:"51"},model:{value:e.mail.sender,callback:function(t){e.$set(e.mail,"sender",t)},expression:"mail.sender"}}),s("q-input",{staticClass:"q-pa-sm",attrs:{color:"k-controls",dense:"",label:e.$t("labels.emailSubject"),tabindex:"52"},model:{value:e.mail.subject,callback:function(t){e.$set(e.mail,"subject",t)},expression:"mail.subject"}}),s("div",{staticClass:"q-pa-sm ka-field-title"},[e._v(e._s(e.$t("labels.emailContent")))]),s("q-editor",{staticClass:"q-ma-sm",attrs:{"min-height":"10rem",dense:"",tabindex:"53"},model:{value:e.mail.content,callback:function(t){e.$set(e.mail,"content",t)},expression:"mail.content"}})],1),s("q-card-actions",{staticClass:"q-ma-md text-primary",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("labels.btnCancel"),color:"k-controls",tabindex:"55"}}),s("q-btn",{attrs:{label:e.$t("labels.sendEmail"),disabled:null===e.mail.sender||null===e.mail.subject||""===e.mail.subject||null===e.mail.content||""===e.mail.content,color:"k-controls",tabindex:"54"},on:{click:e.sendEmailAction}})],1)],1)],1),s("klab-loading",{attrs:{loading:e.waiting||e.refreshing,message:e.$t("messages.doingThings")}})],1)},xs=[];const Ds=e=>new Promise((t,s)=>{Ja({type:Ae.SEND_EMAIL.method,url:Ae.SEND_EMAIL.url,needAuth:!0,params:e},(e,s)=>{t(e),s()},e=>{s(e)})});var Is=s("c1df"),Us=s.n(Is),Ls=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-input",{ref:"dateInput",class:e.classes,attrs:{color:e.color,rules:[function(t){return e.validateDate(t)}],dense:"",clearable:"",label:e.label,disable:e.disable,tabindex:e.tabindex},on:{blur:function(t){return e.formatDate()},clear:function(t){return e.formatDate()}},scopedSlots:e._u([{key:"append",fn:function(){return[e.modelChange&&!e.$refs["dateInput"].hasError?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-check",title:e.$t("labels.updateField")},on:{click:function(t){return e.formatDate()}}}):e._e(),s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-calendar"}},[s("q-popup-proxy",{ref:"popupProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{mask:"DD-MM-YYYY",minimal:""},on:{input:e.changeDate},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1)],1)]},proxy:!0}]),model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})},Gs=[],js={name:"KInputDate",props:{value:String,classes:String,label:{type:String,required:!0},color:String,disable:{type:Boolean,default:!1},tabindex:{type:[String,Number],default:-1},rule:{type:Function,default:()=>{}}},data(){return{dateValue:this.value,modelChange:!1}},methods:{reset(){this.dateValue=null,this.$emit("input",this.dateValue),this.$nextTick(()=>{this.modelChange=!1})},changeDate(){this.$refs.popupProxy.hide(),this.formatDate(!0)},generateMomentDate(e=!1){if(""===this.dateValue)return this.dateValue=null,null;if(null===this.dateValue)return null;const t=Us()(this.dateValue,e?"DD-MM-YYYY":["L","MM/DD/YYYY","YYYY/MM/DD","DD/MM/YYYY"]);return t},validateDate(){const e=this.generateMomentDate();return null===e||e.isValid()},formatDate(e=!1){const t=this.generateMomentDate(e);null!==t&&t.isValid()&&(this.dateValue=t.format("L")),this.$emit("input",this.dateValue),this.$nextTick(()=>{this.modelChange=!1})}},watch:{dateValue(){this.modelChange=!0}}},Qs=js,Ms=Object(te["a"])(Qs,Ls,Gs,!1,null,null,null),Fs=Ms.exports;et()(Ms,"components",{QInput:w["a"],QIcon:g["a"],QPopupProxy:y["a"],QDate:q["a"]});var Ws=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-dialog",{staticClass:"ka-dialog",attrs:{persistent:""},on:{"before-show":e.resetGroupDependencies},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[s("q-card",{staticStyle:{"min-width":"350px"}},[s("q-card-section",[s("div",{staticClass:"text-h6 q-pa-sm ka-dialog-title"},[e._v(e._s(e.action===e.ACTIONS.ADD_GROUPS_ACTION?e.$t("labels.assignGroups"):e.$t("labels.removeGroups")))])]),s("q-card-section",e._l(e.groupsOptions,(function(t,a){return s("div",{key:a},[s("q-checkbox",{staticClass:"q-pa-xs q-ma-none",attrs:{disable:e.groupDependencies.includes(t.label),val:t.label,color:"k-controls"},model:{value:e.selectedGroups,callback:function(t){e.selectedGroups=t},expression:"selectedGroups"}},[null!==t.icon?s("q-chip",{attrs:{color:"white"}},[s("q-avatar",{attrs:{color:"white"}},[s("img",{attrs:{src:t.icon,width:"30",alt:t.label}})]),e._v("\n            "+e._s(t.label)+"\n          ")],1):s("div",{staticClass:"ka-no-group-chip"},[s("span",{staticClass:"ka-no-group-icon ka-medium"},[e._v(e._s(t.label.charAt(0).toUpperCase()))]),e._v(e._s(t.label))])],1)],1)})),0),s("q-card-actions",{staticClass:"text-k-main",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("labels.btnCancel"),color:"k-controls"},on:{click:function(t){return e.dialogAction(null)}}}),s("q-btn",{attrs:{label:null===e.selectLabel?this.$t("labels.selectGroupButtonDefault"):e.selectLabel,disabled:0===e.selectedGroups.length,color:"k-controls"},on:{click:function(t){return e.dialogAction(e.selectedGroups)}}})],1)],1)],1)},Bs=[],Vs={name:"GroupSelectionDialog",props:{dialogAction:{type:Function,required:!0},action:{type:String,default:null},selectLabel:{type:String,default:null}},data(){return{groupDependencies:[],selectedGroups:[],ACTIONS:Ce}},computed:X()(X()({},Object(J["c"])("admin",["groups","groupsOptions"])),{},{dialogOpen:{get(){return null!==this.action},set(){}}}),methods:X()(X()({},Object(J["b"])("admin",["loadGroups"])),{},{resetGroupDependencies(){this.groupDependencies.splice(0,this.groupDependencies.length)}}),watch:{selectedGroups(){if(this.selectedGroups.length>0){let e,t;e=this.action===Ce.ADD_GROUPS_ACTION?this.groupsOptions.filter(e=>this.selectedGroups.includes(e.label)):this.groupsOptions.filter(e=>!this.selectedGroups.includes(e.label)),this.action===Ce.ADD_GROUPS_ACTION&&(t=e.reduce((e,t)=>(t.dependencies&&t.dependencies.length>0&&t.dependencies.forEach(t=>{e.includes(t)||e.push(t)}),e),[])),this.action===Ce.REMOVE_GROUPS_ACTION&&(t=[],e.forEach(e=>{e.dependencies&&e.dependencies.length>0&&e.dependencies.some(e=>this.selectedGroups.indexOf(e)>=0)&&t.push(e.value)})),this.$nextTick(()=>{this.groupDependencies.splice(0,this.groupDependencies.length),this.groupDependencies.push(...t),this.groupDependencies.forEach(e=>{this.selectedGroups.includes(e)||this.selectedGroups.push(e)})})}},action(e){null!==e&&this.selectedGroups.splice(0,this.selectedGroups.length)}},created(){this.loadGroups()}},Ks=Vs,Hs=Object(te["a"])(Ks,Ws,Bs,!1,null,null,null),zs=Hs.exports;et()(Hs,"components",{QDialog:I["a"],QCard:T["a"],QCardSection:M["a"],QCheckbox:S["a"],QChip:C["a"],QAvatar:R["a"],QCardActions:F["a"],QBtn:h["a"]}),et()(Hs,"directives",{ClosePopup:B["a"]});const Ys={username:"",email:"",registrationFrom:null,registrationTo:null,loginFrom:null,loginTo:null,lastConnectionFrom:null,lastConnectionTo:null,noRegistrationDate:!1,noLastLogin:!1,noLastConnection:!1,accountStatus:null,groups:null,roles:null,noGroups:!1};var Xs={name:"UsersComponent",components:{KInputDate:Fs,KlabLoading:ut,GroupSelectionDialog:zs},data(){return{selected:[],pagination:{sortBy:"lastLogin",descending:!0,rowsPerPage:25,oldRowsPerPage:25},accountStatusOptions:[{label:this.$t("labels.statusActive"),value:"active"},{label:this.$t("labels.statusPendingActivation"),value:"pendingActivation"},{label:this.$t("labels.statusInactive"),value:"inactive"}],rolesOptions:Object.keys(_e).map(e=>_e[e]),groupDependencies:[],groupsAllAny:"any",rolesAllAny:"any",filter:X()({},Ys),columns:[{name:"name",field:"name",required:!0,label:this.$t("labels.username"),align:"left",sortable:!0,headerStyle:"width: 15%"},{name:"email",field:"email",required:!0,label:this.$t("labels.email"),align:"left",sortable:!0,headerStyle:"width: 20%"},{name:"roles",field:"roles",required:!0,label:this.$t("labels.roles"),align:"left",headerStyle:"width: 8%; text-align: center"},{name:"groups",field:"groups",required:!0,label:this.$t("labels.groups"),align:"left",headerStyle:"width: 10%; text-align: center"},{name:"lastConnection",field:"lastConnection",required:!0,label:this.$t("labels.lastConnection"),align:"center",sortable:!0,sort:(e,t)=>ao(e,t),headerStyle:"width: 13%"},{name:"lastLogin",field:"lastLogin",required:!0,label:this.$t("labels.lastLogin"),align:"center",sortable:!0,sort:(e,t)=>ao(e,t),headerStyle:"width: 13%"},{name:"registrationDate",field:"registrationDate",required:!0,label:this.$t("labels.registrationDate"),align:"center",sortable:!0,sort:(e,t)=>ao(e,t),headerStyle:"width: 13%"},{name:"status",field:"accountStatus",required:!0,label:this.$t("labels.accountStatus"),align:"center",headerStyle:"width: 6%"}],roles:_e,ACTIONS:Ce,rowsNumber:0,refreshing:!1,waiting:!1,modifyGroups:null,sendingEmails:!1,mail:{sender:null,subject:null,content:"",type:Re.HTML,forceSendingEmail:!1}}},computed:X()(X()({},Object(J["c"])("admin",["users","groups","groupsIcons","groupsOptions","senders"])),{},{filtered(){return!Ha(this.filter,Ys)},userWithNoSend(){return null!==this.selected&&this.selected.length>0?this.selected.filter(e=>!e.sendUpdates).length:0}}),methods:X()(X()({},Object(J["b"])("admin",["loadUsers","loadGroups","modifyUsersGroups"])),{},{formatDate:eo,selectAll(){this.users.forEach(e=>{0!==this.selected.length&&-1!==this.selected.findIndex(t=>e.id===t.id)||this.selected.push(e)})},formatStatus(e){switch(e){case"active":return this.$t("labels.statusActive");case"verified":return this.$t("labels.statusVerified");case"pendingActivation":return this.$t("labels.statusPendingActivation");case"inactive":return this.$t("labels.statusInactive");default:return e}},initializeFilter(){this.filter=X()({},Ys),this.$refs.lastConnectionFrom.reset(),this.$refs.lastConnectionTo.reset(),this.$refs.registrationFrom.reset(),this.$refs.registrationTo.reset(),this.$refs.loginFrom.reset(),this.$refs.loginTo.reset()},filterMethod(){return this.filtered?this.users.filter(e=>(null===this.filter.username||""===this.filter.username||e.name&&e.name.toLowerCase().includes(this.filter.username.toLowerCase()))&&(null===this.filter.email||""===this.filter.email||e.email&&e.email.toLowerCase().includes(this.filter.email.toLowerCase()))&&(null===this.filter.roles||0===this.filter.roles.length||so(e.roles,this.filter.roles,this.rolesAllAny))&&(!this.filter.noGroups&&(null===this.filter.groups||0===this.filter.groups.length||so(e.groups,this.filter.groups,this.groupsAllAny))||this.filter.noGroups&&0===e.groups.length)&&(null===this.filter.accountStatus||0===this.filter.accountStatus.length||-1!==this.filter.accountStatus.findIndex(t=>t.value===e.accountStatus))&&(!this.filter.noLastConnection||!e.lastConnection)&&(!this.filter.noLastLogin||!e.lastLogin)&&(!this.filter.noRegistrationDate||!e.registrationDate)&&(null===this.filter.lastConnectionFrom||e.lastConnection&&Us()(this.filter.lastConnectionFrom,"L").isSameOrBefore(e.lastConnection))&&(null===this.filter.lastConnectionTo||e.lastConnection&&Us()(this.filter.lastConnectionTo,"L").isSameOrAfter(e.lastConnection))&&(null===this.filter.loginFrom||e.lastLogin&&Us()(this.filter.loginFrom,"L").isSameOrBefore(e.lastLogin))&&(null===this.filter.loginTo||e.lastLogin&&Us()(this.filter.loginTo,"L").isSameOrAfter(e.lastLogin))&&(null===this.filter.registrationFrom||e.registrationDate&&Us()(this.filter.registrationFrom,"L").isSameOrBefore(e.registrationDate))&&(null===this.filter.registrationTo||e.registrationDate&&Us()(this.filter.registrationTo,"L").isSameOrAfter(e.registrationDate))):this.users},filterArrays(e,t,s){const a=t.map(e=>e.value);return"all"===s?a.every(t=>e.includes(t)):e.some(e=>a.includes(e))},sortDate(e,t){return e?t?new Date(e).getTime()-new Date(t).getTime():1:-1},checkDates(e,t){const s=e+"From",a=e+"To";null!==this.filter[s]&&null!==this.filter[a]&&Us()(this.filter[s],"L").isSameOrAfter(Us()(this.filter[a],"L"))&&(this.$refs[`${e}${t}`].reset(),this.$q.notify({message:this.$t("messages.errorDateFromTo",{type:e}),color:"negative"}))},getPaginationLabel(e,t,s){return this.rowsNumber=s,this.$t("labels.pagination",{firstRowIndex:e,endRowIndex:t,totalRowsNumber:s})},refreshUsers(){this.refreshing=!0,this.loadUsers().then(()=>{this.refreshing=!1,this.$q.notify({message:this.$t("messages.usersLoaded"),color:"positive",timeout:1e3})}).catch(e=>{console.error(e),this.$q.notify({message:this.$t("messages.usersLoadedError"),color:"negative",timeout:1500}),this.refreshing=!1})},modifyGroupsAction(e){null!==e?e.length>0&&this.confirm(this.$t("labels.warning"),this.modifyGroups===Ce.ADD_GROUPS_ACTION?this.$t("messages.usersGroupsAssignConfirm",{groupsNumber:e.length,usersNumber:this.selected.length}):this.$t("messages.usersGroupsRemoveConfirm",{groupsNumber:e.length,usersNumber:this.selected.length}),()=>{this.waiting=!0,this.modifyUsersGroups({users:this.selected.map(e=>e.name),groups:e,action:this.modifyGroups}).then(()=>{this.$q.notify({message:this.modifyGroups===Ce.ADD_GROUPS_ACTION?this.$t("messages.usersGroupsAssign"):this.$t("messages.usersGroupsRemoved"),color:"positive",timeout:1e3}),this.waiting=!1,this.modifyGroups=null}).catch(e=>{console.error(e),this.$q.notify({message:this.modifyGroups===Ce.ADD_GROUPS_ACTION?this.$t("messages.usersGroupsAssignError"):this.$t("messages.usersGroupsRemoveError"),color:"negative",timeout:1e3}),this.waiting=!1,this.modifyGroups=null})},()=>{this.modifyGroups=null}):this.modifyGroups=null},sendEmailAction(){if(null!==this.mail.sender&&this.selected.length>0){const e=this.selected.filter(e=>this.mail.forceSendingEmail||e.sendUpdates).map(e=>e.email);if(0===e.length)return void this.$q.notify({message:this.$t("messages.emailWithNoReceipts"),color:"negative"});this.waiting=!0,Ds({from:null,to:e,replayTo:[this.mail.sender],subject:this.mail.subject,content:this.mail.content,type:Re.HTML}).then(()=>{this.waiting=!1,this.sendingEmails=!1,this.$q.notify({message:this.$t("messages.emailSent"),color:"positive"})}).catch(e=>{this.waiting=!1,this.sendingEmails=!1,this.$q.notify({message:e.message,color:"negative"})})}},confirm(e,t,s,a){this.$q.dialog({title:e,message:t,ok:{color:"k-controls",push:!0,flat:!0},cancel:{color:"k-controls",push:!0,flat:!0},persistent:!0}).onOk(()=>{s()}).onCancel(()=>{a()})}}),watch:{filtered(e){e?(this.pagination.oldRowsPerPage=this.pagination.rowsPerPage,this.pagination.rowsPerPage=0):this.pagination.rowsPerPage=this.pagination.oldRowsPerPage},sendingEmails(e){e&&(this.mail={sender:null,subject:null,content:"",type:Re.HTML,forceSendingEmail:!1})}},created(){this.loadGroups().then(()=>{this.refreshUsers()}),Us.a.locale(this.$q.lang.getLocale())},mounted(){}},Js=Xs,Zs=(s("2312"),Object(te["a"])(Js,Ns,xs,!1,null,null,null)),ea=Zs.exports;et()(Zs,"components",{QIcon:g["a"],QTooltip:P["a"],QInput:w["a"],QSelect:_["a"],QItem:b["a"],QItemSection:v["a"],QItemLabel:k["a"],QChip:C["a"],QToggle:O["a"],QCheckbox:S["a"],QBtn:h["a"],QTable:L["a"],QTr:j["a"],QTd:G["a"],QDialog:I["a"],QCard:T["a"],QCardSection:M["a"],QEditor:E["a"],QCardActions:F["a"],QAvatar:R["a"]}),et()(Zs,"directives",{ClosePopup:B["a"]});var ta=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ka-content"},[s("h2",{staticClass:"kh-h-first"},[e._v(e._s(e.$t("contents.adminGroupsTitle"))+"\n    "),s("q-icon",{staticClass:"cursor-pointer text-k-main ka-refresh",class:{"ka-refreshing":e.refreshing},attrs:{name:"mdi-refresh"},on:{click:e.refreshGroups}},[s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0],delay:600}},[e._v(e._s(e.$t("labels.refreshGroups")))])],1)],1),s("div",{staticClass:"row full-width ka-actions q-ma-md"},[s("div",{staticClass:"row full-width q-pa-sm ka-actions-row"},[s("div",{staticClass:"col-1 ka-action-desc"},[e._v(e._s(e.$t("labels.actionsGroups")))]),s("q-btn",{staticClass:"col-2 ka-action-button",attrs:{icon:"mdi-account-multiple-plus",label:e.$t("labels.createGroup"),color:"k-controls"},on:{click:function(t){return e.openDialog()}}})],1)]),e.groups.length>0?s("div",{},[s("q-table",{attrs:{grid:"",data:e.groups,columns:e.columns,"row-key":"icon","rows-per-page-options":[10,30,50,100,0]},scopedSlots:e._u([{key:"item",fn:function(t){return[s("div",{staticClass:"q-pa-xs col-sm-12 col-md-6 col-lg-4"},[s("q-card",{staticClass:"full-height"},[s("q-item",[s("q-item-section",{attrs:{avatar:""}},[t.row.iconUrl?s("img",{attrs:{width:"50",src:t.row.iconUrl}}):s("div",{staticClass:"ka-no-group-icon ka-large"},[e._v(e._s(t.row.name.charAt(0).toUpperCase()))])]),s("q-item-section",[s("div",{staticClass:"ka-group-name"},[e._v(e._s(t.row.name))])]),s("q-item-section",{staticClass:"q-pa-xs ka-group-buttons",attrs:{side:"","no-wrap":""}},[s("q-btn",{attrs:{icon:"mdi-pencil",round:"",color:"k-controls",size:"sm"},on:{click:function(s){return e.openDialog(t.row.name)}}},[s("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],delay:600}},[e._v(e._s(e.$t("labels.editGroup")))])],1),s("div",{staticClass:"inline-block"},[s("q-btn",{attrs:{icon:"mdi-trash-can",round:"",color:"k-red",size:"sm",disable:e.usersCountCounter>0||t.row.usersCount>0},on:{click:function(s){return e.removeGroup(t.row.name)}}},[s("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],delay:600}},[e._v(e._s(e.$t("labels.deleteGroup")))])],1),e.usersCountCounter>0||t.row.usersCount>0?s("q-tooltip",{staticClass:"bg-k-red",attrs:{anchor:"bottom middle",self:"top middle",offset:[0,8],delay:600}},[e.usersCountCounter>0?s("span",[e._v(e._s(e.$t("messages.notDeletableGroup",{reason:e.$t("messages.notDeletableGroupWaiting")})))]):t.row.usersCount>0?s("span",[e._v(e._s(e.$t("messages.notDeletableGroup",{reason:e.$t("messages.notDeletableGroupHasUsers")})))]):e._e()]):e._e()],1)],1)],1),s("q-item-label",{attrs:{caption:""}},[s("div",{staticClass:"ka-group-description q-pa-md"},[e._v(e._s(t.row.description))])]),s("q-separator"),s("q-list",{staticClass:"gc-items"},e._l(t.cols.filter((function(e){return"icon"!==e.name&&"name"!==e.name&&"description"!==e.name})),(function(t){return s("q-item",{key:t.name},[s("q-item-section",{staticClass:"gc-item-label"},[s("q-item-label",[e._v(e._s(t.label))])],1),t.value?Array.isArray(t.value)?s("q-item-section",{class:{"gc-multiple-item":t.value&&t.value.length>0}},[0===t.value.length?s("div",[s("q-item-label",{attrs:{caption:""},domProps:{innerHTML:e._s(e.$t("labels.groupNoValue"))}})],1):e._l(t.value,(function(a,o){return s("div",{key:o},["observables"===t.name?s("q-item-label",{class:{"gc-separator":a.separator},attrs:{caption:""}},[e._v(e._s(a.label)+"\n                      "),a.separator?e._e():s("q-tooltip",{attrs:{anchor:"center right",self:"center left","content-class":"bg-k-main","content-style":"font-size: 12px",delay:600,offset:[5,0]}},[e._v(e._s(a.description))])],1):s("q-item-label",{attrs:{caption:""}},[e._v(e._s(a)+"\n                      "),s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0]}},[e._v(e._s(a))])],1)],1)}))],2):s("q-item-section",{staticClass:"gc-item"},[s("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.value))])],1):s("q-item-section",[s("q-item-label",{attrs:{caption:""},domProps:{innerHTML:e._s(e.$t("labels.groupNoValue"))}})],1)],1)})),1)],1)],1)]}}],null,!1,892252319)}),s("group-form-card",{attrs:{"new-group":e.newGroup}})],1):e._e(),s("klab-loading",{attrs:{loading:e.waiting||e.refreshing,message:e.$t("messages.doingThings")}})],1)},sa=[],aa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return null!==e.group?s("q-dialog",{attrs:{persistent:""},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[s("div",{staticClass:"ka-dialog"},[s("q-card",{staticClass:"full-height"},[s("q-list",[s("q-item",[s("q-item-section",[s("q-input",{ref:"group-name",attrs:{color:"k-controls",disable:!e.newGroup,label:e.$t("labels.groupName"),rules:[function(t){return e.fieldRequired(t)}]},scopedSlots:e._u([{key:"append",fn:function(){return[e.group.name&&e.newGroup?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle",color:"k-main"},on:{click:function(t){t.stopPropagation(),e.group.name=null}}}):e._e()]},proxy:!0}],null,!1,3957828500),model:{value:e.group.name,callback:function(t){e.$set(e.group,"name",t)},expression:"group.name"}})],1)],1),s("q-item",[s("q-item-section",{staticClass:"col-10"},[s("q-input",{ref:"group-icon",attrs:{color:"k-controls",autogrow:"",label:e.$t("labels.groupIcon"),error:e.iconError,"error-message":e.$t("messages.iconNotValid")},on:{input:function(t){e.iconError=!1}},scopedSlots:e._u([{key:"append",fn:function(){return[e.group.iconUrl?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle",color:"k-main"},on:{click:function(t){t.stopPropagation(),e.group.iconUrl=null}}}):e._e()]},proxy:!0}],null,!1,734042839),model:{value:e.group.iconUrl,callback:function(t){e.$set(e.group,"iconUrl",t)},expression:"group.iconUrl"}})],1),s("q-item-section",{staticClass:"col-2"},[s("q-avatar",{attrs:{square:""}},[s("img",{attrs:{alt:e.group.label,src:e.iconSrc},on:{error:function(t){e.iconError=!0}}})])],1)],1),s("q-item",[s("q-item-section",[s("q-input",{ref:"group-description",attrs:{color:"k-controls",autogrow:"",label:e.$t("labels.groupDescription")},scopedSlots:e._u([{key:"append",fn:function(){return[e.group.description?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle",color:"k-main"},on:{click:function(t){t.stopPropagation(),e.group.description=null}}}):e._e()]},proxy:!0}],null,!1,4087788951),model:{value:e.group.description,callback:function(t){e.$set(e.group,"description",t)},expression:"group.description"}})],1)],1),s("q-item",[s("q-item-section",[s("q-select",{ref:"group-dependson",attrs:{color:"k-controls",label:e.$t("labels.groupDependsOn"),options:e.groupNames,multiple:""},on:{filter:e.filterGroups},scopedSlots:e._u([{key:"append",fn:function(){return[e.group.dependsOn?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle",color:"k-main"},on:{click:function(t){t.stopPropagation(),e.group.dependsOn=null}}}):e._e()]},proxy:!0}],null,!1,2249231703),model:{value:e.group.dependsOn,callback:function(t){e.$set(e.group,"dependsOn",t)},expression:"group.dependsOn"}})],1)],1),s("q-item",[s("q-item-section",[s("q-select",{ref:"group-rolerequirement",attrs:{color:"k-controls",label:e.$t("labels.groupRoleRequirement"),options:e.availableRoles,rules:[function(t){return e.fieldRequired(t)}]},model:{value:e.group.roleRequirement,callback:function(t){e.$set(e.group,"roleRequirement",t)},expression:"group.roleRequirement"}})],1)],1),s("q-item",[s("q-item-section",[s("q-input",{ref:"group-maxupload",attrs:{color:"k-controls",type:"number",step:"1024",label:e.$t("labels.groupMaxUpload")},scopedSlots:e._u([{key:"append",fn:function(){return[e.group.maxUpload?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle",color:"k-main"},on:{click:function(t){t.stopPropagation(),e.group.maxUpload=null}}}):e._e()]},proxy:!0}],null,!1,2704186263),model:{value:e.group.maxUpload,callback:function(t){e.$set(e.group,"maxUpload",t)},expression:"group.maxUpload"}})],1)],1),s("q-item",[s("q-item-section",[s("q-checkbox",{ref:"group-worldview",staticClass:"q-pa-sm",attrs:{color:"k-controls",label:e.$t("labels.chkWorldView")},model:{value:e.group.worldview,callback:function(t){e.$set(e.group,"worldview",t)},expression:"group.worldview"}})],1),s("q-item-section",[s("q-checkbox",{ref:"group-checkpreliminary",staticClass:"q-pa-sm",attrs:{color:"k-controls",label:e.$t("labels.chkPreliminary")},model:{value:e.group.preliminary,callback:function(t){e.$set(e.group,"preliminary",t)},expression:"group.preliminary"}})],1),s("q-item-section",[s("q-checkbox",{ref:"group-optin",staticClass:"q-pa-sm",attrs:{color:"k-controls","toggle-order":"ft",dense:"",label:e.$t("labels.chkOptIn")},model:{value:e.group.optIn,callback:function(t){e.$set(e.group,"optIn",t)},expression:"group.optIn"}})],1)],1),s("q-item",[s("q-item-section",[s("q-item-label",[e._v(e._s(e.$t("labels.groupProjectUrls")))])],1),s("q-item-section",{staticClass:"col-1",attrs:{side:""}},[s("q-btn",{staticClass:"gfc-buttons",attrs:{icon:"mdi-plus",round:"",color:"k-controls",size:"xs"},on:{click:e.newProjectUrl}})],1),s("q-item-section",{attrs:{side:""}},[s("q-btn",{staticClass:"gfc-buttons",attrs:{disable:-1===e.selectedProjectUrlIdx,icon:"mdi-trash-can",round:"",color:"k-red",size:"xs"},on:{click:e.deleteProjectUrl}})],1)],1),s("q-item",{staticClass:"gfc-list no-padding"},[s("q-list",{staticClass:"full-width",attrs:{dense:""}},e._l(e.group.projectUrls,(function(t,a){return s("q-item",{key:a,staticClass:"gfc-prjurl-item",attrs:{clickable:"",active:e.selectedProjectUrlIdx===a,"active-class":"gfc-active"},on:{click:function(t){e.selectedProjectUrlIdx===a?e.selectedProjectUrlIdx=-1:e.selectedProjectUrlIdx=a}}},[s("q-item-section",[s("q-item-label",{staticClass:"gfc-prjurl-label"},[e._v(e._s(t))])],1)],1)})),1)],1),s("q-item",[s("q-item-section",[s("q-input",{ref:"project-url",attrs:{color:"k-controls",label:e.$t("labels.groupProjectUrl"),dense:""},model:{value:e.projectUrl,callback:function(t){e.projectUrl=t},expression:"projectUrl"}})],1),s("q-item-section",{attrs:{side:""}},[s("q-btn",{staticClass:"gfc-buttons",attrs:{disable:null===e.projectUrl,icon:"mdi-check",round:"",color:"k-controls",size:"xs"},on:{click:e.applyProjectUrl}})],1)],1)],1),s("q-list",[s("q-item",[s("q-item-section",[s("q-item-label",[e._v(e._s(e.$t("labels.associatedObservables")))])],1),s("q-item-section",{staticClass:"col-1",attrs:{side:""}},[s("q-btn",{staticClass:"gfc-buttons",attrs:{icon:"mdi-plus",round:"",color:"k-controls",size:"xs"},on:{click:function(t){return e.openObservableDialog()}}})],1),s("q-item-section",{staticClass:"col-1",attrs:{side:""}},[s("q-btn",{staticClass:"gfc-buttons",attrs:{disable:!e.selectedObservable.obs,icon:"mdi-pencil",round:"",color:"k-main",size:"xs"},on:{click:function(t){return e.openObservableDialog(e.selectedObservable.index)}}})],1),s("q-item-section",{attrs:{side:""}},[s("q-btn",{staticClass:"gfc-buttons",attrs:{disable:!e.selectedObservable.obs,icon:"mdi-trash-can",round:"",color:"k-red",size:"xs"},on:{click:e.deleteObservable}})],1)],1),s("q-item",{staticClass:"gfc-list no-padding"},[s("q-list",{staticClass:"full-width",attrs:{dense:""}},e._l(e.filteredObservables,(function(t,a){return s("q-item",{key:a,staticClass:"gfc-observable",class:{"gfc-is-separator":t.separator},attrs:{clickable:"","data-observable":t.id,"active-class":"gfc-active",active:e.selectedObservable&&e.selectedObservable.index===a,id:"gfc-obs-"+a},on:{click:function(s){return e.selectObservable(t,a)}}},[s("q-item-section",[s("q-item-label",[e._v(e._s(t.label))])],1)],1)})),1)],1),s("q-item",{staticClass:"no-margin"},[s("q-item-section",[s("q-input",{directives:[{name:"show",rawName:"v-show",value:0!==e.filteredObservables.length,expression:"filteredObservables.length !== 0"}],attrs:{color:"k-controls",dense:"","hide-bottom-space":""},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"mdi-magnify",color:"k-main"}}),e.filter&&""!==e.filter?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle",color:"k-main"},on:{click:function(t){t.stopPropagation(),e.filter=null}}}):e._e()]},proxy:!0}],null,!1,1431778307),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),s("q-item-section",{staticClass:"col-1",attrs:{side:""}},[s("q-btn",{staticClass:"gfc-buttons",attrs:{disable:!e.selectedObservable.obs,icon:"mdi-arrow-collapse-up",round:"",color:"k-main",size:"xs"},on:{click:function(t){return e.moveObservable("FIRST")}}})],1),s("q-item-section",{staticClass:"col-1",attrs:{side:""}},[s("q-btn",{staticClass:"gfc-buttons",attrs:{disable:!e.selectedObservable.obs,icon:"mdi-arrow-up",round:"",color:"k-main",size:"xs"},on:{click:function(t){return e.moveObservable("PREV")}}})],1),s("q-item-section",{staticClass:"col-1",attrs:{side:""}},[s("q-btn",{staticClass:"gfc-buttons",attrs:{disable:!e.selectedObservable.obs,icon:"mdi-arrow-down",round:"",color:"k-main",size:"xs"},on:{click:function(t){return e.moveObservable("NEXT")}}})],1),s("q-item-section",{attrs:{side:""}},[s("q-btn",{staticClass:"gfc-buttons",attrs:{disable:!e.selectedObservable.obs,icon:"mdi-arrow-collapse-down",round:"",color:"k-main",size:"xs"},on:{click:function(t){return e.moveObservable("LAST")}}})],1)],1),s("q-item",{staticClass:"q-pa-md"},[s("q-item-section",[s("q-btn",{attrs:{color:"k-controls",label:e.$t("labels.submitForm")},on:{click:e.submitGroup}})],1),s("q-item-section",[s("q-btn",{attrs:{color:"k-red",label:e.$t("labels.cancelForm")},on:{click:e.closeDialog}})],1)],1)],1)],1),e.selectedObservable.obs?s("q-dialog",{attrs:{"no-backdrop-dismiss":""},model:{value:e.observableDialog,callback:function(t){e.observableDialog=t},expression:"observableDialog"}},[s("q-card",{staticClass:"gfc-observable-card ka-dialog"},[s("q-card-section",{staticClass:"ka-dialog-title"},[e._v(e._s(e.selectedObservable.obs.label?e.selectedObservable.obs.label:e.$t("labels.observableAdd")))]),s("q-separator"),s("q-card-section",{staticClass:"q-pa-xs"},[s("q-list",[s("q-item",[s("q-item-section",[s("q-input",{ref:"obs-label",attrs:{color:"k-controls",dense:"",disable:-1!==e.selectedObservable.index,rules:[function(t){return e.fieldRequired(t)}],label:e.$t("labels.observableLabel")},scopedSlots:e._u([{key:"append",fn:function(){return[e.selectedObservable.obs.label&&-1===e.selectedObservable.index?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle",color:"k-main"},on:{click:function(t){t.stopPropagation(),e.selectedObservable.obs.label=null}}}):e._e()]},proxy:!0}],null,!1,955453402),model:{value:e.selectedObservable.obs.label,callback:function(t){e.$set(e.selectedObservable.obs,"label",t)},expression:"selectedObservable.obs.label"}})],1)],1),s("q-item",[s("q-item-section",[s("q-checkbox",{ref:"obs-isseparator",attrs:{color:"k-controls",dense:"",label:e.$t("labels.observableIsSeparator")},model:{value:e.selectedObservable.obs.separator,callback:function(t){e.$set(e.selectedObservable.obs,"separator",t)},expression:"selectedObservable.obs.separator"}})],1)],1),s("q-item",[s("q-item-section",[s("q-input",{ref:"obs-observable",attrs:{color:"k-controls",dense:"",disable:e.selectedObservable.obs.separator,rules:[function(t){return e.selectedObservable.obs.separator||e.fieldRequired(t)}],label:e.$t("labels.observableObservable")},model:{value:e.selectedObservable.obs.observable,callback:function(t){e.$set(e.selectedObservable.obs,"observable",t)},expression:"selectedObservable.obs.observable"}})],1)],1),s("q-item",[s("q-item-section",[s("q-select",{ref:"obs-semantic",attrs:{color:"k-controls",dense:"",disable:e.selectedObservable.obs.separator,rules:[function(t){return e.selectedObservable.obs.separator||e.fieldRequired(t)}],label:e.$t("labels.observableSemantic"),options:e.semantics},scopedSlots:e._u([{key:"append",fn:function(){return[e.selectedObservable.obs.semantic?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle",color:"k-main"},on:{click:function(t){t.stopPropagation(),e.selectedObservable.obs.semantic=null}}}):e._e()]},proxy:!0}],null,!1,1821730903),model:{value:e.selectedObservable.obs.semantics,callback:function(t){e.$set(e.selectedObservable.obs,"semantics",t)},expression:"selectedObservable.obs.semantics"}})],1)],1),s("q-item",[s("q-item-section",[s("q-input",{ref:"obs-description",attrs:{color:"k-controls",dense:"",autogrow:"",label:e.$t("labels.observableDescription")},scopedSlots:e._u([{key:"append",fn:function(){return[e.selectedObservable.obs.description?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle",color:"k-main"},on:{click:function(t){t.stopPropagation(),e.selectedObservable.obs.description=null}}}):e._e()]},proxy:!0}],null,!1,2866138295),model:{value:e.selectedObservable.obs.description,callback:function(t){e.$set(e.selectedObservable.obs,"description",t)},expression:"selectedObservable.obs.description"}})],1)],1),s("q-item",[s("q-item-section",[s("q-select",{ref:"obs-state",attrs:{color:"k-controls",dense:"",disable:e.selectedObservable.obs.separator,rules:[function(t){return e.selectedObservable.obs.separator||e.fieldRequired(t)}],label:e.$t("labels.observableState"),options:e.observableStates},model:{value:e.selectedObservable.obs.state,callback:function(t){e.$set(e.selectedObservable.obs,"state",t)},expression:"selectedObservable.obs.state"}})],1)],1),-1===e.selectedObservable.index?s("q-item",[s("q-item-section",[s("q-select",{ref:"obs-insertionPoint",attrs:{color:"k-controls",dense:"",label:e.$t("labels.observableInsertionPoint"),rules:[function(t){return e.fieldRequired(t)}],options:e.insertionPoint},model:{value:e.selectedObservable.insertionPoint,callback:function(t){e.$set(e.selectedObservable,"insertionPoint",t)},expression:"selectedObservable.insertionPoint"}})],1)],1):e._e(),s("q-item",[s("q-item-section",[s("q-input",{ref:"obs-extdescription",attrs:{color:"k-controls",dense:"",disable:e.selectedObservable.obs.separator,autogrow:"",label:e.$t("labels.observableExtendedDescription")},scopedSlots:e._u([{key:"append",fn:function(){return[e.selectedObservable.obs.extendedDescription?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle",color:"k-main"},on:{click:function(t){t.stopPropagation(),e.selectedObservable.obs.extendedDescription=null}}}):e._e()]},proxy:!0}],null,!1,197310871),model:{value:e.selectedObservable.obs.extendedDescription,callback:function(t){e.$set(e.selectedObservable.obs,"extendedDescription",t)},expression:"selectedObservable.obs.extendedDescription"}})],1)],1)],1)],1),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{attrs:{label:e.$t("labels.submitForm"),color:"k-controls"},on:{click:e.insertNewObservable}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:e.$t("labels.cancelForm"),color:"k-red"},on:{click:e.resetNewObservable}})],1)],1)],1):e._e()],1)]):e._e()},oa=[],ra={props:{newGroup:{type:Boolean,default:!1}},mixins:[Nt],data(){return{availableRoles:Object.keys(_e).map(e=>_e[e].value),semantics:Object.keys(qe).map(e=>e),selectedObservable:{},selectedProjectUrlIdx:-1,projectUrl:null,observableDialog:!1,filter:null,changed:!1,iconError:!1,observableStates:Object.keys(Oe).map(e=>e),waiting:!1}},name:"GroupEditCard",computed:X()(X()({},Object(J["c"])("admin",["group","groups"])),{},{open:{set(e){e||this.resetGroup()},get(){return null!==this.group}},iconSrc(){return!this.iconError&&this.group.iconUrl?this.group.iconUrl:Ee.IMAGE_NOT_FOUND_SRC},availableGroups(){return this.groups.map(e=>e.name)},filteredObservables(){return this.group.observables?this.filter&&""!==this.filter?this.group.observables.filter(e=>-1!==e.label.toLowerCase().indexOf(this.filter)):this.group.observables:[]},insertionPoint(){const e=[this.FIRST_OBS,this.LAST_OBS,...this.group.observables.map((e,t)=>({value:t+1,label:`After '${e.label}'`}))];return e},groupNames(){return this.groups.map(e=>e.name)}}),methods:X()(X()({},Object(J["b"])("admin",["resetGroup","updateGroup","deleteGroup","createGroup"])),{},{submitGroup(){this.$refs["group-name"].validate(),this.$refs["group-rolerequirement"].validate(),this.$refs["group-name"].hasError||this.$refs["group-rolerequirement"].hasError||this.iconError||(this.newGroup?this.createGroup(this.group).then(()=>{this.$q.notify({message:this.$t("messages.groupCreated",{group:this.group.name}),color:"positive",timeout:1e3}),this.resetGroup()}).catch(e=>{console.error(e),this.$q.notify({message:this.$t("messages.groupCreatedError"),color:"negative",timeout:1500}),this.resetGroup()}):this.updateGroup(this.group).then(()=>{this.$q.notify({message:this.$t("messages.groupUpdated",{group:this.group.name}),color:"positive",timeout:1e3}),this.resetGroup()}).catch(e=>{console.error(e),this.$q.notify({message:this.$t("messages.groupUpdatedError"),color:"negative",timeout:1500}),this.resetGroup()}))},closeDialog(){this.open=!1},newProjectUrl(){this.projectUrl="",this.selectedProjectUrlIdx=-1,this.$refs["project-url"].focus()},applyProjectUrl(){this.projectUrl&&""!==this.projectUrl&&(-1===this.selectedProjectUrlIdx?(this.group.projectUrls.push(this.projectUrl),this.selectedProjectUrlIdx=this.group.projectUrls.length-1):this.group.projectUrls.splice(this.selectedProjectUrlIdx,1,this.projectUrl))},deleteProjectUrl(){this.$q.dialog({title:this.$t("messages.confirmRemoveTitle"),message:this.$t("messages.confirmRemoveProjectUrlMsg"),ok:{color:"k-controls"},cancel:{color:"k-red"},persistent:!0}).onOk(()=>{-1!==this.selectedProjectUrlIdx&&(this.group.projectUrls.splice(this.selectedProjectUrlIdx,1),this.selectedProjectUrlIdx=-1)})},openObservableDialog(e=-1){-1===e&&this.initNewObservable(),this.$nextTick(()=>{this.observableDialog=!0})},selectObservable(e,t){if(this.selectedObservable.index===t)this.resetNewObservable();else{const s=0===t?this.insertionPoint[0]:t===this.group.observables.length-1?this.insertionPoint[1]:this.insertionPoint[t+2];this.selectedObservable={obs:e,index:t,insertionPoint:s}}},filterGroups(e,t){t(null!==e&&""!==e?()=>{const t=e.toLowerCase();this.groupNames=this.availableGroups.filter(e=>e.toLowerCase().indexOf(t)>-1)}:()=>{this.groupNames=this.availableGroups})},moveObservable(e){if(this.selectedObservable.obs){const t="NEXT"===e?this.selectedObservable.index+1:"PREV"===e?this.selectedObservable.index-1:"FIRST"===e?0:this.group.observables.length-1,s=to(this.group.observables,this.selectedObservable.index,t);this.selectedObservable.index=s,this.$nextTick(()=>{const e=document.getElementById("gfc-obs-"+s);e&&e.scrollIntoView({behavior:"smooth",block:"center"})})}},insertNewObservable(){this.$refs["obs-label"].validate(),this.$refs["obs-observable"].validate(),this.$refs["obs-semantic"].validate(),this.$refs["obs-state"].validate(),this.$refs["obs-insertionPoint"]&&this.$refs["obs-insertionPoint"].validate(),this.$refs["obs-label"].hasError||this.$refs["obs-observable"].hasError||this.$refs["obs-semantic"].hasError||this.$refs["obs-state"].hasError||this.$refs["obs-insertionPoint"]&&this.$refs["obs-insertionPoint"].hasError||(this.group.observables?-1!==this.selectedObservable.index?this.group.observables.splice(this.selectedObservable.index,1,this.selectedObservable.obs):this.selectedObservable.insertionPoint.value===this.FIRST_OBS.value?this.group.observables.unshift(this.selectedObservable.obs):this.selectedObservable.insertionPoint.value===this.LAST_OBS.value?this.group.observables.push(this.selectedObservable.obs):this.group.observables.splice(this.selectedObservable.insertionPoint.value,0,this.selectedObservable.obs):(this.group.observables=[],this.group.observables.push(this.selectedObservable.obs)),this.observableDialog=!1)},initNewObservable(){this.selectedObservable={obs:{separator:!1},index:-1,insertionPoint:this.FIRST_OBS}},resetNewObservable(){this.selectedObservable={},this.observableDialog=!1},deleteObservable(){this.$q.dialog({title:this.$t("messages.confirmRemoveTitle"),message:this.$t("messages.confirmRemoveObservableMsg"),ok:{color:"k-controls"},cancel:{color:"k-red"},persistent:!0}).onOk(()=>{this.group.observables.splice(this.selectedObservable.index,1),this.resetNewObservable()})}}),watch:{selectedProjectUrlIdx(e){this.projectUrl=-1===e?null:this.group.projectUrls[this.selectedProjectUrlIdx]}},mounted(){this.FIRST_OBS={value:"F",label:this.$t("labels.observableInsertFirst")},this.LAST_OBS={value:"L",label:this.$t("labels.observableInsertLast")}}},ia=ra,na=(s("d6f5"),Object(te["a"])(ia,aa,oa,!1,null,null,null)),la=na.exports;et()(na,"components",{QDialog:I["a"],QCard:T["a"],QList:f["a"],QItem:b["a"],QItemSection:v["a"],QInput:w["a"],QIcon:g["a"],QAvatar:R["a"],QSelect:_["a"],QCheckbox:S["a"],QItemLabel:k["a"],QBtn:h["a"],QCardSection:M["a"],QSeparator:A["a"],QCardActions:F["a"]}),et()(na,"directives",{ClosePopup:B["a"]});var ca={name:"GroupsComponent",components:{GroupFormCard:la,KlabLoading:ut},data(){return{refreshing:!1,waiting:!1,newGroup:!1,columns:[{name:"icon",field:"iconUrl",required:!0,label:this.$t("labels.groupIcon"),align:"center",sortable:!0},{name:"name",field:"name",required:!0,label:this.$t("labels.groupName"),align:"center",sortable:!0},{name:"description",field:"description",required:!0,label:this.$t("labels.groupDescription"),align:"left",sortable:!0},{name:"dependsOn",field:"dependsOn",required:!1,label:this.$t("labels.groupDependsOn"),align:"left",sortable:!0},{name:"roleRequirement",field:"roleRequirement",required:!1,label:this.$t("labels.groupRoleRequirement"),align:"left",sortable:!0,classes:"ka-dense"},{name:"worldview",field:e=>e.worldview,format:e=>e?"ðŸ—¹":"â˜",required:!1,label:this.$t("labels.groupWorldView"),classes:"ka-dense"},{name:"preliminary",field:e=>e.preliminary,format:e=>e?"ðŸ—¹":"â˜",required:!1,label:this.$t("labels.groupPreliminary"),align:"left",classes:"ka-dense"},{name:"optIn",field:e=>e.optIn,format:e=>e?"ðŸ—¹":"â˜",required:!1,label:this.$t("labels.groupOptIn"),style:"color: white"},{name:"maxUpload",field:"maxUpload",required:!1,label:this.$t("labels.groupMaxUpload"),align:"left",sortable:!0,classes:"ka-dense"},{name:"projectUrls",field:"projectUrls",required:!1,label:this.$t("labels.groupProjectUrls"),align:"left",sortable:!0},{name:"observables",field:"observables",required:!1,label:this.$t("labels.groupObservables"),align:"left",sortable:!0}],APP_CONSTANTS:Ee,usersCountCounter:0}},computed:X()({},Object(J["c"])("admin",["groups","group"])),methods:X()(X()({},Object(J["b"])("admin",["loadGroups","loadGroup","deleteGroup"])),{},{refreshGroups(){this.refreshing=!0,this.loadGroups().then(()=>{this.refreshing=!1,this.$q.notify({message:this.$t("messages.groupsLoaded"),color:"positive",timeout:1e3}),this.usersCountCounter=this.groups.length,this.groups.forEach(e=>{Ja({type:Ae.USERS_WITH_GROUP.method,url:Ae.USERS_WITH_GROUP.url.replace("{group}",e.name),needAuth:!0},(t,s)=>{t&&t.data&&(e.usersCount=t.data.length,this.usersCountCounter-=1),s()})})}).catch(e=>{console.error(e),this.$q.notify({message:this.$t("messages.groupsLoadedError"),color:"negative",timeout:1500}),this.refreshing=!1})},removeGroup(e){this.$q.dialog({title:this.$t("messages.confirmRemoveGroupTitle"),message:this.$t("messages.confirmRemoveGroupMsg",{group:`<strong>${e}</strong>`}),html:!0,ok:{color:"k-controls"},cancel:{color:"k-red"},persistent:!0}).onOk(()=>{this.waiting=!0,this.deleteGroup(e).then(()=>{this.waiting=!1,this.$q.notify({message:this.$t("messages.groupDeleted",{group:e}),color:"positive",timeout:1e3}),this.loadGroups()}).catch(t=>{console.error(t),this.waiting=!1,this.$q.notify({message:this.$t("messages.groupDeletedError",{group:e}),color:"negative",timeout:1500})})})},openDialog(e=null){this.waiting=!0,this.loadGroup(e).then(()=>{this.waiting=!1,this.newGroup=null===e}).catch(e=>{console.error(e),this.waiting=!1,this.newGroup=!1})}}),mounted(){this.refreshGroups()}},ua=ca,da=(s("a3c1"),Object(te["a"])(ua,ta,sa,!1,null,null,null)),pa=da.exports;et()(da,"components",{QIcon:g["a"],QTooltip:P["a"],QBtn:h["a"],QTable:L["a"],QCard:T["a"],QItem:b["a"],QItemSection:v["a"],QItemLabel:k["a"],QSeparator:A["a"],QList:f["a"]});var ma=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ka-content"},[s("h2",{staticClass:"kh-h-first"},[e._v(e._s(e.$t("contents.adminTasksTitle"))+"\n    "),s("q-icon",{staticClass:"cursor-pointer text-k-main ka-refresh",class:{"ka-refreshing":e.refreshing},attrs:{name:"mdi-refresh"},on:{click:e.refreshTasks}},[s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0]}},[e._v(e._s(e.$t("labels.refreshTasks")))])],1)],1),e.tasks.length>0?s("div",[s("div",{staticClass:"row full-width ka-filters",class:[e.filtered?"ka-filtered":""]},[s("div",{staticClass:"row full-width"},[s("div",{staticClass:"col-6"},[s("div",{staticClass:"row full-width"},[s("q-input",{staticClass:"q-pa-sm col",attrs:{color:"k-controls",dense:"",clearable:"",label:e.$t("labels.taskUser"),tabindex:"1"},model:{value:e.filter.user,callback:function(t){e.$set(e.filter,"user",t)},expression:"filter.user"}})],1)]),s("div",{staticClass:"col-6"},[s("div",{staticClass:"row full-width"},[s("k-input-date",{ref:"issuedFrom",attrs:{classes:"q-pa-sm col-6",color:"k-controls",label:e.$t("labels.taskIssuedFrom"),tabindex:"10"},on:{input:function(t){return e.checkDates("issued","From")}},model:{value:e.filter.issuedFrom,callback:function(t){e.$set(e.filter,"issuedFrom",t)},expression:"filter.issuedFrom"}}),s("k-input-date",{attrs:{classes:"q-pa-sm col-6",color:"k-controls",label:e.$t("labels.taskClosedFrom"),disable:e.filter.open,tabindex:"12"},on:{input:function(t){return e.checkDates("closed","From")}},model:{value:e.filter.closedFrom,callback:function(t){e.$set(e.filter,"closedFrom",t)},expression:"filter.closedFrom"}})],1)])]),s("div",{staticClass:"row full-width"},[s("div",{staticClass:"col-6"},[s("div",{staticClass:"row full-width"},[s("q-select",{staticClass:"q-pa-sm col-6",attrs:{color:"k-controls","options-selected-class":"text-k-controls",options:e.taskStatusOptions,label:e.$t("labels.taskStatus"),dense:"","options-dense":"",clearable:"",multiple:"",tabindex:"1"},model:{value:e.filter.status,callback:function(t){e.$set(e.filter,"status",t)},expression:"filter.status"}}),s("q-select",{staticClass:"q-pa-sm col-6",attrs:{color:"k-controls","options-selected-class":"text-k-controls",options:e.types,label:e.$t("labels.taskType"),dense:"","options-dense":"",multiple:"",clearable:"",tabindex:"3"},model:{value:e.filter.type,callback:function(t){e.$set(e.filter,"type",t)},expression:"filter.type"}})],1)]),s("div",{staticClass:"col-6"},[s("div",{staticClass:"row full-width"},[s("k-input-date",{ref:"issuedTo",attrs:{classes:"q-pa-sm col-6",color:"k-controls",label:e.$t("labels.taskIssuedTo"),tabindex:"11"},on:{input:function(t){return e.checkDates("issued","To")}},model:{value:e.filter.issuedTo,callback:function(t){e.$set(e.filter,"issuedTo",t)},expression:"filter.issuedTo"}}),s("k-input-date",{ref:"closedTo",attrs:{classes:"q-pa-sm col-6",color:"k-controls",label:e.$t("labels.taskClosedTo"),disable:e.filter.open,tabindex:"13"},on:{input:function(t){return e.checkDates("closed","To")}},model:{value:e.filter.closedTo,callback:function(t){e.$set(e.filter,"closedTo",t)},expression:"filter.closedTo"}})],1),s("div",{staticClass:"row full-width"},[s("div",{staticClass:"q-pa-sm col-6"}),s("q-checkbox",{staticClass:"q-pa-sm col-6",staticStyle:{height:"56px"},attrs:{color:"k-main",dense:"",label:e.$t("labels.taskOpen"),"left-label":"",tabindex:"14"},model:{value:e.filter.open,callback:function(t){e.$set(e.filter,"open",t)},expression:"filter.open"}})],1)])]),s("div",{staticClass:"row full-width ka-filter-info q-pa-sm"},[s("div",{staticClass:"col-6 self-end"},[e._v(e._s(e.$t("labels.filterInfo",{filtered:e.filtered?e.$t("labels.filtered"):e.$t("labels.all"),number:e.rowsNumber})))]),s("div",{staticClass:"col text-right"},[s("q-btn",{staticClass:"ka-action-button",attrs:{label:e.$t("labels.clearFilter"),disabled:!e.filtered,color:"k-main"},on:{click:e.initializeFilter}})],1)])]),s("div",{staticClass:"row full-width ka-actions q-ma-md"},[s("div",{staticClass:"row full-width q-pa-xs ka-selected-info"},[e.pendingTasks.length>0?s("div",{staticClass:"inline-block",domProps:{innerHTML:e._s(e.$t("labels.selectedInfo",{selected:e.selected.length,total:e.pendingTasks.length,type:e.$t("labels.tasks")}))}}):s("div",{staticClass:"inline-block"},[e._v(e._s(e.$t("messages.noPendingTasks")))]),e.selected.length>0?s("div",{staticClass:"inline-block q-pa-xs"},[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-checkbox-multiple-blank-outline",size:"1.8em"},on:{click:function(t){return e.selected.splice(0,e.selected.length)}}},[s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0]}},[e._v(e._s(e.$t("labels.unselectAll")))])],1)],1):e._e(),e.selected.length<e.pendingTasks.length?s("div",{staticClass:"inline-block q-pa-xs"},[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-checkbox-multiple-marked-outline",size:"1.8em"},on:{click:e.selectAll}},[s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0]}},[e._v(e._s(e.$t("labels.selectAll")))])],1)],1):e._e()]),s("div",{staticClass:"row full-width q-pa-sm ka-actions-row"},[s("q-btn",{staticClass:"ka-action-button",attrs:{label:e.$t("labels.acceptTask"),icon:"mdi-checkbox-marked-circle",disabled:0===e.selected.length,color:"k-controls"},on:{click:e.acceptTask}}),s("q-btn",{staticClass:"ka-action-button",attrs:{label:e.$t("labels.denyTask"),icon:"mdi-close-circle",disabled:0===e.selected.length,color:"k-controls"},on:{click:function(t){e.deniedMessageDialog=!0}}})],1)]),s("q-table",{ref:"ka-table",staticClass:"no-shadow ka-table",attrs:{data:e.tasks,filter:e.filter,"filter-method":e.filterMethod,columns:e.columns,"row-key":"id",selection:"multiple",selected:e.selected,pagination:e.pagination,"rows-per-page-options":[10,25,50,100,0],"pagination-label":e.getPaginationLabel,color:"k-main"},on:{"update:selected":function(t){e.selected=t},"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"header",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-th"),e._l(t.cols,(function(a){return s("q-th",{key:a.name,attrs:{props:t}},[e._v("\n            "+e._s(a.label)+"\n          ")])}))],2)]}},{key:"body",fn:function(t){return[s("q-tr",{class:{"ka-task-accepted":t.row.status===e.status.TASK_ACCEPTED.value,"ka-task-error":t.row.status===e.status.TASK_ERROR.value,"ka-task-denied":t.row.status===e.status.TASK_DENIED.value},attrs:{props:t}},[s("q-td",{attrs:{"auto-width":""}},[s("q-checkbox",{attrs:{color:"k-controls",disable:t.row.status!==e.status.TASK_PENDING.value},model:{value:t.selected,callback:function(s){e.$set(t,"selected",s)},expression:"props.selected"}})],1),s("q-td",{key:"user",attrs:{props:t}},[e._v("\n            "+e._s(t.row.user)+"\n          ")]),s("q-td",{key:"issued",class:{"ka-not-available":!t.row.issued},attrs:{props:t}},[e._v("\n            "+e._s(e.formatDate(t.row.issued))+"\n          ")]),s("q-td",{key:"closed",class:{"ka-not-available":!t.row.closed},attrs:{props:t}},[e._v("\n            "+e._s(e.formatDate(t.row.closed))+"\n          ")]),s("q-td",{key:"roleRequirement",attrs:{props:t}},[s("q-icon",{staticClass:"ka-roles-icon-only",attrs:{name:e.roles[t.row.roleRequirement].icon}},[s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0]}},[e._v(e._s(e.roles[t.row.roleRequirement].name))])],1)],1),s("q-td",{key:"autoAccepted",attrs:{props:t}},[e._v("\n            "+e._s(t.row.autoAccepted)+"\n          ")]),s("q-td",{key:"next",attrs:{props:t},domProps:{innerHTML:e._s(0===t.row.next.length?e.$t("labels.taskNoNext"):t.row.next.length)}}),s("q-td",{key:"status",attrs:{props:t}},[e._v("\n            "+e._s(e.formatStatus(t.row.status))+"\n            "),t.row.log.length>0?s("q-icon",{attrs:{name:"mdi-information",color:"k-controls",size:"xs"}},[s("q-popup-proxy",{attrs:{"transition-show":"flip-up","transition-hide":"flip-down"}},[s("q-list",{staticClass:"ktc-log",attrs:{dense:"",color:"k-main"}},e._l(t.row.log,(function(a,o){return s("q-item",{key:o,staticClass:"ktc-log-item",class:{"ktc-error":t.row.status===e.status.TASK_ERROR.value,"ktc-accepted":t.row.status===e.status.TASK_ACCEPTED.value,"ktc-denied":t.row.status===e.status.TASK_DENIED.value}},[s("q-item-section",[e._v(e._s(a))])],1)})),1)],1)],1):e._e()],1),s("q-td",{key:"type",attrs:{props:t}},[e.types.find((function(e){return e.value===t.row.type}))?s("span",[e._v(e._s(e.types.find((function(e){return e.value===t.row.type})).label))]):s("span",[e._v(e._s(e.$t("label.taskTypeUnknown",{type:t.row.type})))])])],1)]}}],null,!1,616548405)})],1):s("div",[s("div",{staticClass:"tc-no-tasks"},[e._v(e._s(e.$t("messages.noTasks")))])]),s("q-dialog",{attrs:{persistent:""},on:{"before-show":function(t){e.deniedMessage=null}},model:{value:e.deniedMessageDialog,callback:function(t){e.deniedMessageDialog=t},expression:"deniedMessageDialog"}},[s("q-card",{staticStyle:{"min-width":"350px"}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("messages.taskDeniedMessage")))])]),s("q-card-section",[s("q-input",{attrs:{dense:"",color:"k-controls",autofocus:""},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.deniedMessageDialog=!1}},model:{value:e.deniedMessage,callback:function(t){e.deniedMessage=t},expression:"deniedMessage"}})],1),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:e.$t("labels.btnCancel")}}),s("q-btn",{attrs:{label:e.$t("labels.btnAccept")},on:{click:e.denyTask}})],1)],1)],1),s("klab-loading",{attrs:{loading:e.waiting||e.refreshing,message:e.$t("messages.doingThings")}})],1)},ha=[];const ga={user:null,type:null,status:null,issuedFrom:null,issuedTo:null,closedFrom:null,closedTo:null,open:!1};var fa={name:"TasksComponent",components:{KInputDate:Fs,KlabLoading:ut},data(){return{selected:[],pagination:{sortBy:"issued",descending:!0,rowsPerPage:25,oldRowsPerPage:25},taskStatusOptions:[{label:Se.TASK_PENDING.label,value:Se.TASK_PENDING.value},{label:Se.TASK_ACCEPTED.label,value:Se.TASK_ACCEPTED.value},{label:Se.TASK_DENIED.label,value:Se.TASK_DENIED.value},{label:Se.TASK_ERROR.label,value:Se.TASK_ERROR.value}],filter:X()({},ga),columns:[{name:"user",field:"user",required:!0,sortable:!0,label:this.$t("labels.taskUser"),align:"center",headerStyle:"width: 16%"},{name:"issued",field:"issued",required:!0,label:this.$t("labels.taskIssued"),align:"center",sortable:!0,sort:(e,t)=>ao(e,t),headerStyle:"width: 12%"},{name:"closed",field:"closed",required:!0,label:this.$t("labels.taskClosed"),align:"center",sortable:!0,sort:(e,t)=>ao(e,t),headerStyle:"width: 12%"},{name:"roleRequirement",field:"roleRequirement",required:!0,label:this.$t("labels.taskRoleRequirement"),align:"center",headerStyle:"width: 8%;"},{name:"autoAccepted",field:"autoAccepted",required:!0,label:this.$t("labels.taskAutoAccepted"),align:"center",headerStyle:"width: 12%; text-align: center"},{name:"next",field:"next",required:!0,label:this.$t("labels.taskNext"),align:"center",headerStyle:"width: 10%; text-align: center"},{name:"status",field:"status",required:!0,label:this.$t("labels.taskStatusLog"),align:"center",headerStyle:"width: 12%"},{name:"type",field:"type",required:!0,label:this.$t("labels.taskType"),align:"center",headerStyle:"width: 14%"}],roles:_e,status:Se,types:ye,rowsNumber:0,refreshing:!1,waiting:!1,deniedMessageDialog:!1,deniedMessage:null,statusAllAny:"any",typeAllAny:"any"}},computed:X()(X()({},Object(J["c"])("admin",["tasks"])),{},{pendingTasks(){return this.tasks.filter(e=>e.status===Se.TASK_PENDING.value)},filtered(){return!Ha(this.filter,ga)}}),methods:X()(X()({},Object(J["b"])("admin",["loadTasks","loadGroups"])),{},{formatDate:eo,selectAll(){this.tasks.forEach(e=>{e.status===Se.TASK_PENDING.value&&-1===this.selected.findIndex(t=>e.id===t.id)&&this.selected.push(e)}),0===this.selected.length&&this.$q.notify({message:this.$t("messages.noPendingTasks"),color:"warning"})},acceptTask(){const e=this.selected;e.forEach(e=>{this.$store.dispatch("admin/acceptTask",e.id).then(()=>{this.$q.notify({message:this.$t("messages.taskAccepted"),color:"positive"}),this.refreshTasks()}).catch(e=>{console.error(e),this.$q.notify({message:this.$t("messages.taskAcceptedError"),color:"negative"})})})},denyTask(){this.deniedMessageDialog=!1;const e=this.selected;e.forEach(e=>{this.$store.dispatch("admin/denyTask",{id:e.id,deniedMessage:this.deniedMessage}).then(()=>{this.$q.notify({message:this.$t("messages.taskDenied"),color:"positive"}),this.refreshTasks()}).catch(e=>{console.error(e),this.$q.notify({message:this.$t("messages.taskDeniedError"),color:"negative"})})})},formatStatus(e){switch(e){case Se.TASK_PENDING.value:return Se.TASK_PENDING.label;case Se.TASK_ACCEPTED.value:return Se.TASK_ACCEPTED.label;case Se.TASK_DENIED.value:return Se.TASK_DENIED.label;case Se.TASK_ERROR.value:return Se.TASK_ERROR.label;default:return e}},initializeFilter(){this.filter=X()({},ga),this.$refs.issuedFrom.reset(),this.$refs.issuedTo.reset(),this.$refs.closeFrom.reset(),this.$refs.closeTo.reset(),this.statusAllAny=!1,this.typeAllAny=!1},filterMethod(){return this.filtered?this.tasks.filter(e=>(null===this.filter.user||""===this.filter.user||e.user&&e.user.toLowerCase().includes(this.filter.user.toLowerCase()))&&(null===this.filter.type||0===this.filter.type.length||-1!==this.filter.type.findIndex(t=>t.value===e.type))&&(null===this.filter.status||0===this.filter.status.length||-1!==this.filter.status.findIndex(t=>t.value===e.status))&&(!this.filter.open||!e.closed)&&(null===this.filter.issuedFrom||e.issued&&Us()(this.filter.issuedFrom,"L").isSameOrBefore(e.issued))&&(null===this.filter.issuedTo||e.issued&&Us()(this.filter.issuedTo,"L").isSameOrAfter(e.issued))&&(null===this.filter.closedFrom||e.closed&&Us()(this.filter.closedFrom,"L").isSameOrBefore(e.closed))):this.tasks},checkDates(e,t){const s=e+"From",a=e+"To";null!==this.filter[s]&&null!==this.filter[a]&&Us()(this.filter[s],"L").isSameOrAfter(Us()(this.filter[a],"L"))&&(this.$refs[`${e}${t}`].reset(),this.$q.notify({message:this.$t("messages.errorDateFromTo",{type:e}),color:"negative"}))},getPaginationLabel(e,t,s){return this.rowsNumber=s,this.$t("labels.pagination",{firstRowIndex:e,endRowIndex:t,totalRowsNumber:s})},refreshTasks(){this.refreshing=!0,this.loadTasks().then(()=>{this.refreshing=!1,this.$q.notify({message:this.$t("messages.tasksLoaded"),color:"positive",timeout:1e3}),this.selected.splice(0,this.selected.length-1)}).catch(e=>{console.error(e),this.$q.notify({message:this.$t("messages.tasksLoadedError"),color:"negative",timeout:1500}),this.refreshing=!1,this.selected.splice(0,this.selected.length-1)})},confirm(e,t,s,a){this.$q.dialog({title:e,message:t,ok:{color:"k-controls",push:!0,flat:!0},cancel:{color:"k-controls",push:!0,flat:!0},persistent:!0}).onOk(()=>{s()}).onCancel(()=>{a()})}}),watch:{filtered(e){e?(this.pagination.oldRowsPerPage=this.pagination.rowsPerPage,this.pagination.rowsPerPage=0):this.pagination.rowsPerPage=this.pagination.oldRowsPerPage}},created(){this.refreshTasks(),Us.a.locale(this.$q.lang.getLocale())}},ba=fa,va=(s("e1c2"),Object(te["a"])(ba,ma,ha,!1,null,null,null)),ka=va.exports;et()(va,"components",{QIcon:g["a"],QTooltip:P["a"],QInput:w["a"],QSelect:_["a"],QCheckbox:S["a"],QBtn:h["a"],QTable:L["a"],QTr:j["a"],QTh:Q["a"],QTd:G["a"],QPopupProxy:y["a"],QList:f["a"],QItem:b["a"],QItemSection:v["a"],QDialog:I["a"],QCard:T["a"],QCardSection:M["a"],QCardActions:F["a"]}),et()(va,"directives",{ClosePopup:B["a"]});var wa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ka-content"},[s("h2",{staticClass:"kh-h-first"},[e._v(" "+e._s(e.$t("contents.adminNodesTitle"))+"\n    "),s("q-icon",{staticClass:"cursor-pointer text-k-main ka-refresh",class:{"ka-refreshing":e.refreshing},attrs:{name:"mdi-refresh"},on:{click:e.refreshGroups}},[s("q-tooltip",{attrs:{anchor:"center right",self:"center left",offset:[5,0],delay:600}},[e._v(e._s(e.$t("labels.refreshNodes")))])],1)],1),s("div",{staticClass:"row full-width ka-actions q-ma-md"},[s("div",{staticClass:"row full-width q-pa-sm ka-actions-row"},[s("div",{staticClass:"col-1 ka-action-desc"},[e._v(e._s(e.$t("labels.actionsNodes")))]),s("q-btn",{staticClass:"col-2 ka-action-button",attrs:{icon:"mdi-account-multiple-plus",color:"k-controls",label:e.$t("labels.createNode")},on:{click:e.createNode}})],1)]),e.nodes.length>0?s("div",{},[s("q-table",{attrs:{grid:"",data:e.nodes,columns:e.columns,"hide-bottom":""},scopedSlots:e._u([{key:"item",fn:function(t){return[s("div",{staticClass:"q-pa-xs col-sm-8 col-md-5 col-lg-2"},[s("q-card",{staticClass:"full-height"},[s("div",{staticClass:"row"},[s("q-item-section",[s("q-item",{staticClass:"items-center"},[s("q-input",{staticClass:"col",attrs:{filled:"",disable:"",label:e.$t("labels.nodeName")},model:{value:t.row.name,callback:function(s){e.$set(t.row,"name",s)},expression:"props.row.name"}}),s("q-btn",{staticStyle:{float:"right"},attrs:{round:"",color:"red",size:"sm",icon:"file_copy"},on:{click:function(s){return e.downloadCertificate(t.row.name)}}}),s("q-btn",{staticStyle:{float:"right"},attrs:{round:"",color:"primary",size:"sm",icon:"edit"},on:{click:function(s){return e.editNode(t.row.name)}}}),s("q-btn",{staticStyle:{float:"right"},attrs:{round:"",color:"secondary",size:"sm",icon:"delete"},on:{click:function(s){return e.removeNode(t.row.name)}}})],1)],1)],1),s("q-list",{staticClass:"gc-items"},e._l(t.cols.filter((function(e){return"icon"!==e.name&&"name"!==e.name&&"groups"!==e.name&&"description"!==e.name})),(function(t){return s("q-item",{key:t.name},[s("q-item-section",{staticClass:"gc-item-label"},[s("q-item-label",[e._v(e._s(t.label))])],1),t.value?Array.isArray(t.value)?s("q-item",{class:{"gc-multiple-item":t.value&&t.value.length>0}},[0===t.value.length?s("div",[s("q-item-label",{attrs:{caption:""},domProps:{innerHTML:e._s(e.$t("labels.groupNoValue"))}})],1):e._e()]):s("q-item-section",{staticClass:"gc-item"},[s("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.value))])],1):s("q-item-section",[s("q-item-label",{attrs:{caption:""},domProps:{innerHTML:e._s(e.$t("labels.groupNoValue"))}})],1)],1)})),1),s("q-item-section",[s("q-item",{staticClass:"justify-center"},[s("q-item-label",{attrs:{caption:""},domProps:{innerHTML:e._s(e.$t("labels.nodeGroups"))}})],1),s("q-item",{staticClass:"row wrap justify-around"},e._l(t.row.groups,(function(t,a){return s("div",{key:a,staticClass:"row justify-between content-between"},[s("q-item",{staticClass:"justify"},[s("q-icon",{attrs:{name:"img:"+t.iconUrl}}),s("q-item-label",{attrs:{caption:""}},[e._v(" "+e._s(t.name)+" ")])],1)],1)})),0)],1)],1)],1)]}}],null,!1,3657553187)})],1):e._e(),s("q-dialog",{model:{value:e.edit,callback:function(t){e.edit=t},expression:"edit"}},[s("NodeFormCard",{attrs:{"new-node":!1}})],1),s("q-dialog",{model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[s("NodeFormCard",{attrs:{"new-node":!0}})],1),s("klab-loading",{attrs:{loading:e.waiting||e.refreshing,message:e.$t("messages.doingThings")}})],1)},Ea=[],_a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return null!==e.group?s("q-dialog",{attrs:{persistent:""},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[s("div",{staticClass:"ka-dialog"},[s("q-card",{staticClass:"full-height"},[s("q-list",[s("q-item",[s("q-item-section",[s("q-input",{ref:"group-name",attrs:{color:"k-controls",disable:!e.newNode,label:e.$t("labels.nodepName"),rules:[function(t){return e.fieldRequired(t)}]},scopedSlots:e._u([{key:"append",fn:function(){return[e.group.name&&e.newGroup?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle",color:"k-main"},on:{click:function(t){t.stopPropagation(),e.group.name=null}}}):e._e()]},proxy:!0}],null,!1,3957828500),model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),s("q-item",[s("q-item-section",{staticClass:"col-10"},[s("q-input",{ref:"group-icon",attrs:{color:"k-controls",autogrow:"",label:e.$t("labels.groupIcon"),error:e.iconError,"error-message":e.$t("messages.iconNotValid")},on:{input:function(t){e.iconError=!1}},scopedSlots:e._u([{key:"append",fn:function(){return[e.group.iconUrl?s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close-circle",color:"k-main"},on:{click:function(t){t.stopPropagation(),e.group.iconUrl=null}}}):e._e()]},proxy:!0}],null,!1,734042839),model:{value:e.group.iconUrl,callback:function(t){e.$set(e.group,"iconUrl",t)},expression:"group.iconUrl"}})],1)],1)],1)],1)],1)]):e._e()},Ca=[],Sa={name:"NodeFormCard",props:{newNode:{type:Boolean,default:!1}},mixins:[Nt],data(){return{form:{},groupNames:[],changed:!1,groupSelection:[]}},computed:X()(X()({},Object(J["c"])("admin",["node","groups"])),{},{availableGroups(){return this.groups.map(e=>e.name)}}),methods:X()(X()({},Object(J["b"])("admin",["updateNode","createNode","loadGroups"])),{},{submit(){this.form.groups=this.getSelectedGroups(),this.newNode?this.createNode(this.form):this.updateNode(this.form)},cancel(){},getSelectedGroups(){const e=[];return this.availableGroups.forEach(t=>this.groupSelection.includes(t.name)?e.push(t):e),e}}),mounted(){this.form=this.node,this.loadGroups(),this.new||(this.groupNames=this.groups.map(e=>e.name)),this.groupSelection=this.form.groups.map(e=>e.name)}},qa=Sa,ya=Object(te["a"])(qa,_a,Ca,!1,null,"4118013a",null),Oa=ya.exports;et()(ya,"components",{QDialog:I["a"],QCard:T["a"],QList:f["a"],QItem:b["a"],QItemSection:v["a"],QInput:w["a"],QIcon:g["a"]});var $a={name:"NodeComponent",components:{NodeFormCard:Oa,KlabLoading:ut},data(){return{edit:!1,create:!1,columns:[{name:"name",field:"name",required:!0,label:this.$t("labels.nodeName"),align:"center",sortable:!0},{name:"email",field:"email",required:!0,label:this.$t("labels.nodeEmail"),align:"center",sortable:!0},{name:"url",field:"url",required:!0,label:this.$t("labels.nodeUrl"),align:"center",sortable:!0},{name:"groups",field:"groups",required:!0,label:this.$t("labels.groups"),align:"center",sortable:!0}],refreshing:!1}},computed:X()({},Object(J["c"])("admin",["nodes"])),methods:X()(X()({},Object(J["b"])("admin",["loadNodes","loadNode","deleteNode","loadNewNode","downloadNodeCertificate"])),{},{createNode(){this.loadNewNode().then(()=>{this.refreshing=!1,this.$q.notify({message:this.$t("messages.newGroupLoaded"),color:"positive",timeout:1e3}),this.create=!0}).catch(()=>{this.$q.notify({message:this.$t("messages.newGroupLoadedError"),color:"negative",timeout:1500}),this.refreshing=!1,this.create=!1})},editNode(e){this.loadNode(e).then(()=>{this.refreshing=!1,this.$q.notify({message:this.$t("messages.nodeLoaded"),color:"positive",timeout:1e3}),this.edit=!0}).catch(()=>{this.$q.notify({message:this.$t("messages.nodeLoadedError"),color:"negative",timeout:1500}),this.refreshing=!1,this.edit=!1})},removeNode(e){this.deleteNode(e).then(()=>{this.refreshing=!1,this.$q.notify({message:this.$t("messages.nodeDeleted"),color:"positive",timeout:1e3}),this.loadNodes()}).catch(()=>{this.$q.notify({message:this.$t("messages.nodeDeletedError"),color:"negative",timeout:1500}),this.refreshing=!1})},downloadCertificate(e){this.downloadNodeCertificate(e).then(()=>{this.refreshing=!1,this.$q.notify({message:this.$t("messages.nodeCertificate"),color:"positive",timeout:1e3})}).catch(()=>{this.$q.notify({message:this.$t("messages.nodeCertificateError"),color:"negative",timeout:1500}),this.refreshing=!1})}}),created(){this.loadNodes()}},Ra=$a,Ta=(s("c097"),Object(te["a"])(Ra,wa,Ea,!1,null,null,null)),Aa=Ta.exports;et()(Ta,"components",{QIcon:g["a"],QTooltip:P["a"],QBtn:h["a"],QTable:L["a"],QCard:T["a"],QItemSection:v["a"],QItem:b["a"],QInput:w["a"],QList:f["a"],QItemLabel:k["a"],QDialog:I["a"]});var Pa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"full-width column content-center au-form-container"},[s("div",{staticClass:"q-col-gutter-y-md",staticStyle:{"min-width":"70%","max-width":"70%"}},[s("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[s("q-input",{ref:"email-input",attrs:{color:"k-main","no-error-icon":"",rules:[function(t){return 0===t.length&&!e.checking||e.emailValidation(t)}],placeholder:e.$t("labels.email"),autocomplete:"email",autofocus:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-email"}})]},proxy:!0}]),model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("div",{staticClass:"fp-message text-justify",domProps:{innerHTML:e._s(e.$t("contents.forgetPasswordContent"))}}),s("div",{staticClass:"au-btn-container"},[s("q-btn",{staticClass:"full-width",attrs:{unelevated:"",color:"k-main",type:"submit",label:e.$t("labels.btnResetPassword")}}),s("q-btn",{staticClass:"full-width",attrs:{unelevated:"",flat:"",color:"k-main",label:e.$t("labels.btnLogin")},on:{click:e.login}}),s("q-btn",{staticClass:"full-width",attrs:{unelevated:"",flat:"",color:"k-main",label:e.$t("labels.btnRegister")},on:{click:e.register}})],1)],1)])])},Na=[],xa={name:"ForgotPasswordForm",mixins:[Nt],data(){return{email:"",checking:!1}},methods:{checkFields(){return this.checking=!0,this.$refs["email-input"].validate(),this.checking=!1,!this.$refs["email-input"].hasError},submit(){this.checkFields()&&this.$store.dispatch("auth/forgotPassword",this.email).then(()=>{this.$router.push("/login"),this.$q.notify({message:this.$t("messages.resetPasswordOk"),color:"positive"})}).catch(e=>{console.error("Error on reset password: "+e.message),404===e.status?this.$q.notify({message:this.$t("messages.errorResetPasswordNotFound"),color:"negative"}):this.$q.notify({message:this.$t("messages.errorResetPassword"),color:"negative"})})},login(){this.$router.push({name:"login"})},register(){this.$router.push({name:"register"})}}},Da=xa,Ia=(s("c9a9"),Object(te["a"])(Da,Pa,Na,!1,null,null,null)),Ua=Ia.exports;et()(Ia,"components",{QInput:w["a"],QIcon:g["a"],QBtn:h["a"]});const La=[{path:"/login",component:st,children:[{path:"/login",name:"login",component:Ft,meta:{skipIfAuth:!0}},{path:"/register",name:"register",component:zt,meta:{skipIfAuth:!0}},{path:"/forgotPassword",name:"forgotPassword",component:Ua,meta:{skipIfAuth:!0}},{path:"/callback/lostPassword",name:"lostPasswordCallback",component:ws},{path:"/callback/activate",name:"activateCallback",component:ws}]},{path:"/",redirect:"/home",component:vt,children:[{path:"/home",name:"home",component:Tt,meta:{requiresAuth:!0,default:!0}},{path:"/profile/view",name:"profileView",component:ss,meta:{requiresAuth:!0}},{path:"/profile/password",name:"changePassword",component:ls,meta:{requiresAuth:!0}},{path:"/profile/certificate",name:"certificate",component:hs,meta:{requiresAuth:!0}},{path:"/admin",component:ys,meta:{requiresAuth:!0,requiresAdmin:!0},children:[{path:"",name:"adminHome",component:Ps},{path:"users",name:"adminUsers",component:ea},{path:"groups",name:"adminGroups",component:pa},{path:"tasks",name:"adminTasks",component:ka},{path:"nodes",name:"adminNodes",component:Aa}]}]}];La.push({path:"*",component:()=>s.e(2).then(s.bind(null,"e51e"))});var Ga=La;r["a"].use(Ne["a"]),r["a"].use(De.a);const ja=new Ne["a"]({scrollBehavior:()=>({y:0}),routes:Ga,mode:"hash",base:"/hub/ui/"});ja.beforeEach((e,t,s)=>{vo.getters["auth/isLoggedIn"]&&e.matched.some(e=>e.meta.skipIfAuth)?s("/home"):e.matched.some(e=>e.meta.requiresAuth)?vo.getters["auth/isLoggedIn"]?s():s("/login"):e.matched.some(e=>e.meta.requiresAdmin)?vo.getters["auth/admin"]?s():s("/home"):s()});var Qa=ja;const{hexToRgb:Ma,getBrand:Fa,rgbToHex:Wa}=Pe["a"],Ba=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/;function Va(e){if("string"!==typeof e)throw new TypeError("Expected a string");const t=Ba.exec(e);if(t){const e={r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)};return t[4]&&(e.a=parseFloat(t[4])),e}return Ma(e)}function Ka(e){let t,s;return 0===e.indexOf("#")?(s=e,t=Ma(e)):-1!==e.indexOf(",")?(t=Va(e),s=Wa(t)):(s=Fa(e),t=Ma(s)),{rgb:t,hex:s,color:e}}function Ha(e,t){const s=Object.getOwnPropertyNames(t);for(let a=0;a<s.length;a++){const o=s[a];if(e[o]!==t[o])return!1}return!0}const za={email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,username:/^[a-zA-Z0-9_.-]*$/,phone:/^[+]*[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/};function Ya(e){return Xa.apply(this,arguments)}function Xa(){return Xa=o()((function*(e){if(e.response){const t={status:e.response.data.status||e.response.status,message:e.response.data.message||e.response.data||(""!==e.response.statusText?e.response.statusText:"Unknown"),axiosError:e};if(t.message instanceof Blob&&"application/json"===t.message.type){const e=yield new Promise(e=>{const s=new FileReader;s.onload=function(){e(JSON.parse(this.result))},s.readAsText(t.message)});return e}return t}return e.request?{status:e.request.status,message:e.message,axiosError:e}:{status:"UNKNOWN",message:e.message,axiosError:e}})),Xa.apply(this,arguments)}function Ja(e,t){return Za.apply(this,arguments)}function Za(){return Za=o()((function*(e,t,s=null){const{type:a,url:r,params:i={},needAuth:n=!1,owner:l="layout"}=e;if("GET"!==a&&"POST"!==a&&"PUT"!==a&&"DELETE"!==a||null===r||""===r)throw new Error(`Bad axios call, check type and url: ${a} / ${r}`);vo.dispatch("view/setSpinner",X()(X()({},we.SPINNER_LOADING),{},{owner:"layout"}),{root:!0}).then(o()((function*(){const e="GET"===a?de.get:"POST"===a?de.post:"DELETE"===a?de.delete:de.put;let o;try{o=yield e("/hub/"+r,i),o&&(t?t(o,()=>{vo.dispatch("view/setSpinner",X()(X()({},we.SPINNER_STOPPED),{},{owner:l}),{root:!0})}):(console.warn("Doing nothing after axios call"),vo.dispatch("view/setSpinner",X()(X()({},we.SPINNER_STOPPED),{},{owner:l}),{root:!0})))}catch(c){const e=yield Ya(c);if(vo.dispatch("view/setSpinner",X()(X()({},we.SPINNER_ERROR),{},{owner:l,errorMessage:e.message,showNotifications:!1}),{root:!0}),n&&401===e.status)return console.warn("We are logged out from backoffice"),vo.dispatch("auth/logout",!0,{root:!0}),void Qa.push("/login");if(-1!==e.message.toLowerCase().indexOf("network error")&&vo.dispatch("view/setConnectionDown",!0),null===s)throw e;s(e)}})))})),Za.apply(this,arguments)}function eo(e,t=!1){if(e&&""!==e){const s=Us()(e);return t?s.format("L"):s.format("L - HH:mm")}return fe.tc("messages.unknownDate")}function to(e,t,s){return s>=e.length?s=0:s<0&&(s=e.length-1),e.splice(s,0,e.splice(t,1)[0]),s}function so(e,t,s){const a=t.map(e=>e.value);return"all"===s?a.every(t=>e.includes(t)):e.some(e=>a.includes(e))}function ao(e,t){return e?t?new Date(e).getTime()-new Date(t).getTime():1:-1}var oo={login:({commit:e},t)=>new Promise((s,a)=>{Ja({type:Ae.LOG_IN.method,url:Ae.LOG_IN.url,params:t},(t,a)=>{const o=t.data.Authentication.tokenString,r=t.data.Profile;localStorage.setItem("token",o),de.defaults.headers.common.Authentication=o,e("AUTH_SUCCESS",{token:o,profile:r}),s(t),a()},t=>{e("AUTH_ERROR",t),localStorage.removeItem("token"),a(t)})}),logout:({commit:e},t=!1)=>new Promise((s,a)=>{t&&(localStorage.removeItem("token"),e("LOGOUT"),s()),Ja({type:Ae.LOG_OUT.method,url:Ae.LOG_OUT.url},(t,a)=>{localStorage.removeItem("token"),e("LOGOUT"),s(),a()},t=>{401===t.status&&(localStorage.removeItem("token"),e("LOGOUT")),a(t)})}),register:({commit:e},t)=>new Promise((s,a)=>{Ja({type:Ae.REGISTER_USER.method,url:Ae.REGISTER_USER.url,params:t},(t,a)=>{e("REGISTER_SUCCESS"),s(t),a()},t=>{e("REGISTER_FAILURE"),a(t)})}),forgotPassword:(e,t)=>new Promise((e,s)=>{Ja({type:Ae.LOST_PASSWORD.method,url:Ae.LOST_PASSWORD.url.replace("{username}",t)},(t,s)=>{e(t),s()},e=>{s(e)})}),getProfile:({commit:e})=>new Promise((t,s)=>{Ja({type:Ae.GET_PROFILE.method,url:Ae.GET_PROFILE.url,needAuth:!0},(s,a)=>{const o=s.data;e("AUTH_PROFILE",o),t(s),a()},t=>{e("AUTH_ERROR"),localStorage.removeItem("token"),s(t)})}),updateProfile:(e,t)=>new Promise((e,s)=>{Ja({type:Ae.UPDATE_PROFILE.method,url:Ae.UPDATE_PROFILE.url.replace("{username}",t.name),params:{profile:t},needAuth:!0},(t,s)=>{e(),s()},e=>{s(e)})}),getAvailableGroups:({commit:e})=>new Promise((t,s)=>{Ja({type:Ae.GROUP_NAMES.method,url:Ae.GROUP_NAMES.url,needAuth:!0},(s,a)=>{const o=s.data.groups;e("AUTH_AVAILABLE_GROUPS",o),t(),a()},e=>{s(e)})}),requestGroups:({state:e},t)=>new Promise((s,a)=>{Ja({type:Ae.TASK_GROUPS_REQUEST.method,url:Ae.TASK_GROUPS_REQUEST.url.replace("{username}",e.profile.name),params:t,needAuth:!0},(e,t)=>{s(),t()},e=>{a(e)})}),removeGroup:({state:e},t)=>new Promise((s,a)=>{console.debug(t),Ja({type:Ae.TASK_GROUPS_REMOVE.method,url:Ae.TASK_GROUPS_REMOVE.url.replace("{username}",e.profile.name),params:t,needAuth:!0},(e,t)=>{s(),t()},e=>{a(e)})}),getCertificate:({commit:e},t)=>new Promise((s,a)=>{Ja({type:Ae.GET_CERTIFICATE.method,url:Ae.GET_CERTIFICATE.url.replace("{username}",t),params:{responseType:"blob"},needAuth:!0},(t,a)=>{const o=new Blob([t.data],{type:t.data.type}),r=window.URL.createObjectURL(o),i=document.createElement("a");i.href=r;const n=t.headers["content-disposition"];let l="unknown";if(n){const e=n.match(/filename=(.+)/);2===e.length&&([,l]=e)}i.setAttribute("download",l),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(r),e("CERT_REQUEST_SUCCESS"),s(t),a()},t=>{e("CERT_REQUEST_FAILURE"),a(t)})}),requestNewPassword:({commit:e},t)=>new Promise((s,a)=>{Ja({type:Ae.REQUEST_NEW_PASSWORD.method,url:Ae.REQUEST_NEW_PASSWORD.url.replace("{username}",t),needAuth:!0},(t,o)=>{t&&t.data?(e("PASSWORD_REQUEST_SUCCESS",t.data.clickback),s(t.data.clickback)):a({status:400,message:"no clickback received",error:null}),o()},t=>{e("PASSWORD_REQUEST_FAILURE"),a(t)})}),setNewPassword:({commit:e,state:t},{passwordRequest:s,user:a=null,clickback:o=null})=>new Promise((r,i)=>{Ja({type:Ae.SET_PASSWORD.method,url:Ae.SET_PASSWORD.url.replace("{username}",null!==a?a:t.profile.name).replace("{clickback}",null!==o?o:t.clickback),params:{newPassword:s.password,confirm:s.confirmation},needAuth:!0},(t,s)=>{t&&t.data?(e("PASSWORD_SET_SUCCESS"),r(t)):i({status:400,message:"no clickback received",error:null}),s()},t=>{e("PASSWORD_SET_FAILURE"),i(t)})}),activateUser:({commit:e},t)=>new Promise((s,a)=>{Ja({type:Ae.VERIFY.method,url:Ae.VERIFY.url.replace("{username}",t.user).replace("{clickback}",t.token),needAuth:!0},(t,o)=>{if(t&&t.data){const{profile:a,clickback:o}=t.data;e("ACTIVATE_SUCCESS",{profile:a,clickback:o}),s(t)}else a({status:400,message:"error in activation, no data received",error:null});o()},t=>{e("ACTIVATE_FAILURE"),a(t)})}),getGroup:({dispatch:e},t)=>new Promise((s,a)=>{Ja({dispatch:e,type:"GET",url:"api/groups/"+t,needAuth:!0},(e,o)=>{e&&e.data?s(t):a({status:400,message:"No response",error:null}),o()},e=>{a(e)})}),invitedNewUser:({commit:e,dispatch:t},s)=>(t("view/setSpinner",X()(X()({},we.SPINNER_LOADING),{},{owner:"layout"}),{root:!0}),new Promise((a,o)=>{de.post(`/hub/signup?groups=${s.token}&addGroups=${s.groups.join(",")}`,{username:s.username,email:s.email}).then(s=>{e("register_success"),t("view/setSpinner",X()(X()({},we.SPINNER_STOPPED),{},{owner:"layout"}),{root:!0}),a(s)}).catch(s=>{e("register_failure"),t("view/setSpinner",X()(X()({},we.SPINNER_ERROR),{},{owner:"layout"}),{root:!0}),o(s)})})),invitedOAuthUserGroups:({commit:e,dispatch:t},s)=>(t("view/setSpinner",X()(X()({},we.SPINNER_LOADING),{},{owner:"layout"}),{root:!0}),new Promise((a,o)=>{de.put(`/hub/signup?token=${s.authToken}&groups=${s.token}&addGroups=${s.addGroups}`).then(s=>{e("register_success"),t("view/setSpinner",X()(X()({},we.SPINNER_STOPPED),{},{owner:"layout"}),{root:!0}),a(s)}).catch(s=>{e("register_failure"),t("view/setSpinner",X()(X()({},we.SPINNER_ERROR),{},{owner:"layout"}),{root:!0}),o(s)})})),oAuthLogin:({commit:e,dispatch:t},s)=>new Promise((a,o)=>{localStorage.setItem("token",s),de.defaults.headers.common.Authentication=s,de.get("/hub/api/users/me").then(o=>{const r=o.data;e("auth_success",{token:s,profile:r}),t("view/setSpinner",X()(X()({},we.SPINNER_STOPPED),{},{owner:"layout"}),{root:!0}),a(o)}).catch(s=>{e("auth_error"),localStorage.removeItem("token"),t("view/setSpinner",X()(X()({},we.SPINNER_ERROR),{},{owner:"layout"}),{root:!0}),o(s)})})},ro={namespaced:!0,state:re,getters:ie,mutations:ne,actions:oo},io={spinner:we.SPINNER_STOPPED,spinnerOwners:[],connectionDown:!1},no={spinnerIsAnimated:e=>e.spinner.animated,spinner:e=>e.spinner,spinnerOwners:e=>e.spinnerOwners,spinnerColor:e=>"undefined"!==e.spinner&&null!==e.spinner?Ka(e.spinner.color):null,spinnerErrorMessage:e=>"undefined"!==e.spinner&&null!==e.spinner?e.spinner.errorMessage:null,isConnectionDown:e=>e.connectionDown},lo={SET_SPINNER_ANIMATED:(e,t)=>{e.spinner.animated=t},SET_SPINNER_COLOR:(e,t)=>{e.spinner.color=t},SET_SPINNER:(e,{animated:t,color:s,errorMessage:a=null,showNotifications:o=!1})=>{e.spinner={animated:t,color:s,errorMessage:a,showNotifications:o}},ADD_TO_SPINNER_OWNERS:(e,t)=>{const s=e.spinnerOwners.indexOf(t);-1===s&&e.spinnerOwners.push(t)},REMOVE_FROM_SPINNER_OWNERS:(e,t)=>{const s=e.spinnerOwners.indexOf(t);-1!==s&&e.spinnerOwners.splice(s,1)},SET_CONNECTION_DOWN:(e,t)=>{e.connectionDown=t}},co={setSpinner:({commit:e,getters:t,dispatch:s},{animated:a,color:o,time:r=null,then:i=null,errorMessage:n=null,showNotifications:l=!1,owner:c})=>new Promise((u,d)=>{c&&null!==c?(a?e("ADD_TO_SPINNER_OWNERS",c):(e("REMOVE_FROM_SPINNER_OWNERS",c),0!==t.spinnerOwners.length&&(a=!0,o!==we.SPINNER_ERROR.color&&({color:o}=we.SPINNER_LOADING))),e("SET_SPINNER",{animated:a,color:o,errorMessage:n,showNotifications:l}),null!==r&&null!==i&&setTimeout(()=>{s("setSpinner",X()(X()({},i),{},{owner:c}))},1e3*r),u()):d(new Error("No spinner owner!"))}),setConnectionDown:({commit:e},t)=>{e("SET_CONNECTION_DOWN",t)}},uo={namespaced:!0,state:io,getters:no,mutations:lo,actions:co},po={stats:{},users:[],groups:[],groupsOptions:[],groupsIcons:[],group:null,nodes:[],node:[],tasks:[],senders:{}},mo={stats:e=>e.stats,users:e=>e.users,groups:e=>e.groups,groupsIcons:e=>e.groupsIcons,groupsOptions:e=>e.groupsOptions,senders:e=>e.senders,tasks:e=>e.tasks,nodes:e=>e.nodes,group:e=>e.group,node:e=>e.node},ho=(s("e01a"),{stat_success(e,t){e.stats=t},LOAD_USERS(e,t){e.users=t},LOAD_GROUPS(e,t){e.groups=t,e.groupsIcons.splice(0,e.groupsIcons.length),e.groupsOptions.splice(0,e.groupsOptions.length),t.forEach(t=>{const s=t.iconUrl?t.iconUrl:null;e.groupsIcons[t.name]=s,e.groupsOptions.push({label:t.name,value:t.name,description:t.description,icon:s,dependencies:t.dependsOn})})},LOAD_GROUP(e,t){e.group=t},LOAD_NODES(e,t){e.nodes=t},LOAD_NODE(e,t){e.node=t},LOAD_NEW_NODE(e,t){e.node=t},LOAD_TASKS(e,t){e.tasks=t},LOAD_SENDERS(e,t){e.senders=t}}),go={loadUsers:({commit:e})=>new Promise((t,s)=>{Ja({type:Ae.USERS.method,url:Ae.USERS.url,needAuth:!0},(a,o)=>{if(a.data){const{profiles:s}=a.data;s.forEach(e=>{e.groups=e.groupEntries.map(e=>e.group.name)}),e("LOAD_USERS",s),t(s)}else s(new Error("Error retrieving users: no data"));o()},e=>{s(e)})}),loadTasks:({commit:e})=>new Promise((t,s)=>{Ja({type:Ae.TASKS.method,url:Ae.TASKS.url,needAuth:!0},(a,o)=>{a.data?(e("LOAD_TASKS",a.data),t(a)):s(new Error("Error retrieving tasks: no data")),o()},e=>{s(e)})}),acceptTask:(e,t)=>new Promise((e,s)=>{Ja({type:Ae.TASKS_ACCEPT.method,url:Ae.TASKS_ACCEPT.url.replace("{id}",t),needAuth:!0},(t,a)=>{t.data?e(t.data):s(new Error("Error accepting tasks: no data")),a()},e=>{s(e)})}),denyTask:(e,{id:t,deniedMessage:s})=>new Promise((e,a)=>{Ja({type:Ae.TASKS_DENY.method,url:Ae.TASKS_DENY.url.replace("{id}",t),needAuth:!0,params:{deniedMessage:s}},(t,s)=>{t.data?e(t.data):a(new Error("Error denying tasks: no data")),s()},e=>{a(e)})}),loadSenders:({commit:e})=>new Promise((t,s)=>{Ja({type:Ae.EMAIL_SENDERS.method,url:Ae.EMAIL_SENDERS.url,needAuth:!0},(a,o)=>{if(a.data){const s=a.data;e("LOAD_SENDERS",s),t(s)}else s(new Error("Error retrieving senders: no data"));o()},e=>{s(e)})}),modifyUsersGroups:({dispatch:e},{users:t,groups:s,action:a})=>new Promise((o,r)=>{if(t&&t.length>0&&s&&s.length>0){const i=a===Ce.ADD_GROUPS_ACTION?$e.REQUEST_GROUP:a===Ce.REMOVE_GROUPS_ACTION?$e.REMOVE_GROUP:"";Ja({type:Ae.REQUEST_USERS_GROUPS.method,url:Ae.REQUEST_USERS_GROUPS.url.replace("{actionParam}",i),needAuth:!0,params:{usernames:t,groupnames:s}},(t,s)=>{o(t),s(),e("loadUsers")},e=>{r(e)})}else r(new Error("Empty users or groups"))}),loadGroups:({commit:e})=>new Promise((t,s)=>{Ja({type:Ae.GROUPS.method,url:Ae.GROUPS.url,needAuth:!0},function(){var a=o()((function*(a,o){if(a.data){const{groups:s}=a.data;e("LOAD_GROUPS",s),t(s),o()}else s(new Error("Error retrieving groups: no data")),o()}));return function(e,t){return a.apply(this,arguments)}}(),e=>{s(e)})}),loadGroup:({commit:e},t=null)=>new Promise((s,a)=>{if(null===t){const t={description:"",iconUrl:"",name:"",observables:[],optIn:!1,preliminary:!1,projectUrls:[],roleRequirement:"ROLE_USER",uploadLimit:0,worldview:!1};e("LOAD_GROUP",t),s(t)}else Ja({type:Ae.GET_GROUP.method,url:Ae.GET_GROUP.url.replace("{name}",t),needAuth:!0},(t,o)=>{if(t.data){const{group:a}=t.data;e("LOAD_GROUP",a),s(a)}else a(new Error("Error retrieving groups: no data"));o()},e=>{a(e)})}),resetGroup({commit:e}){e("LOAD_GROUP",null)},createGroup:({dispatch:e},t)=>new Promise((s,a)=>{Ja({type:Ae.CREATE_GROUP.method,url:Ae.CREATE_GROUP.url,params:t,needAuth:!0},(t,a)=>{s(t),a(),e("loadGroups")},e=>{a(e)})}),updateGroup:({dispatch:e},t)=>new Promise((s,a)=>{Ja({type:Ae.UPDATE_GROUP.method,url:Ae.UPDATE_GROUP.url.replace("{name}",t.name),params:t,needAuth:!0},(t,a)=>{s(t),a(),e("loadGroups")},e=>{a(e)})}),deleteGroup:({dispatch:e},t)=>new Promise((s,a)=>{Ja({type:Ae.DELETE_GROUP.method,url:Ae.DELETE_GROUP.url.replace("{name}",t),needAuth:!0},(t,a)=>{s(t),a(),e("loadGroups")},e=>{a(e)})}),loadNodes:({commit:e})=>new Promise((t,s)=>{Ja({type:Ae.NODES.method,url:Ae.NODES.url,needAuth:!0},(a,o)=>{if(a.data){const{nodes:s}=a.data;e("LOAD_NODES",s),t(s)}else s(new Error("Error retrieving groups: no data"));o()},e=>{s(e)})}),loadNode:({commit:e},t)=>new Promise((s,a)=>{Ja({type:Ae.GET_NODE.method,url:Ae.GET_NODE.url.replace("{name}",t),needAuth:!0},(t,o)=>{if(t.data){const{node:a}=t.data;e("LOAD_NODE",a),s(a)}else a(new Error("Error retrieving groups: no data"));o()},e=>{a(e)})}),createNode:({dispatch:e},t)=>new Promise((s,a)=>{Ja({type:Ae.CREATE_NODE.method,url:Ae.CREATE_NODE.url,params:t,needAuth:!0},(t,a)=>{s(t),a(),e("loadNodes")},e=>{a(e)})}),updateNode:({dispatch:e},t)=>new Promise((s,a)=>{Ja({type:Ae.UPDATE_NODE.method,url:Ae.UPDATE_NODE.url.replace("{name}",t.name),params:t,needAuth:!0},(t,a)=>{s(t),a(),e("loadNodes")},e=>{a(e)})}),deleteNode:({dispatch:e},t)=>new Promise((s,a)=>{Ja({type:Ae.DELETE_NODE.method,url:Ae.DELETE_NODE.url.replace("{name}",t),needAuth:!0},(t,a)=>{s(t),a(),e("loadNodes")},e=>{a(e)})}),downloadNodeCertificate:({commit:e},t)=>new Promise((s,a)=>{Ja({type:Ae.GET_NODE_CERTIFICATE.method,url:Ae.GET_NODE_CERTIFICATE.url.replace("{name}",t),params:{responseType:"blob"},needAuth:!0},(t,a)=>{const o=new Blob([t.data],{type:t.data.type}),r=window.URL.createObjectURL(o),i=document.createElement("a");i.href=r;const n=t.headers["content-disposition"];let l="unknown";if(n){const e=n.match(/filename=(.+)/);2===e.length&&([,l]=e)}i.setAttribute("download",l),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(r),e("CERT_REQUEST_SUCCESS"),s(t),a()},t=>{e("CERT_REQUEST_FAILURE"),a(t)})}),loadNewNode:({commit:e})=>new Promise(t=>{const s={name:"",email:"",nodeUrl:"",groups:[]};e("LOAD_NEW_NODE",s),t(s)}),getStats:({commit:e,dispatch:t})=>(t("view/setSpinner",X()(X()({},we.SPINNER_LOADING),{},{owner:"layout"}),{root:!0}),new Promise((s,a)=>{de.get("/hub/ping").then(a=>{t("view/setSpinner",X()(X()({},we.SPINNER_STOPPED),{},{owner:"layout"}),{root:!0}),e("stat_success",a.data),s(a)}).catch(s=>{t("view/setSpinner",X()(X()({},we.SPINNER_ERROR),{},{owner:"layout"}),{root:!0}),e("stat_failure"),a(s)})}))},fo={namespaced:!0,state:po,getters:mo,mutations:ho,actions:go};r["a"].use(J["a"]);const bo=new J["a"].Store({modules:{auth:ro,view:uo,admin:fo}});var vo=bo,ko=function(){return wo.apply(this,arguments)};function wo(){return wo=o()((function*(){const e="function"===typeof vo?yield vo({Vue:r["a"]}):vo,t="function"===typeof Qa?yield Qa({Vue:r["a"],store:e}):Qa;e.$router=t;const s={router:t,store:e,render:e=>e(ae),el:"#q-app"};return{app:s,store:e,router:t}})),wo.apply(this,arguments)}const Eo="/hub/ui/",_o=/\/\//,Co=e=>(Eo+e).replace(_o,"/");function So(){return qo.apply(this,arguments)}function qo(){return qo=o()((function*(){const{app:e,store:t,router:s}=yield ko();let a=!1;const o=e=>{a=!0;const t=Object(e)===e?Co(s.resolve(e).route.fullPath):e;window.location.href=t},i=window.location.href.replace(window.location.origin,""),n=[be,pe];for(let c=0;!1===a&&c<n.length;c++)if("function"===typeof n[c])try{yield n[c]({app:e,router:s,store:t,Vue:r["a"],ssrContext:null,redirect:o,urlPath:i,publicPath:Eo})}catch(l){return l&&l.url?void(window.location.href=l.url):void console.error("[Quasar] boot error:",l)}!0!==a&&new r["a"](e)})),qo.apply(this,arguments)}So()},"31e4":function(e,t,s){},"38c2":function(e,t,s){"use strict";var a=s("064a"),o=s.n(a);o.a},"3a30":function(e,t,s){"use strict";var a=s("e6c6"),o=s.n(a);o.a},"3bcb":function(e,t,s){},4405:function(e,t,s){"use strict";var a=s("2674"),o=s.n(a);o.a},4406:function(e,t,s){"use strict";var a=s("8ae5"),o=s.n(a);o.a},4678:function(e,t,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=r(e);return s(t)}function r(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id="4678"},7187:function(e,t,s){"use strict";var a=s("b559"),o=s.n(a);o.a},"76eb":function(e,t,s){},7820:function(e,t,s){},"78b3":function(e,t,s){},"7e6d":function(e,t,s){},8359:function(e,t,s){},"8ae5":function(e,t,s){},"8bf4":function(e,t,s){"use strict";var a=s("7820"),o=s.n(a);o.a},"96c3":function(e,t,s){},a3c1:function(e,t,s){"use strict";var a=s("19b3"),o=s.n(a);o.a},b074:function(e,t,s){},b29d8:function(e,t,s){"use strict";var a=s("76eb"),o=s.n(a);o.a},b559:function(e,t,s){},ba08:function(e,t,s){},ba74:function(e,t,s){},c097:function(e,t,s){"use strict";var a=s("b074"),o=s.n(a);o.a},c8d1:function(e,t,s){"use strict";var a=s("d124"),o=s.n(a);o.a},c9a9:function(e,t,s){"use strict";var a=s("dd56"),o=s.n(a);o.a},d124:function(e,t,s){},d6f5:function(e,t,s){"use strict";var a=s("f30a"),o=s.n(a);o.a},dd56:function(e,t,s){},e1c2:function(e,t,s){"use strict";var a=s("8359"),o=s.n(a);o.a},e6c6:function(e,t,s){},f30a:function(e,t,s){},fef8:function(e,t,s){"use strict";var a=s("31e4"),o=s.n(a);o.a}});