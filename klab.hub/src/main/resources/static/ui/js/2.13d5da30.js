(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"64a0":function(t,e,n){},"67c9":function(t,e,n){"use strict";n("8ddd")},"8ddd":function(t,e,n){},"90dc":function(t,e,n){"use strict";n("64a0")},bc13:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("khub-default-container",[t._t("default",(function(){return[t._l(t.notifications,(function(n,i){return e("div",{key:i},[e("KlabNote",{attrs:{notification:n,closeConfirm:""},on:{buttonCloseFunction:t.deleteNotification}})],1)})),e("h2",{staticClass:"kh-h-first"},[t._v(t._s(t.$t("contents.homeTitle")))]),e("div",{domProps:{innerHTML:t._s(t.$t("contents.homeContent1"))}}),null!==t.dynamicContents?e("div",{staticClass:"kh-app-wrapper"},t._l(t.dynamicContents,(function(n,i){return e("div",{key:i},[e("div",{staticClass:"kh-app-content row items-center"},[e("div",{staticClass:"kh-img col",on:{click:function(e){return t.gotoRemoteEngine(n.links[0][0])}}},[e("img",{attrs:{src:n.icon,title:`${n.title}${""!==n.links[0][1]?`(${n.links[0][1]})`:""}`}})]),e("div",{staticClass:"kh-app-description col"},[e("div",{staticClass:"kh-title row"},[t._v(t._s(n.title))]),e("div",{staticClass:"kh-content row",domProps:{innerHTML:t._s(n.content)}}),t._l(n.links,(function(n,i){return e("div",{key:i,staticClass:"kh-links row"},[""!==n[1]?e("a",{staticClass:"kh-app-link",attrs:{href:n[0].replace("${token}",t.token),target:"_blank"}},[t._v(t._s(n[1]))]):t._e()])}))],2)])])})),0):t._e(),e("div",{domProps:{innerHTML:t._s(t.$t("contents.homeContent2"))}})]}))],2)},o=[],s=n("cd23"),a=n("7cca"),r=n("2f62"),c=n("f2e8"),l=n.n(c),u=function(){var t=this,e=t._self._c;return e("div",[e("q-banner",{staticClass:"doc-note",class:t.noteType,attrs:{rounded:""},scopedSlots:t._u([{key:"action",fn:function(){return[e("q-btn",{attrs:{flat:"",label:t.$t("labels.dismiss")},on:{click:function(e){t.closeConfirm?t.open=!0:t.dismissFunction}}}),t.notification&&t.notification.navigateTo?e("span",[e("router-link",{staticClass:"kh-banner-btn",attrs:{title:"Download certificate",to:"/profile/certificate"},scopedSlots:t._u([{key:"default",fn:function({href:n,route:i,navigate:o}){return[e("q-btn",{attrs:{href:n,flat:""},on:{click:o}},[t._v("\n                  GO TO "+t._s(i.name)+"\n              ")])]}}],null,!1,1959993761)})],1):t._e()]},proxy:!0}])},[e("div",{staticClass:"doc-note__title"},[t._v(t._s(t.notification?t.notification.title?t.notification.title:t.$t(`titles.${t.notification.tag.name}`):t.title))]),t.notification||t.textHtml?e("span",{domProps:{innerHTML:t._s(t.message)}}):t._e(),t.notification||t.textHtml?t._e():e("span",[t._v(t._s(t.message))])]),e("q-dialog",{model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[e("q-card",[e("q-card-section",{staticClass:"q-pb-xs",attrs:{align:"center"}},[e("q-icon",{attrs:{name:"error_outline",size:"md"}}),e("div",{staticClass:"text-h6"},[t._v(" "+t._s(t.$t("titles.areYouSure"))+"\n          ")])],1),e("q-separator",{attrs:{spaced:""}}),e("q-card-section",{staticClass:"q-pb-xs",attrs:{align:"center"}},[e("p",{staticStyle:{"font-size":"15px"},attrs:{size:"md"}},[t._v("By closing this alert, you acknowledge that you won't see this message again.\n          ")])]),e("q-separator",{attrs:{spaced:""}}),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:t.$t("labels.cancel"),color:"k-main",outline:""}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{"margin-right":"0.1rem"},attrs:{label:t.$t("labels.ok"),color:"k-main"},on:{click:t.dismissFunction}})],1)],1)],1)],1)},p=[],d={name:"KlabNote",props:{notification:Object,title:String,text:String,textHtml:Boolean,type:String,closeConfirm:Boolean,buttonCloseFunction:Function,routerLink:String},data(){return{open:"false"}},computed:{noteType(){return"doc-note--"+(this.notification?this.notification.type.toLowerCase():this.type)},message(){return this.notification?this.notification.message?this.notification.message:this.$t(`contents.${this.notification.tag.name}`):this.text},routerLink(){return this.notification?this.notification.navigateTO?this.notification.navigateTo:this.$t(`routerLink.${this.notification.tag.name}`):""}},methods:{dismissFunction(){this.$emit("buttonCloseFunction",this.notification.id)}},watch:{},mounted(){}},f=d,h=(n("67c9"),n("2877")),m=n("54e1"),g=n("9c40"),k=n("0016"),_=n("24e8"),C=n("f09f"),b=n("a370"),v=n("eb85"),$=n("4b7e"),y=n("7f67"),w=n("eebe"),N=n.n(w),q=Object(h["a"])(f,u,p,!1,null,null,null),x=q.exports;N()(q,"components",{QBanner:m["a"],QBtn:g["a"],QIcon:k["a"],QDialog:_["a"],QCard:C["a"],QCardSection:b["a"],QSeparator:v["a"],QCardActions:$["a"]}),N()(q,"directives",{ClosePopup:y["a"]});var S={name:"KhubHome",components:{KhubDefaultContainer:s["a"],KlabNote:x},data(){return{loadContent:!1,dynamicContents:null}},computed:{...Object(r["c"])({profile:"auth/profile",notifications:"auth/notifications"}),token(){return localStorage.getItem(a["v"].TOKEN)}},methods:{getContents(){this.loadContent=!0;const t=this.profile.agreements[0].agreement.groupEntries.map((t=>`groups[]=${t.group.name}`)).join("&");l()(`${a["u"].GET_KHUB_MAIN_LINKS.url}?type=${a["k"].HUB_MAIN_LINK}${""!==t?`&${t}`:""}`,{param:"callback",timeout:5e3},((t,e)=>{t?console.error(`Error loading notifications: ${t.message}`):e.length>0?this.dynamicContents=e:console.debug("No contents"),this.loadContent=!1}))},gotoRemoteEngine(t){window.open(t.replace("${token}",this.token),"_blank").focus()},deleteNotification(t){this.$store.dispatch("auth/deleteNotification",{id:t}).then((()=>{this.$store.dispatch("auth/getNotifications",{username:this.profile.name})}))}},watch:{profile(){!this.dynamicContents&&this.profile&&this.profile.agreements&&this.profile.agreements[0].agreement.groupEntries&&(this.getContents(),this.$store.dispatch("auth/getNotifications",{username:this.profile.name}))}},mounted(){this.profile&&this.profile.agreements&&this.profile.agreements[0].agreement.groupEntries&&(this.getContents(),this.$store.dispatch("auth/getNotifications",{username:this.profile.name}))}},T=S,H=(n("90dc"),Object(h["a"])(T,i,o,!1,null,null,null));e["default"]=H.exports}}]);